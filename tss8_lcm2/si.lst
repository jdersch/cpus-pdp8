
      /EDUSYSTEM 50 MONITOR FOR MELROSE HIGH SCHOOL #495AB                Page 1


    1             /EDUSYSTEM 50 MONITOR FOR MELROSE HIGH SCHOOL #495AB
    2             /COPYRIGHT 1975
    3             /DIGITAL EQUIPMENT CORPORATION, MAYNARD, MASS.
    4             /
    5             /THIS SECTION DEFINES THE HARDWARE CONFIGURATION ON WHICH INDIVIDUAL
    6             /EDUSYSTEM 50 MONITORS ARE TO RUN.
    7             /FOR EACH STATEMENT, THE COMMENT INDICATES THE POSSIBLE RESPONSES.
    8             
    9       0002  CPU=    2       /1 IF CPU IS PDP-8; 0 IF CPU IS PDP-8/I;
   10                             /2 IF CPU IS PDP-8/E
   11             
   12       0070  CORMEM= 70      /HIGHEST DATA FIELD SELECT. FOR 12K SYSTEM,
   13                             /RESPOND 20, FOR 16K SYSTEM, RESPOND 30, ETC. (70 MAX)
   14             
   15       0000  PHONES= 0       /1 IF DC08 INCLUDES 689AG;
   16                             /0 IF IT DOES NOT OR IF TTY INTERFACING IS OTHER THAN DC08
   17             
   18       0000  EAE=    0       /20 IF PROCESSOR INCLUDES EAE; 0 IF IT DOES NOT
   19             
   20       0000  RF08=   0       /40 IF SYSTEM DISC IS DF32; 0 IF SYSTEM DISK IS RF08
   21             
   22       0000  RS08=   0       /NUMBER OF DISCS ON THE SYSTEM, WHETHER DF/DS OR RF/RS.
   23                             /RESPOND WITH 1, 2, 3, OR 4.
   24             
   25       0001  RKSYS=  1       /1 IF SYSTEM USES RK05 DRIVE 0 AS SYSTEM / SWAP
   26             
   27       0001  PUNCH=  1       /1 IF SYSTEM INCLUDES PUNCH; 0 IF IT DOES NOT
   28             
   29       0001  TC01=   1       /1 IF SYSTEM INCLUDES DECTAPE(S); 0 IF IT DOES NOT
   30             
   31       0000  RK05=   0       /NUMBER OF RK05 CARTRIDGE DISK DRIVES ON THE SYSTEM; 0 TO 4
   32             
   33       0000  CDR=    0       /1 IF SYSTEM INCLUDES CARD READER; 0 IF IT DOES NOT
   34             
   35       0000  LPT=    0       /1 IF SYSTEM INCLUDES LINE PRINTER; 0 IF NO LINE PRINTER
   36             
   37             DECIMAL /MONITOR CAPACITY FOR THIS SYSTEM
   38             
   39       0024  JOBMAX= 20      /NUMBER OF SIMULTANEOUS USERS (20 MAXIMUM)
   40             
   41             /THE FOLLOWING ENTRIES DEFINE THE NUMBER OF TERMINALS
   42             /ATTACHED TO THE SYSTEM, AND ALSO THE METHOD OF INTERFACING
   43             
   44       0001  CONTTY= 1       /WE ALWAYS HAVE A CONSOLE (K00)
   45             
   46       0000  DC08A=  0       /NUMBER OF TERMINALS INTERFACED VIA DC08A (PDP-8/I ONLY, 19 MAX.)
   47             
   48       0000  DC08LO= 0       /LOWEST HARDWARE LINE NUMBER UTILIZED ON DC08A; USUALLY 0
   49             
   50       0000  PT08=   0       /NUMBER OF TERMINALS INTERFACED VIA PT08 (PDP-8 & PDP-8/I ONLY)
   51             
   52       0010  KL8=    8       /NUMBER OF ADDITIONAL TERMINALS INTERFACED VIA KL8 (PDP-8/E ONLY, 19 MAX.)

      /EDUSYSTEM 50 MONITOR FOR MELROSE HIGH SCHOOL #495AB                Page 2


   53             
   54             /PARAMETERS VERSION 8.24 (01-JANUARY-75)
   55             /
   56             /
   57             /
   58             /
   59             /COPYRIGHT (C) 1975
   60             /DIGITAL EQUIPMENT CORPORATION, MAYNARD, MASS.
   61             /
   62             /
   63             /THIS SOFTWARE IS FURNISHED UNDER A LICENSE FOR USE ONLY
   64             /ON A SINGLE COMPUTER SYSTEM AND MAY BE COPIED ONLY WITH
   65             /THE  INCLUSION  OF  THE  ABOVE  COPYRIGHT NOTICE.  THIS
   66             /SOFTWARE, OR ANY OTHER COPIES THEREOF,  MAY NOT BE PRO-
   67             /VIDED OR OTHERWISE  MADE AVAILABLE TO ANY  OTHER PERSON
   68             /EXCEPT FOR USE ON SUCH SYSTEM  AND TO ONE WHO AGREES TO
   69             /THESE  LICENSE  TERMS.  TITLE TO AND  OWNERSHIP  OF THE
   70             /SOFTWARE SHALL REMAIN IN DEC.
   71             /
   72             /THE  INFORMATION IN THIS  DOCUMENT IS SUBJECT TO CHANGE
   73             /WITHOUT NOTICE AND SHOULD  NOT BE  CONSTRUED  AS A COM-
   74             /MITMENT BY DIGITAL EQUIPMENT CORPORATION.
   75             /
   76             /DEC   ASSUMES   NO   RESPONSIBILITY   FOR  THE  USE  OR
   77             /RELIABILITY  OF  ITS SOFTWARE ON EQUIPMENT WHICH IS NOT
   78             /SUPPLIED BY DEC.

      /EDUSYSTEM 50 MONITOR FOR MELROSE HIGH SCHOOL #495AB                Page 3


   79             
   80             OCTAL
   81       0000  PLT=0
   82             IFNZRO CPU < IFNZRO DC08A <ILLEGAL CONFIGURATION>>
   83             IFNZRO 24-JOBMAX&4000 <ILLEGAL CONFIGURATION>
   84             IFNZRO 23-KL8-PT08&4000 <ILLEGAL CONFIGURATION>
   85             IFNZRO 24-DC08A&4000 <ILLEGAL CONFIGURATION>
   86       0000  IFZERO DC08A <D689=0>
   87             IFNZRO DC08A < IFNZRO PHONES <D689=4>
   88                     IFZERO PHONES <D689=0>>
   89       0010  NULINE=DC08A+PT08+KL8           /EVERY TERMINAL EXCEPT THE CONSOLE
   90       0005  SWDEX=5                         /DISK TRACK OF THE FIRST USER SWAP TRACK
   91       0005  STOMIN=5                        /MINIMUM # FREE STORAGE BLOCK FOR NEWJOB
   92             IFZERO RKSYS <
   93             IFZERO RF08-40 <
   94             IFZERO RS08-1 <DSKSIZ=10>
   95             IFZERO RS08-2 <DSKSIZ=20>
   96             IFZERO RS08-3 <DSKSIZ=30>
   97             IFZERO RS08-4 <DSKSIZ=40>
   98             DSKEXT=DSKSIZ-1>
   99             IFZERO RF08 <DSKSIZ=RS08^100    /# 4K DISC TRACKS
  100             DSKEXT=RS08^100+77> >
  101       0400  IFNZRO RKSYS<DSKSIZ=400         /MAX 4K DISK TRACKS SUPPORTED BY FILESYSTEM
  102       0477  DSKEXT=477>                     /NO IDEA WHAT THIS IS FOR AND IT'S NOT USED ANYWHERE...
  103             
  104       0144  CLOCKR=144                      /MILLISECONDS PER TICK
  105       1130  TICMIN=1130                     /600 TICKS PER MINUTE
  106       0322  INCLK2=0322                     /INITIAL CLOCK
  107       7400  INCLK1=7400
  108       0012  TICSPS=12                       /NUMBER OF SYSTEM TICKS PER SECOND
  109       0010  INIDEX=10                       /INIT DISC EXTENSION
  110       0030  TS8DEX=30                       /FIELD 0 DISC EXTENSION*2^3
  111       0000  ERPDEX=0                        /ERP DISC EXTENSION*4
  112       0000  ERPWC=0                         /ERP WORD COUNT
  113       0004  FIPDEX=4                        /FIP DISC EXTENSION*4
  114       0000  FIPWC=0                         /FIP WORD COUNT
  115       0000  SIDEX=ERPDEX                    /SI DISC EXTENSION*4
  116       0000  SIWC=ERPWC                      /SI WORD COUNT
  117       0002  LIBACT=2                        /LIBRARY ACCOUNT #
  118       4000  BRKINI=4000                     /INITIAL USER BREAK MASK
  119             

      /EDUSYSTEM 50 MONITOR FOR MELROSE HIGH SCHOOL #495AB                Page 4


  120             
  121             /IOT DEFINITIONS
  122             
  123             IFNZRO DC08A <                  /DC08A,DL8I IOTS
  124             TTIL=6401                       /INCREMENT LINE REGISTER
  125             TTI=6402                        /TELETYPE INPUT COMMAND
  126             TTO=6404                        /TELETYPE OUTPUT COMMAND
  127             TTCL=6411                       /CLEAR LINE REGISTER
  128             TTLL=6412                       /LOAD LINE REGISTER, CLEAR AC
  129             TTRL=6414                       /READ LINE REGISTER
  130             T1SKP=6421                      /SKIP ON CLOCK FLAG
  131             T1OFF=6422                      /TURN CLOCK OFF
  132             T1ON=6424                       /TURN CLOCK ON
  133             TTIR=6461                       /INCREMENT THE R REG.
  134             TTCR=6471                       /CLEAR THE R REG.
  135             TTLR=6472 >                     /LOAD THE R REG.
  136             /EXTENDED MEMORY
  137             
  138       6201  CDF=6201                        /CHANGE TO DATA FIELD 0
  139       6202  CIF=6202                        /CHANGE TO INSTRUCTION FIELD 0
  140       6204  CINT=6204                       /CLEAR USER IOT
  141             
  142       6214  RDF=6214                        /READ DATA FIELD
  143       6224  RIF=6224                        /READ INSTRUCTION FIELD
  144       6234  RIB=6234                        /READ INTERRUPT BUFFER
  145       6244  RMF=6244                        /RESTORE MEMORY FIELD
  146       6254  SINT=6254                       /SKIP ON USER IOT
  147       6264  CUF=6264                        /USER FLAG OFF
  148       6274  SUF=6274                        /USER FLAG ON
  149             
  150             
  151             /EAE
  152       7405  MUY=7405                        /MULTIPLY
  153       7407  DVI=7407                        /DIVIDE
  154       7411  NMI=7411                        /NORMALIZE
  155       7413  SHL=7413                        /SHIFT ARITHMETIC LEFT
  156       7415  ASR=7415                        /ARITHMETIC SHIFT RIGHT
  157       7417  LSR=7417                        /LOGICAL SHIFT RIGHT
  158       7421  MQL=7421                        /LOAD MQ
  159       7403  SCL=7403                        /STEP COUNTER LOAD FROM MEMORY
  160       7441  SCA=7441                        /STEP COUNTER TO AC
  161       7501  MQA=7501                        /MQ TO AC
  162             
  163             IFZERO CPU-2 <
  164             
  165       7451  DPSZ=7451                       /MODE B ONLY - SKIP IF AC&MQ ARE CLEAR
  166       7447  SWBA=7447                       /CHANGE MODE TO A
  167       7431  SWAB=7431                       /CHANGE MODE TO B (ALSO DOES MQL)
  168       7403  ACS=7403                        /AC(7:11) TO SC; AC CLEARED
  169       6006  SGT=6006                        /SKIP ON GT FLAG
  170                     >
  171             
  172             
  173             
  174             /LINE PRINTER IOTS
  175       6661  LSF=6661                        /SKIP ON CHAR FLAG SET
  176       6662  LCF=6662                        /CLEAR CHAR FLAG

      /EDUSYSTEM 50 MONITOR FOR MELROSE HIGH SCHOOL #495AB                Page 5


  177       6663  LSRP=6663                       /SKIP ON NOT READY OR ON ERROR
  178       6664  LLC=6664                        /TRANSMIT CHAR TO PRINTER
  179       6665  LSP=6665                        /SET PROGRAM INTERRUPT; LP08/LE8
  180       6666  LPC=6666                        /TRANSMIT CHAR &CLEAR FLAG
  181       6667  LCP=6667                        /CLEAR PROGRAM INTERRUPT
  182       6665  LIE=6665                        /AC11 TO INTERRUPT ENABLE; LS08/LS8E
  183             
  184             /CTY
  185             
  186       6044  TPC=6044                        /LOAD TELEPRINTER AND PRINT
  187             
  188             /DISC (DF32)
  189             
  190       6601  DCMA=6601                       /CLEAR
  191       6603  DMAR=6603                       /READ
  192       6605  DMAW=6605                       /WRITE
  193       6611  DCEA=6611                       /CLEAR DISC EXTENDED ADDRESS
  194       6615  DEAL=6615                       /LOAD EXTENDED ADDRESS
  195       6621  DFSE=6621                       /SKIP ON ERROR
  196       6622  DFSC=6622                       /SKIP ON COMPLETION
  197       6616  DEAC=6616                       /READ EXTENDED ADDRESSES
  198             
  199             /DISC (RF08)
  200             
  201       6612  DSAC=6612
  202       6614  DORS=6614
  203       6615  DIML=6615
  204       6616  DIMA=6616
  205       6641  DCXA=6641
  206       6643  DXAL=6643
  207             
  208             /CARD READER IOT'S
  209       6631  RCSF=6631
  210       6632  RCRA=6632
  211       6634  RCRB=6634
  212       6635  RCNO=6635                       /8E ONLY
  213       6636  RCRC=6636                       /8E ONLY
  214       6637  RCNI=6637                       /8E ONLY
  215       6671  RCSD=6671
  216       6672  RCSE=6672
  217       6674  RCRD=6674
  218       6675  RCSI=6675                       /8E ONLY
  219       6677  RCTF=6677                       /8E ONLY
  220             
  221             /RK05 IOT'S
  222             
  223             IFZERO PHONES<
  224       6741  DSKP=   6741
  225       6742  DCLR=   6742
  226       6743  DLAG=   6743
  227       6744  DLCA=   6744
  228       6745  DRST=   6745
  229       6746  DLDC=   6746
  230       6747  DMAINT= 6747 >
  231             IFNZRO PHONES <
  232             DSKP=   6751
  233             DCLR=   6752

      /EDUSYSTEM 50 MONITOR FOR MELROSE HIGH SCHOOL #495AB                Page 6


  234             DLAG=   6753
  235             DLCA=   6754
  236             DRST=   6755
  237             DLDC=   6756
  238             DMAINT= 6757 >
  239             
  240             /DECTAPE
  241             
  242       6761  DTRA=6761
  243       6762  DTCA=6762
  244       6764  DTXA=6764
  245       6771  DTSF=6771
  246       6772  DTRB=6772
  247       6774  DTLB=6774
  248             
  249             
  250             IFZERO CPU <
  251             /KW8I           REAL TIME CLOCK
  252             
  253             CECI=6137                       /CLEAR AND ENABLE CLOCK AND INTERRUPT
  254             CSCF=6133                       /SKIP AND CLEAR FLAG IF FLAG
  255             >
  256             IFZERO CPU-1 <
  257             CECI=6315                       /CLOCK ENABLE
  258             CSCF=6301                       /SKIP ON CLOCK FLAG
  259             CCF=6302                        /CLEAR CLOCK FLAG, CLEAR ENABLE AND CLEAR BUFFER
  260             CLB=6304 >                      /LOAD BUFFER FROM AC
  261             
  262             IFZERO CPU-2 <
  263       6131  CECI=6131                       /CLOCK ENABLE
  264       6133  CSCF=6133                       /SKIP AND CLEAR FLAG IF FLAG
  265             
  266             /POWER FAIL IOT
  267             
  268       6102  SPL=6102                        /SKIP IF POWER LOW
  269             
  270             / 8/E PROCESSOR IOT
  271       6003  SRQ=6003                        /SKIP ON INTERRUPT REQUEST
  272       6004  GTF=6004                        /LINK TO AC0, GT FLAG TO AC1
  273       6005  RTF=6005                        /AC0 TO LINK, AC1 TO GT FLAG
  274       6007  CAF=6007 >                      /CLEAR ALL FLAGS
  275             
  276             IFZERO CPU-4 <
  277             CLLE=6135                       /AC11 TO INTERRUPT ENABLE FOR CLOCK
  278             CLCL=6136                       /CLEAR CLOCK FLAG
  279             CLSK=6137                       /SKIP ON CLOCK FLAG
  280             SPL=6102                        /SKIP POWER LOW
  281             CAL=6133 >                      /CLEAR AC LOW FLAG
  282             
  283                     IFNZRO DC08A <
  284             
  285             /689AG
  286             SRF=6701                        /SKIP IF RING FLAG
  287             SCF=6711                        /SKIP IF CARRIER FLAG
  288             DFCRF=6742                      /CLEAR RING FLAG
  289             CTG=6721                        /CLEAR GROUP COUNTER
  290             RRS=6702                        /READ RING STATUS

      /EDUSYSTEM 50 MONITOR FOR MELROSE HIGH SCHOOL #495AB                Page 7


  291             ITG=6731                        /INCREMENT GROUP COUNTER
  292             STR=6722                        /SET TERMINAL READY
  293             EDF=6704                        /ENABLE DATAPHONE FEATURES
  294             DDF=6714                        /DISABLE DATAPHONE FEATURES
  295             CTR=6724                        /CLEAR TERMINAL FLAG
  296             CCF=6741                        /CLEAR CARRIER FLAG
  297             RCS=6712                        /READ CARRIER STATUS
  298                     >

      /EDUSYSTEM 50 MONITOR FOR MELROSE HIGH SCHOOL #495AB                Page 8


  299             
  300             
  301             /FIP IOTS (IN ABBREVIATED FORM)
  302             
  303       0006  SEGS=0006                       /RETURN NUMBER OF FREE SEGMENTS ON DISK
  304       0040  ASD=0040                        /ASSIGN
  305       0042  REL=0042                        /RELEASE
  306       0200  REN=0200                        /RENAME
  307       0201  OPEN=0201                       /OPEN
  308       0202  CLOS=0202                       /CLOSE
  309       6603  RFILE=6603                      /READ FILE
  310       0204  PROT=0204                       /PROTECT
  311       6605  WFILE=6605                      /WRITE FILE
  312       0210  CRF=0210                        /CREATE
  313       0211  EXT=0211                        /EXTEND
  314       0212  RED=0212                        /REDUCE
  315       6613  FINF=6613                       /FILE INFORMATION
  316       0214  LIN=0214                        /LOGIN
  317       0215  LOUT=0215                       /LOGOUT
  318       6616  WHO=6616                        /WHO
  319             /DEVICE DATA BLOCK
  320             
  321       0000  DDBSTS=0                        /WORD 1,  STATUS AND UNIT NUMBER
  322       2000          DXON=2000               /XOFF SENT FLAG
  323       1000          DSI=1000                /DESTINATION IS S.I. FLAG
  324       0400          DFULL=400               /KEYBOARD BUFFER IS FULL
  325       0200          DUPL=200                /CONSOLE IN DUPLEX MODE
  326       0100          SICOM=100               /COMMAND WAITING
  327       0040          DECHO=40                /CAUSE SI TO RE-ECHO CURRENT INPUT BUFFER
  328             
  329                                             /DEVICE UNIT NUMBER IS IN BITS 6-11
  330             
  331       0001  DDBJN=1                         /WORD 2, JOB NUMBER IN 7-11
  332       0002  DDBBRK=2                        /BREAK MASK
  333       0003  DDBTIM=3                        /TIME THAT DEVICE WAS ASSIGNED
  334       0004  DDBINP=4                        /BUFFER FILL POINTER
  335       0005  DDBINC=5                        /BUFFER TOTAL COUNT
  336       0006  DDBOUC=6                        /BUFFER EMPTY COUNT
  337       0007  DDBOUP=7                        /BUFFER EMPTY POINTER

      /EDUSYSTEM 50 MONITOR FOR MELROSE HIGH SCHOOL #495AB                Page 9


  338             
  339             /JOB DATA AREA
  340             
  341       0000  JOBSTS=0                        /STATUS
  342                                             /STR0
  343       4000          JSRUN=4000              /RUN BIT
  344       2000          JSEREN=2000             /USER ERROR ENABLE
  345       1000          JCOMBD=1000             /LAST TIME THE JOB RAN AS COMPUTE BOUND
  346       0400          JSPEEK=400              /ALLOW "PEEK" AND "LOGOUT" IOT'S
  347       0200          JSACC=200               /JOB LOGGED IN UNDER PRIVILEGED ACCOUNT (1,2 OR 3)
  348       0100          JSIOT=100               /NON-RESIDENT IOT
  349       0040          JSIOTC=40               /COPY IOT RESULT TO USER
  350       0020          JSEXON=20               /EXECUTE ONLY
  351       0010          JSINER=10               /INHIBIT ERROR REPORT FROM SI. (UNTIL NEXT COMMAND)
  352                                             /BITS 9-11 ARE SYSTEM ERROR CODE
  353       0001          UUOERF=1                /IOT ERROR
  354       0002          SWPRER=2                /SWAP READ ERROR
  355       0003          SWPWER=3                /SWAP WRITE ERROR
  356       0005          DSKERR=5                /DISC ERROR
  357       0006          HUNGDV=6                /HUNG DEVICE
  358             
  359                                             /STR1
  360       4000          JSTIME=4000             /TIME IS UP
  361       2000          JSF0=2000               /FILE 0 NOT BUSY
  362       1000          JSF1=1000               /FILE 1 IS NOT BUSY
  363       0400          JSF2=400                /FILE 2 IS NOT BUSY
  364       0200          JSF3=200                /FILE 3 IS NOT BUSY
  365       0100          JSDEL=100               /KEYBOARD DELIMITER SEEN
  366       0040          JSLPT=40                /LINE PRINTER BUFFER IN USE BUT NOT FULL
  367       0020          JSTEL=20                /TELEPRINTER OUTPUT BUFFER IN USE BUT NOT FULL
  368       0010          JSPTR=10                /CHARACTERS IN READER BUFFER
  369       0004          JSPTP=4                 /PUNCH BUFFER IN USE BUT IS NOT FULL
  370       0002          JSERR=2                 /SYSTEM ERROR DETECTED
  371       0001          JSWAIT=1                /JOB NOT IN WAIT STATE
  372             
  373             
  374       0002  JOBSTB=2                        /DEVICE STATUS REGISTER (FOR RK05 DECTAPE AND CARD READER)
  375       0003  JOBWMK=3                        /WAIT MASK
  376       0005  JOBSRA=5                        /JOB RESTART ADDRESS
  377       0006  JOBERR=6                        /JOB ERROR RESTART ADDRESS
  378       0007  JOBLNK=7                        /IOT LINKAGE
  379       0010  JOBSWR=10                       /SWITCH REGISTER
  380       0011  JOBREG=11                       /PC LINK AC
  381       0014  JOBEAE=14                       /MQ MODE GT SC
  382       0016  JOBACC=16                       /ACCOUNT NUMBER
  383       0017  JOBF0=17                        /POINTER TO FILE 0 CONTROL
  384       0020  JOBF1=20                        /POINTER TO FILE 1 CONTROL
  385       0021  JOBF2=21                        /POINTER TO FILE 2 CONTROL
  386       0022  JOBF3=22                        /POINTER TO FILE 3 CONTROL
  387       0023  JOBRTM=23                       /LOW ORDER RUN TIME
  388       0024  JOBRTH=24                       /HI ORDER RUN TIME

      /EDUSYSTEM 50 MONITOR FOR MELROSE HIGH SCHOOL #495AB               Page 10


  389             
  390             /FILE CONTROL BLOCK - POINTED TO BY JOBFX, X=0,1,2,3
  391             
  392       0000  FILWPT=0                        /POINTER TO FILE RETRIEVAL WINDOW
  393       0001  FILSCT=1                        /SEGMENT NUMBER OF FIRST WINDOW ENTRY
  394       0002  FILPRO=2                        /FILE PROTECTION - BIT 9
  395       0003  FILPAR=3                        /POINTER TO RFILE OR WFILE PARAMETER BLOCK
  396       0004  FILDA=4                         /DISC ADDRESS OF RFILE OR WFILE
  397       0006  FILWC=6                         /-WORD COUNT OF RFILE OR WFILE
  398       0007  FILRES=7                        /POINTER TO FILPIF IN USER AREA
  399             
  400             /FILE RETRIEVAL WINDOW
  401             /WORD 0:        UFD LINK TO NEXT GROUP OF 7 SEGMENT POINTERS
  402             /WORDS 1-7:     SEVEN SEGMENT ADDRESSES
  403             
  404             /RFILE OR WFILE PARAMETER BLOCK - POINTED AT BY FILPAR
  405             
  406       0000  FILPFN=0                        /FUNCTION; 0603 OR 0605
  407       0001  FILPDX=1                        /DISC EXTENSION
  408       0002  FILPIF=2                        /INTERNAL FILE # (BITS 10-11) AND FIELD # (BITS 7-9)
  409       0003  FILPWC=3                        /-WORD COUNT FOR THIS TRANSFER
  410       0004  FILPCA=4                        /CORE ADDRESS FOR THIS TRANSFER
  411       0005  FILPDA=5                        /DISC ADDRESS
  412       0006  FILPRA=6                        /EXEC RETURN ADDRESS FOR THIS TRANSFER
  413       0007  FILPCT=7                        /POINTER TO FILE CONTROL BLOCK
  414             
  415             
  416             /CORE TABLE CONTROL FLAGS
  417             
  418       4000  SWAP=4000                       /SWAP REQUEST
  419       2000  LOCK=2000                       /LOCK IN CORE
  420       1000  NOTRUN=1000                     /HAS NOT BEEN SCHEDULED TO RUN
  421       0400  FIP=400                         /FILE PHANTOM
  422       0200  SI=200                          /SYSTEM INTERPRETER
  423       0140  NOHOLD=140                      /INHIBIT "NOTRUN" STATUS AFTER FOUR CONSECUTIVE FILE TRANSFERS
  424       0037  CJOB=37                         /BITS 7-11 CONTAIN THE JOB #
  425             
  426             
  427             
  428             /FIP TABLE DEFINITIONS
  429             
  430       0530  SATSIZ=530
  431       6000  JTABLE=6000
  432       6025  ENTABL=JTABLE+JOBMAX+1
  433       6265  UTABLE=ENTABL+JOBMAX+JOBMAX+JOBMAX+JOBMAX+JOBMAX+JOBMAX+JOBMAX+JOBMAX
  434       6525  RTABLE=UTABLE+JOBMAX+JOBMAX+JOBMAX+JOBMAX+JOBMAX+JOBMAX+JOBMAX+JOBMAX
  435             

      /EDUSYSTEM 50 MONITOR FOR MELROSE HIGH SCHOOL #495AB               Page 11


  436             
  437             /TABLES
  438       7001  CORTBL=7001                     /CORE ASSIGNMENT TABLE
  439       7010  L2QTB=CORTBL+7
  440       0000  IFZERO DC08A    <DCSIZE=0>
  441             IFNZRO DC08A    <DCSIZE=400>    /SIZE OF FIELD 1 DC08A CODE PLUS 689AG CODE
  442             
  443       0200  OUTREG=200                      /ACTIVE OUTPUT REGISTERS (TTY'S, LPT & PTP)
  444       0213  SKPTBL=OUTREG+NULINE+3          /START OF IOT SKIP TABLE
  445       0236  SKPTP=SKPTBL+NULINE+NULINE+3    /POSITION OF PUNCH SKIP IN SKIP TABLE
  446       0241  RINGIN=SKPTP+3                  /KEYBOARD INPUT RING BUFFER
  447       0400  ENDBUF=OUTREG+200               /END OF KEYBOARD INPUT BUFFER
  448       0057  INPUTS=ENDBUF-RINGIN%2          /NUMBER OF POSSIBLE ENTRIES IN THE KEYBOARD RING BUFFER
  449             
  450       6211  DATFLD=CDF 10                   /MONITOR DATA FIELD SELECT
  451             
  452             IFZERO EAE-20   <MQREG=1>
  453       0001  IFZERO EAE      <IFNZRO CPU&7776 <MQREG=1>
  454                              IFZERO CPU&7776 <MQREG=0>>
  455             IFNZRO OUTREG&1 <YOU GOOFED>
  456             /SUPER CRITICAL LOCATIONS
  457             /THESE LOCATIONS ARE USED TO LINK TS8, TS8II, FIP, SI AND INIT.
  458             
  459             /IT MAY BE NECESSARY TO ADJUST THEM ACCORDINGLY
  460             
  461             /DEFINED IN TS8:
  462             
  463       2573  WSCHED=2573                     /ADDRESS FOR WAIT
  464       0401  GETJTB=401                      /GETJTA
  465       1317  CORSRC=1317                     /SEARCH CORE TABLE
  466       5171  OVERLA=5171                     /FILE STUFF
  467       0574  READFI=574                      /MORE FILE STUFF
  468       0132  CONDBA=132                      /DEVTBL POINTER USED BY "PRINT" ETC.
  469       0611  RETB=611                        /RETURN A BLOCK TO FREE CORE
  470       1405  GETB=1405                       /GET A BLOCK OF FREE CORE
  471       1447  GETDB0=1447                     /GET A DDB
  472       0051  CLK1=51                         /LOW ORDER DAYTIME CLOCK
  473       0050  CLK2=50                         /HIGH ORDER DAYTIME CLOCK
  474       0166  DATE=166                        /12 BIT DATE WORD
  475       0031  TTCHAR=31                       /SAVE REG. FOR CONSOLE CHARACTERS
  476       3201  KBD00=3201                      /PROCESS KEYBOARD INPUT
  477       1205  PRINT0=1205                     /TYPE OUT A CHARACTER
  478       0562  OVRLA1=562                      /MORE FILE STUFF
  479       0605  RUNFI=605                       /SI FILE TRANSFER INITIALIZER
  480       0103  L2SF=103                        /LEVEL 2 SAVED MODE AND FIELD
  481       6572  SICLR=6572                      /SI CLEAR LINKED BUFFER
  482       2421  TIMSI=2421                      /TIMER FOR SI "COMWAT"
  483       1702  SIWAIT=1702                     /NUMBER OF SI COMMANDS BEING WAITED ON
  484       2423  TIMFIP=2423                     /TIMER FOR FIPLOCK
  485       2724  FIPLOK=2724                     /CORTBL STATUS CHECK FOR FORCE OUT
  486       0322  CLKINI=322                      /CONVERT HARDWARE CLOCK TO SYSTEM-TICKS (100MS)
  487       1602  BLT0=1602                       /BLOCK TRANSFER FROM CORE TO CORE
  488       3213  KBDSQ=3213                      /ADDRESS OF JMS TO ^S/^Q CODE

      /EDUSYSTEM 50 MONITOR FOR MELROSE HIGH SCHOOL #495AB               Page 12


  489             
  490             
  491             /DEFINED IN TS8II:
  492             
  493       0175  F1TCNT=175                      /SI DDB CHARACTER COUNT
  494       0176  F1ECNT=176                      /SI DDB EMPTY COUNT
  495       0177  F1BUF=177                       /SI DDB EMPTY BLOCK POINTER
  496       0020  DTJOB=20                        /JOB OWNING THE DECTAPE CONTROLLER
  497       0054  RKJOB=54                        /JOB OWNING RK05 CONTROLLER
  498       1175  DTSI=1175                       /SI TERMINATE A DECTAPE ON TIMER
  499       2200  DATA1=2200+DCSIZE
  500       3020  DEVTBL=DATA1+140+460            /TODO: MOVE 460 TO CONSTANT FOR RKSYS
  501       3042  DEVTBE=DEVTBL+NULINE+NULINE+2
  502       3064  JOBTBL=DEVTBE+22
  503       3111  CLKTBL=JOBTBL+JOBMAX+1
  504       3136  TTYTBL=CLKTBL+JOBMAX+1
  505       3163  PRGTBL=TTYTBL+JOBMAX+1
  506       3250  DSUTBL=PRGTBL+JOBMAX+JOBMAX+JOBMAX-7
  507       7300  RKBLK=7300                      /FIXED BLOCK FOR RK05 FILESYSTEM TRANSFERS
  508       7720  FIPBLK=7720                     /FIXED BLOCK FOR FIP IO
  509       7730  WINBAS=7730                     /ADDRESS OF THE BASIC WINDOW
  510       2420  OUTDIF=-OUTREG^2+DEVTBL         /FOR LINKING BETWEEN OUTREG AND DEVTBL
  511       0164  F1OFFJ=164                      /FOR OFF /ON COMMANDS USED BY SI
  512             IFNZRO DEVTBL&1 <YOU GOOFED>
  513             
  514             /DEFINED IN SI
  515             
  516       7270  DTSIDT=7270                     /RETURNED FROM STOPPING A DECTAPE ON TIMER
  517       7600  VERBRK=7600                     /START OF INSTALLATION DEFINED LOGIN MESSAGE
  518             /SI VERSION 8.24 (01-JANUARY-75)
  519             /
  520             /
  521             /
  522             /
  523             /COPYRIGHT (C) 1975
  524             /DIGITAL EQUIPMENT CORPORATION, MAYNARD, MASS.
  525             /
  526             /
  527             /THIS SOFTWARE IS FURNISHED UNDER A LICENSE FOR USE ONLY
  528             /ON A SINGLE COMPUTER SYSTEM AND MAY BE COPIED ONLY WITH
  529             /THE  INCLUSION  OF  THE  ABOVE  COPYRIGHT NOTICE.  THIS
  530             /SOFTWARE, OR ANY OTHER COPIES THEREOF,  MAY NOT BE PRO-
  531             /VIDED OR OTHERWISE  MADE AVAILABLE TO ANY  OTHER PERSON
  532             /EXCEPT FOR USE ON SUCH SYSTEM  AND TO ONE WHO AGREES TO
  533             /THESE  LICENSE  TERMS.  TITLE TO AND  OWNERSHIP  OF THE
  534             /SOFTWARE SHALL REMAIN IN DEC.
  535             /
  536             /THE  INFORMATION IN THIS  DOCUMENT IS SUBJECT TO CHANGE
  537             /WITHOUT NOTICE AND SHOULD  NOT BE  CONSTRUED  AS A COM-
  538             /MITMENT BY DIGITAL EQUIPMENT CORPORATION.
  539             /
  540             /DEC   ASSUMES   NO   RESPONSIBILITY   FOR  THE  USE  OR
  541             /RELIABILITY  OF  ITS SOFTWARE ON EQUIPMENT WHICH IS NOT
  542             /SUPPLIED BY DEC.

      /EDUSYSTEM 50 MONITOR FOR MELROSE HIGH SCHOOL #495AB               Page 13


  543             
  544             /SI PAGE 0
  545             FIELD 0                         /SI LOADS ONTO DISK TRACK 0
  546             
  547       0000  *0
  548 00000 7300          CLA CLL
  549 00001 6201  C6201,  CDF                     /CHANGE TO FIELD ZERO
  550 00002 5403          JMP I   .+1
  551 00003 0202  SI1,    COM
  552       4404  SKIP=   JMS I   .
  553 00004 1653          SKIPS
  554             
  555       0010          IX1=10
  556       0011          IX2=11
  557       0012          IX3=12
  558       0013          IX4=13
  559       0012          IX5=12
  560             
  561       0010          *10
  562 00010 0010          .                       /IX1
  563 00011 0011          .                       /IX2
  564 00012 0012          .                       /IX3
  565 00013 0013          .                       /IX4
  566 00014 4000  C4000,  4000
  567 00015 0200  C0200,  200
  568             NOPUNCH
  569       6622  *6622
  570             ENPUNCH
  571 06622 6603          DMAR                    /FOR BOOT-STRAPPING
  572 06623 5223          JMP     .               /FOR BOOT-STRAPPING
  573             
  574       0020  SIDATA=20                       /SYSTEM INTERPRETER DATA
  575       0020  *SIDATA
  576             
  577 00020 0020  COMPTR, .                       /POINTER TO LAST DEVTBL ENTRY SCANNED, INITIALIZE TO DEVTBL-1
  578 00021 0132  CONDVA, CONDBA                  /DEVTBL POSITION OF OUTPUT SIDE
  579 00022 0175  SITCNT, F1TCNT
  580 00023 0023  COMDSP, .                       /FIP RETURN DISPATCH
  581 00024 0024  SIFLG,  .                       /COMMAND FLAGS
  582 00025 0025  SICHAR, .                       /SAVE LAST CHAR FROM COMMAND SCAN
  583 00026 0026  SIREG,  .                       /USER AC, LINK, PC
  584 00027 0027          .
  585 00030 0030          .
  586 00031 0031  TTCHAR, .                       /TTY CHARACTER
  587             
  588       0032  CONSTANTS=SIDATA+12
  589       0032  *CONSTANTS
  590 00032 0002  C0002,  2
  591 00033 0003  C0003,  3
  592 00034 0004  C0004,  4
  593 00035 0007  C0007,  7
  594 00036 0037  C0037,  37
  595 00037 0100  C0100,  100
  596 00040 1000  C1000,  1000
  597 00041 7770  C7770,  7770
  598 00042 0010  C0010,  10
  599             

      /EDUSYSTEM 50 MONITOR FOR MELROSE HIGH SCHOOL #495AB               Page 14


  600       0043  JOBCON=CONSTANTS+11             /JOB CONTROL
  601       0043  *JOBCON
  602             
  603 00043 0043  JOBTIM, .                       /-#TICKS REMAINING TO RUN
  604 00044 3064  JOBTBA, JOBTBL                  /JOB TABLE ADDRESS
  605 00045 0006  C0006,  6
  606             
  607       0046  FRSTOR=JOBCON+3
  608       0046  *FRSTOR
  609             
  610 00046 0046  FREE,   .                       /POINTER TO HEAD OF FREE STORAGE
  611 00047 0047  FRECNT, .                       /# FREE BLOCKS AVAILABLE
  612             
  613             
  614       0050  TIMDAT=FRSTOR+2                 /CLOCK AND DATE
  615       0050  *TIMDAT
  616             
  617             /CLOCK
  618 00050 0050  CLK2,   .
  619 00051 0051  CLK1,   .
  620             
  621             
  622       0052  SCHDAT=TIMDAT+2
  623       0052  *SCHDAT                         /SCHEDULING DATA
  624             
  625 00052 0052  COMCNT, .                       /NUMBER OF COMMANDS WAITING EXECUTION
  626             
  627             
  628             
  629       0155  FIPDAT=155                      /DATA REFERENCED BY FIP
  630       0156  *FIPDAT+1
  631             
  632 00156 0400  C0400,  400
  633       0156  SEGSIZ=C0400                    /#WORDS PER SEGMENT
  634 00157 0031  FIBASE, SWDEX+JOBMAX            /BASE ADDRESS OF ALLOCATABLE DISC STORAGE
  635 00160 0160  JOB,    .                       /# OF CURRENT JOB
  636 00161 0161  JOBDAT, .                       /ADDRESS OF CURRENT JOB DATA LIST, MUST RESIDE IN DATA FIELD.
  637 00162 7000  CORTBA, CORTBL-1                /CORE ALLOCATION TABLE
  638 00163 3020  DEVTBA, DEVTBL                  /DEVICE TABLE
  639 00164 3250  DSUTBA, DSUTBL                  /USER DISC REQUEST QUEUE
  640 00165 0165  DSBUSY, .                       /DISC BUSY COUNT
  641             
  642             /THE DATE IS KEPT AS A 12 BIT NUMBER IN THE FORMAT
  643             /DATE=((YEAR-1974)*12+(MONTH-1))*31+DAY-1
  644             
  645 00166 0166  DATE,   .
  646             
  647             
  648       0400  FISUBL= 400
  649             
  650 00167 1602  BLTA,   BLT0                    /BLOCK TRANSFER
  651       4567  BLT=JMS I       BLTA
  652 00170 1317  CORSRA, CORSRC
  653       4570  CORE=JMS I CORSRA
  654 00171 1405  GETBA,  GETB
  655       4571  GETBLK=JMS I GETBA
  656 00172 1447  GETDBA, GETDB0                  /GET A DATA BLOCK

      /EDUSYSTEM 50 MONITOR FOR MELROSE HIGH SCHOOL #495AB               Page 15


  657       4572  GETDDB=JMS I GETDBA
  658 00173 1205  PRINTA, PRINT0                  /TYPE OUT A CHARACTER
  659       4573  PRINT=JMS I PRINTA
  660 00174 0401  GETJT0, GETJTB                  /GET JOB DATA TABLE ADDRESS
  661       4574  GETJTA=JMS I    GETJT0
  662 00175 3201  KBDA,   KBD00                   /INPUT KEYBOARD CHARACTERS
  663       4575  KEY=JMS I KBDA
  664 00176 0611  RETBA,  RETB                    /RETURN BLOCK TO FREE STORAGE
  665       4576  RETBLK=JMS I    RETBA
  666 00177 2573  WAITA,  WSCHED
  667       5577  WAIT=JMP I WAITA
  668             
  669             
  670       0053          *SCHDAT+1
  671             
  672 00053 0000  SIJOB,  0
  673 00054 0000  CHDFA,  0                       /TEMP LOC USED BY MANY ROUTINES
  674       6221  CHDF=6221
  675 00055 0000  COMDB0, 0                       /ADDRESS OF COMMAND DDB
  676 00056 0000  COMRDB, 0                       /RESPONSE DEVTBL ADDRESS
  677 00057 6000  COMBFA, COMBUF-1
  678 00060 0000  COMTBE, 0                       /COMMAND TABLE ENTRY ADDRESS
  679 00061 0000  COMFLG, 0                       /COMMAND CONTROL FLAGS
  680 00062 0062  IOTPAR, .                       /IOT PARAMETER BLOCK
  681 00063 0000  IOTP0,  0
  682 00064 0000  IOTP1,  0
  683 00065 0000  IOTP2,  0
  684 00066 0000  IOTP3,  0
  685 00067 0000  IOTP4,  0
  686 00070 0000  IOTP5,  0
  687 00071 0000  IOTP6,  0
  688 00072 0000  IOTP7,  0
  689 00073 0000  CHAR,   0                       /CURRENT SCAN CHARACTER
  690 00074 0000  NUMHO,  0                       /HIGH ORDER FOR NUMBIN
  691 00075 0000          0
  692 00076 0000          0
  693       4477  TEXTS=JMS I .
  694 00077 1606          CTEXT                   /ASCII READ
  695 00100 2301  DECRCA, DECRC0                  /DECREMENT COMCNT
  696 00101 2014  NUMBIA, NUMBI0                  /NUMBER CONVERT
  697 00102 2151  ASCOUA, ASCOU0                  /ASCII OUTPUT
  698 00103 4200  ENDTSA, ENDTS0                  /TEST FOR END OF COMMAND
  699 00104 1676  COMGEA, COMGE0                  /GET COMMAND STRING CHARACTER
  700 00105 1220  COMERA, COMERR                  /ERROR RETURN
  701 00106 1235  COMEXA, COMRET                  /OK RETURN
  702 00107 1235  COMEXP, COMRET                  /FOR RESETTING COMEXA
  703 00110 2401  ASCSIA, ASCSI0                  /ASCII TO SIXBIT
  704 00111 1751  GETFBA, GETFB0                  /GET FREE BLOCK
  705 00112 2200  GETBAA, GETTB0                  /GET JOB TABLE ADDRESS
  706 00113 2442  RETDBA, RETDB0                  /RETURN BLOCK
  707 00114 2446  RETBKA, RETBK0                  /RETURN BLOCKS
  708 00115 7202  IOTEND, FIPEND
  709 00116 3637  LNGIOT, FOPEN1                  /LONG IOT
  710 00117 3502  SHTIOT, ACSET                   /SHORT IOT
  711 00120 1112  CALFIA, CALFI0                  /FIP OVERLAY
  712 00121 2212  RESPDA, RESPDB                  /GET RESPONSE DDB
  713 00122 0237  EXITA,  COMEXT

      /EDUSYSTEM 50 MONITOR FOR MELROSE HIGH SCHOOL #495AB               Page 16


  714       5522  EXIT=JMP I      EXITA
  715 00123 4224  GETWRA, GETWR0                  /GET STATUS WORD
  716 00124 2454  OCTASA, OCTAS0                  /OCTAL TO ASCII
  717 00125 2223  BUFDEA, BUFDE0                  /BUFFER DELETE
  718 00126 2642  RETPAA, RETPA0                  /RETURN PARAMETERS
  719       4527  CORES=JMS I .
  720 00127 1764          CORSER
  721       4530  ASSCOR=JMS I .
  722 00130 2503          ASSCO0
  723       4531  RELCOR=JMS I .
  724 00131 2512          RELCO0
  725 00132 3136  TTYTBA, TTYTBL                  /START OF TTY TABLE
  726       4533  SIERR=JMS I .
  727 00133 7052          SYSER0
  728 00134 0005  SWBASE, SWDEX                   /START OF SWAPPING TRACKS
  729       4535  ACCTIN= JMS I   .
  730 00135 2732          ACC0
  731 00136 7777  P7777,  -1
  732 00137 7700  C7700,  7700
  733 00140 7754  JOBONC, -JOBMAX
  734 00141 0176  SIECNT, F1ECNT                  /DDB EMPTY COUNT
  735 00142 0177  SIBUF,  F1BUF                   /DDB EMPTY POINTER
  736 00143 5734  COMES1, COMLGM
  737 00144 0367  COMWAA, COMDEL
  738       5544  COMWAT=JMP I    COMWAA
  739             
  740             /SI PAGE DIRECTORY
  741             
  742       0200  SCAN=200
  743       1600  SUBR=SCAN+1400
  744       3000  COMMAN=SUBR+1200
  745       6000  CTABLE=COMMAN+3000
  746       7000  ERPAGE=CTABLE+1000
  747             
  748             
  749             /COMMAND CONTROL FLAGS
  750             
  751       4000  NOLOG=4000                      /LOGIN NOT REQUIRED
  752       2000  USERM=2000                      /REFERENCES USER MEMORY
  753       1000  USAVE=1000                      /SAVE USER REGISTERS
  754       0400  UREST=400                       /RESTORE USER REGISTERS
  755             
  756       0200  PRBUF=200                       /PRINT BUFFER
  757       0100  PRQM=100                        /PRINT ?
  758       0040  PRPER=40                        /PRINT .
  759       0020  PRCRLF=20                       /PRINT CRLF
  760       0010  NOMESS=10                       /NO MESSAGE
  761             /BITS 9-11 CONTAIN # FREE BLOCKS REQUIRED

      /EDUSYSTEM 50 MONITOR FOR MELROSE HIGH SCHOOL #495AB               Page 17


  762             
  763       0200  *SCAN
  764             
  765 00200 4737  DEVTND, -DEVTBE+1
  766       0037  COMSIC=C0100                    /SICOM
  767       0072  COMFND=IOTP7                    /COUNT OF SEARCH MATCHES
  768       0070  COMLNK=IOTP5
  769       0071  COMNXT=IOTP6
  770 00201 2664  COMSET, RESTBP
  771             
  772 00202 1560  COM,    TAD I   JOB
  773 00203 0036          AND     C0037
  774 00204 3053          DCA     SIJOB
  775 00205 1053          TAD     SIJOB
  776 00206 7640          SZA CLA                 /FIP RETURN?
  777 00207 5332          JMP     COMFIP          /YES
  778 00210 1420          TAD I COMPTR
  779 00211 3010          DCA     IX1
  780 00212 1010          TAD     IX1
  781 00213 3063          DCA     IOTP0
  782 00214 6211          DATFLD
  783 00215 2010  COM1,   ISZ     IX1             /DON'T BOTHER LOOKING AT THE OUTPUT SIDE
  784 00216 1200          TAD     DEVTND
  785 00217 1010          TAD     IX1
  786 00220 7640          SZA CLA                 /END OF TABLE?
  787 00221 5225          JMP     COM2            /NO
  788 00222 7240          STA
  789 00223 1163          TAD     DEVTBA          /YES, RESET TO BEGIN OF TABLE
  790 00224 3010          DCA     IX1
  791 00225 1410  COM2,   TAD I   IX1             /GET TABLE ENTRY
  792 00226 7440          SZA
  793 00227 5245          JMP     COM3
  794 00230 1010  COM4,   TAD     IX1             /SCANNED ENTIRE TABLE?
  795 00231 7041          CIA
  796 00232 1063          TAD     IOTP0
  797 00233 7640          SZA CLA
  798 00234 5215          JMP     COM1            /NO
  799 00235 6201          CDF
  800 00236 3452          DCA I   COMCNT
  801 00237 4531  COMEXT, RELCOR                  /RELEASE COR
  802 00240 6203          CIF CDF
  803 00241 3423          DCA I   COMDSP
  804 00242 5577          WAIT                    /RESCHEDULE
  805             
  806 00243 1702  SIWATA, SIWAIT
  807 00244 2421  SITIMA, TIMSI
  808             
  809 00245 3055  COM3,   DCA     COMDB0
  810 00246 1455          TAD I   COMDB0          /COMMAND WAITING?
  811 00247 0037          AND     COMSIC
  812 00250 7650          SNA CLA
  813 00251 5230          JMP     COM4            /NO
  814 00252 1055          TAD     COMDB0          /SET JOB #
  815 00253 7001          IAC
  816 00254 3060          DCA     COMTBE
  817 00255 1460          TAD I   COMTBE
  818 00256 6201          CDF

      /EDUSYSTEM 50 MONITOR FOR MELROSE HIGH SCHOOL #495AB               Page 18


  819 00257 0036          AND     C0037
  820 00260 3053          DCA     SIJOB
  821 00261 1010          TAD     IX1
  822 00262 3420          DCA I   COMPTR
  823 00263 1053          TAD     SIJOB
  824 00264 1560          TAD I   JOB
  825 00265 3560          DCA I   JOB
  826 00266 1053          TAD     SIJOB
  827 00267 6211          DATFLD
  828 00270 7450          SNA
  829 00271 5275          JMP     COM31
  830 00272 1044          TAD     JOBTBA
  831 00273 3054          DCA     CHDFA
  832 00274 1454          TAD I   CHDFA
  833 00275 3561  COM31,  DCA I   JOBDAT
  834 00276 1561          TAD I   JOBDAT          /DO WE HAVE JOB?
  835 00277 7450          SNA
  836 00300 5307          JMP     COM33           /NO
  837 00301 7001          IAC
  838 00302 3054          DCA     CHDFA           /ADDRESS OF STR0
  839 00303 4730          JMS I   COMLRA          /CHECK FOR RUBOUT AND LINE-FEED
  840 00304 1326          TAD     C7367
  841 00305 0454          AND I   CHDFA           /CLEAR OUT THE R PRIVILEGE & ERROR REPORT INHIBIT BITS
  842 00306 3454          DCA I   CHDFA           /SAVE IT
  843 00307 4601  COM33,  JMS I   COMSET          /SETUP BUFFER POINTERS
  844 00310 3056          DCA     COMRDB
  845 00311 3061          DCA     COMFLG
  846 00312 3073  COM32,  DCA     CHAR
  847 00313 1057          TAD     COMBFA          /GET COMMAND NAME
  848 00314 4477          TEXTS
  849 00315 7041          CIA
  850 00316 1057          TAD     COMBFA          /NULL?
  851 00317 7640          SZA CLA
  852 00320 5731          JMP I   COM41A
  853 00321 1073          TAD     CHAR
  854 00322 7640          SZA CLA
  855 00323 4503          ENDTST                  /END OF COMMAND?
  856 00324 5727          JMP I   COM64A          /YES
  857 00325 5312          JMP     COM32           /TRY TO FIND A VALID COMMAND
  858             
  859 00326 7367  C7367,  -JSPEEK-JSINER-1
  860 00327 1233  COM64A, COM64
  861 00330 0450  COMLRA, COMLRB
  862 00331 0403  COM41A, COM41

      /EDUSYSTEM 50 MONITOR FOR MELROSE HIGH SCHOOL #495AB               Page 19


  863             
  864 00332 1423  COMFIP, TAD I   COMDSP
  865 00333 7450          SNA
  866 00334 5364          JMP     COMFI2
  867 00335 3063          DCA     IOTP0
  868 00336 3423          DCA I   COMDSP
  869 00337 1424          TAD I   SIFLG           /RESTORE CONTROL FLAGS.
  870 00340 3061          DCA     COMFLG
  871 00341 1425          TAD I   SICHAR
  872 00342 3073          DCA     CHAR
  873 00343 1420          TAD I   COMPTR
  874 00344 3055          DCA     COMDB0
  875 00345 6211          DATFLD
  876 00346 1455          TAD I   COMDB0
  877 00347 3055          DCA     COMDB0
  878 00350 1561          TAD I   JOBDAT
  879 00351 7450          SNA
  880 00352 5361          JMP     COMFI1
  881 00353 7001          IAC
  882 00354 3054          DCA     CHDFA
  883 00355 1033          TAD     C0003
  884 00356 1454          TAD I   CHDFA
  885 00357 0035          AND     C0007           /WAS THERE A SYSTEM DISK ERROR?
  886 00360 7640          SZA CLA
  887 00361 2063  COMFI1, ISZ     IOTP0
  888 00362 6221          CHDF
  889 00363 5463          JMP I   IOTP0
  890 00364 6221  COMFI2, CHDF
  891 00365 5766          JMP I   .+1
  892 00366 7006          SYSERR
  893             
  894 00367 6201  COMDEL, CDF                     /SI MUST WAIT FOR SOME REASON
  895 00370 1452          TAD I   COMCNT          /NUMBER OF COMMANDS LEFT TO DO
  896 00371 1643          TAD I   SIWATA          /PLUS THOSE ALREADY WAITING
  897 00372 3643          DCA I   SIWATA
  898 00373 3452          DCA I   COMCNT          /WE'LL RELOAD THE COUNT WHEN THE TIMER RUNS OUT
  899 00374 7240          STA
  900 00375 3644          DCA I   SITIMA          /WAIT FOR ONE SECOND
  901 00376 5522          EXIT
  902             PAGE

      /EDUSYSTEM 50 MONITOR FOR MELROSE HIGH SCHOOL #495AB               Page 20


  903             
  904 00400 6015  COMTBA, COMTBL
  905 00401 0777  COM9A,  COM9
  906 00402 1005  COM91A, COM91
  907 00403 3072  COM41,  DCA     COMFND          /SEARCH COMMAND TABLE
  908 00404 1200          TAD     COMTBA
  909 00405 3070  COM6,   DCA     COMLNK
  910 00406 1470          TAD I   COMLNK
  911 00407 7450          SNA
  912 00410 5601          JMP I   COM9A           /END OF TABLE
  913 00411 3071          DCA     COMNXT
  914 00412 1070          TAD     COMLNK
  915 00413 1033          TAD     C0003
  916 00414 3011          DCA     IX2
  917 00415 1057          TAD     COMBFA
  918 00416 3012          DCA     IX3
  919 00417 1011  COM5,   TAD     IX2
  920 00420 7040          CMA
  921 00421 1071          TAD     COMNXT
  922 00422 7650          SNA CLA
  923 00423 5240          JMP     COM99           /EXACT MATCH
  924 00424 1412          TAD I   IX3
  925 00425 7450          SNA
  926 00426 5233          JMP     COM8
  927 00427 1411          TAD I   IX2
  928 00430 7650          SNA CLA
  929 00431 5217          JMP     COM5
  930 00432 5236          JMP     COM7
  931 00433 2072  COM8,   ISZ     COMFND          /PARTIAL MATCH
  932 00434 1070          TAD     COMLNK
  933 00435 3060          DCA     COMTBE
  934 00436 1071  COM7,   TAD     COMNXT
  935 00437 5205          JMP     COM6
  936             
  937             
  938 00440 1412  COM99,  TAD I   IX3
  939 00441 7650          SNA CLA
  940 00442 5602          JMP I   COM91A          /EXACT
  941 00443 5236          JMP     COM7
  942 00444 0040  COMECH, DECHO
  943 00445 7637  COMLBT, -SICOM-DECHO-1
  944 00446 1554  COMPST, STRNG0
  945 00447 2664  COMPNT, RESTBP
  946             
  947 00450 0000  COMLRB, 0
  948 00451 1455          TAD I   COMDB0
  949 00452 0244          AND     COMECH
  950 00453 7650          SNA CLA
  951 00454 5650          JMP I   COMLRB
  952 00455 4647          JMS I   COMPNT
  953 00456 3073          DCA     CHAR
  954 00457 3056  DCA     COMRDB
  955 00460 3061          DCA     COMFLG
  956 00461 4646          JMS I   COMPST
  957 00462 4502          ASCOUT
  958 00463 6635          CRLF
  959 00464 7000          NOP

      /EDUSYSTEM 50 MONITOR FOR MELROSE HIGH SCHOOL #495AB               Page 21


  960 00465 4523          GETWRD
  961 00466 0000          JOBSTS
  962 00467 7710          SPA CLA
  963 00470 5305          JMP     COMLRR
  964 00471 4502          ASCOUT
  965 00472 5776          PERIOD
  966 00473 7000          NOP
  967 00474 4502  COMECC, ASCOUT
  968 00475 7600          VERBRK
  969 00476 7000          NOP
  970 00477 6211          DATFLD
  971 00500 1245          TAD     COMLBT
  972 00501 0455          AND I   COMDB0
  973 00502 3455          DCA I   COMDB0
  974 00503 4500          DECRCT
  975 00504 5522          EXIT
  976 00505 4502  COMLRR, ASCOUT
  977 00506 0511          CB
  978 00507 7000          NOP
  979 00510 5274          JMP     COMECC
  980 00511 0336  CB,     "^
  981 00512 0302          "B
  982 00513 0000          0

      /EDUSYSTEM 50 MONITOR FOR MELROSE HIGH SCHOOL #495AB               Page 22


  983             
  984 00514 1322  SWITCH, TAD     JBSWR
  985 00515 1323  RESTRT, TAD     JBSRA
  986 00516 3320          DCA     .+2
  987 00517 4512          GETTBA
  988 00520 0000          0
  989 00521 5326          JMP     BRK0
  990             
  991 00522 0003  JBSWR,  JOBSWR-JOBSRA
  992 00523 0005  JBSRA,  JOBSRA
  993             
  994 00524 1055  BREAK,  TAD     COMDB0          /DDB ADDRESS
  995 00525 1032          TAD     C0002
  996 00526 3064  BRK0,   DCA     IOTP1           /POINTER TO APPROPRIATE REGISTER
  997 00527 4503          ENDTST                  /ARGUMENT?
  998 00530 7410          SKP                     /NO; TELL HER WHAT IT IS
  999 00531 5346          JMP     BRK1            /YES, NEW VALUE FOR MASK
 1000 00532 6211          DATFLD
 1001 00533 1464          TAD I   IOTP1           /GET BREAK MASK
 1002 00534 6221          CHDF
 1003 00535 4524          OCTASC                  /CONVERT TO ASCII
 1004 00536 0065          IOTP2                   /STORE IN IOTP3,4,5,6,7
 1005 00537 4502          ASCOUT                  /OUTPUT A CRLF
 1006 00540 6635          CRLF
 1007 00541 7000          NOP
 1008 00542 4502          ASCOUT
 1009 00543 0066          IOTP3
 1010 00544 7000          NOP
 1011 00545 5506          JMP I   COMEXA
 1012             
 1013 00546 4501  BRK1,   NUMBIN
 1014 00547 7511          -267
 1015 00550 5505          JMP I   COMERA          /INVALID CHARACTER IN STRING
 1016 00551 6211          DATFLD
 1017 00552 3464          DCA I   IOTP1
 1018 00553 5506          JMP I   COMEXA
 1019             
 1020 00554 0215  STARS,  215;212;"*;"*;"*;240;0
      00555 0212
      00556 0252
      00557 0252
      00560 0252
      00561 0240
      00562 0000
 1021 00563 0302  FM5400, "B;"A;"D;240;"D;"I;"R;"E;"C;"T;"O;"R;"Y;0
      00564 0301
      00565 0304
      00566 0240
      00567 0304
      00570 0311
      00571 0322
      00572 0305
      00573 0303
      00574 0324
      00575 0317
      00576 0322
      00577 0331

      /EDUSYSTEM 50 MONITOR FOR MELROSE HIGH SCHOOL #495AB               Page 23


      00600 0000

      /EDUSYSTEM 50 MONITOR FOR MELROSE HIGH SCHOOL #495AB               Page 24


 1022             
 1023             /ROUTINE TO SEE IF JOB IS RUNNING WHEN COMMAND REQUIRING FIP IS ISSUED.
 1024             /IF SO, WE CAN'T HONOR COMMAND
 1025             /THE MESSAGE "TYPE ^BS FIRST" IS GIVEN
 1026             
 1027             /CALL   TAD IOT ENTRY FROM COMMAND TABLE
 1028             /       JMS FIPCHK
 1029             /       RETURN IF OK TO PROCEED  [OTHERWISE RETURN IS TO COMEXT]
 1030             /       IF NOT RUNNING BUT JOB IS BUSY WITH FIP OR FILE I/O, EXIT VIA COMWAT
 1031             
 1032             
 1033 00601 0000  FIPCHK, 0
 1034 00602 3063          DCA     IOTP0           /SAVE THE IOT
 1035 00603 4523          GETWRD                  /IT'S A CALL TO FIP; IS HE RUNNING?
 1036 00604 0000          JOBSTS                  /IF SO HER RUN BIT IS ON
 1037 00605 7510          SPA
 1038 00606 5230          JMP     FIPCH2          /HE'S TURNED ON SO DON'T HONOR COMMAND
 1039 00607 0244          AND     C0140           /DOES HE STILL HAVE A FIP REQUEST IF HER OWN PENDING?
 1040 00610 7640          SZA CLA
 1041 00611 5544          COMWAT                  /YES DON'T CONFUSE THE ISSUE
 1042 00612 2072          ISZ     IOTP7
 1043 00613 6211          DATFLD
 1044 00614 1472          TAD I   IOTP7           /STR1
 1045 00615 7010          RAR
 1046 00616 7044          CMA RAL
 1047 00617 2072          ISZ     IOTP7
 1048 00620 2072          ISZ     IOTP7
 1049 00621 0472          AND I   IOTP7           /WAIT MASK 1
 1050 00622 0246          AND     FILES
 1051 00623 6221          CHDF
 1052 00624 7110          CLL RAR
 1053 00625 7670          SNA SZL CLA             /IS HE WAITING FOR A FILE TRANSFER?
 1054 00626 5601          JMP I   FIPCHK          /NO; SO LET HER PROCEED
 1055 00627 5544          COMWAT                  /WAIT FOR THINGS TO COOL OFF
 1056             
 1057 00630 7200  FIPCH2, CLA
 1058 00631 1063          TAD     IOTP0
 1059 00632 7510          SPA
 1060 00633 0042          AND     C0010           /EITHER FINF, DMAR, OR DMAW
 1061 00634 7650          SNA CLA
 1062 00635 5601          JMP I   FIPCHK          /WANTS TO EXAMINE OR DEPOSIT
 1063 00636 1061          TAD     COMFLG
 1064 00637 0245          AND     P7377           /DON'T RESTORE REGISTERS SINCE THEY ARE NOT SAVED
 1065 00640 3061          DCA     COMFLG
 1066 00641 1243          TAD     FIPTCB
 1067 00642 5506          JMP I   COMEXA          /"TYPE ^BS FIRST"
 1068             
 1069 00643 6570  FIPTCB, TYCRLB
 1070 00644 0140  C0140,  JSIOT JSIOTC
 1071 00645 7377  P7377,  7377
 1072 00646 3601  FILES,  JSF0 JSF1 JSF2 JSF3 JSWAIT

      /EDUSYSTEM 50 MONITOR FOR MELROSE HIGH SCHOOL #495AB               Page 25


 1073             
 1074 00647 1672  WAIT1,  TAD I   DTJOBA
 1075 00650 7041          CIA
 1076 00651 1053          TAD     SIJOB           /DOES HE CURRENTLY OWN THE CONTROLLER, OR IS HE JUST WAITING IN THE QUEUE
 1077 00652 7650          SNA CLA
 1078 00653 5506          JMP I   COMEXA          /HE OWNS IT - DON'T BOTHER HER
 1079             
 1080 00654 5655          JMP I   .+1             /GO DO THE STUFF COMMON WITH THE RK05
 1081 00655 7270          DTSIDT
 1082             
 1083 00656 0005  K5,     5
 1084             
 1085 00657 1472  WAIT2,  TAD I   IOTP7           /GET POINTER TO HER TIMER
 1086 00660 1256          TAD     K5
 1087 00661 3054          DCA     CHDFA
 1088 00662 7240          STA
 1089 00663 3454          DCA I   CHDFA           /SET HER TIMER=1 SECOND
 1090 00664 7240          STA
 1091 00665 1053          TAD     SIJOB
 1092 00666 1044          TAD     JOBTBA
 1093 00667 6213          CIF DATFLD
 1094 00670 5671          JMP I   .+1             /FORCE THE TIMER TO RUN - JUST FOR HER JOB
 1095 00671 1175          DTSI
 1096 00672 0020  DTJOBA, DTJOB

      /EDUSYSTEM 50 MONITOR FOR MELROSE HIGH SCHOOL #495AB               Page 26


 1097             
 1098 00673 0240  ACCBUF, " ;" ;"[;0;0;0;0;0;"];0
      00674 0240
      00675 0333
      00676 0000
      00677 0000
      00700 0000
      00701 0000
      00702 0000
      00703 0335
      00704 0000
 1099             
 1100 00705 0310  SYSET6, "H                      /HUNG DEVICE
 1101 00706 0325          "U
 1102 00707 0316          "N
 1103 00710 0307          "G
 1104 00711 0240          240
 1105 00712 0304          "D
 1106 00713 0305          "E
 1107 00714 0326          "V
 1108 00715 0311          "I
 1109 00716 0303          "C
 1110 00717 0305          "E
 1111 00720 0207  SYRING, 207;207;207
      00721 0207
      00722 0207
 1112 00723 0000          0
 1113             
 1114       0724  *724                            /DO NOT MOVE ANYTHING IN THIS AREA
 1115                                             /IT IS VITAL FOR BOOT-STRAPPING
 1116             NOPUNCH
 1117       7730  *7730                           /THIS IS WHERE IT WILL ACTUALLY EXECUTE
 1118             ENPUNCH
 1119             IFZERO RF08 <
 1120 07730 0002  TRBOOT, 2
 1121 07731 0020  FLBOOT, 20
 1122 07732 6601  GOBOOT, DCMA
 1123 07733 7200          CLA
 1124 07734 1331          TAD     FLBOOT
 1125 07735 6615          DIML
 1126 07736 1330          TAD     TRBOOT
 1127 07737 6643          DXAL
 1128                             >
 1129             IFZERO RF08-40 <
 1130                     NOP;NOP;NOP             /FOR SIZE
 1131             TRBOOT, 220
 1132             GOBOOT, DCMA
 1133                     CLA
 1134                     TAD     TRBOOT
 1135                     DEAL
 1136                             >
 1137 07740 7240          STA
 1138 07741 3351          DCA     CABOOT
 1139 07742 3350          DCA     WCBOOT
 1140 07743 6603          DMAR
 1141 07744 6622          DFSC
 1142 07745 5344          JMP     .-1

      /EDUSYSTEM 50 MONITOR FOR MELROSE HIGH SCHOOL #495AB               Page 27


 1143 07746 6223          CIF CDF 20
 1144 07747 5000          JMP     0
 1145 07750 7775  WCBOOT, -3                      /READ 3 WORDS AFTER OVERLAYING ITSELF
 1146 07751 6621  CABOOT, 6621                    /OVERLAY OUR CURRENT "JMP ." WE'RE EXECUTING AT 6623
 1147             NOPUNCH
 1148       6622  *6622
 1149             ENPUNCH
 1150 06622 7732          GOBOOT
 1151 06623 5622          JMP I   .-1
 1152       0750  *750
 1153 00750 0000  GETACC, 0
 1154 00751 1044          TAD     JOBTBA
 1155 00752 6202          CIF
 1156 00753 4574          GETJTA
 1157 00754 0016          JOBACC
 1158 00755 3054          DCA     CHDFA
 1159 00756 6211          DATFLD
 1160 00757 1454          TAD I   CHDFA
 1161 00760 6221          CHDF
 1162 00761 4524          OCTASC
 1163 00762 0675          ACCBUF+2
 1164 00763 1301          TAD     ACCBUF+6
 1165 00764 3302          DCA     ACCBUF+7
 1166 00765 1300          TAD     ACCBUF+5
 1167 00766 3301          DCA     ACCBUF+6
 1168 00767 1372          TAD     ACOMMA
 1169 00770 3300          DCA     ACCBUF+5
 1170 00771 5750          JMP I   GETACC
 1171 00772 0254  ACOMMA, ",
 1172 00773 4502  SYBELL, ASCOUT
 1173 00774 0720          SYRING
 1174 00775 7000          NOP
 1175 00776 5522          EXIT

      /EDUSYSTEM 50 MONITOR FOR MELROSE HIGH SCHOOL #495AB               Page 28


 1176             
 1177       7332  CUSERM=CLA CLL CML RTR          /AC =2000
 1178             
 1179 00777 7240  COM9,   STA
 1180 01000 1072          TAD     COMFND
 1181 01001 7640          SZA CLA
 1182 01002 5306          JMP     COM99A          /NOT UNIQUE OR NOT FOUND
 1183 01003 5207          JMP     COM91Z
 1184 01004 0601  FIPCOM, FIPCHK
 1185 01005 1070  COM91,  TAD     COMLNK
 1186 01006 3060          DCA     COMTBE
 1187 01007 2060  COM91Z, ISZ     COMTBE          /GET COMMAND FLAGS
 1188 01010 1460          TAD I   COMTBE
 1189 01011 3061          DCA     COMFLG
 1190 01012 1061          TAD     COMFLG          /ENOUGH FREE STORE?
 1191 01013 0035          AND     C0007
 1192 01014 7041          CIA
 1193 01015 6201          CDF
 1194 01016 1447          TAD I   FRECNT
 1195 01017 6221          CHDF
 1196 01020 7710          SPA CLA
 1197 01021 5544          COMWAT                  /NO
 1198 01022 7332          CUSERM                  /AC=2000
 1199 01023 0061          AND     COMFLG          /USER MEMORY REFERENCE?
 1200 01024 7650          SNA CLA
 1201 01025 5233          JMP     COM16           /NO
 1202 01026 7130          STL RAR         /AC=SWAP
 1203 01027 1053          TAD     SIJOB           /YES, IS USER BEING SWAPPED?
 1204 01030 4527          CORES
 1205 01031 7640          SZA CLA
 1206 01032 5544          COMWAT
 1207 01033 2060  COM16,  ISZ     COMTBE
 1208 01034 1053          TAD     SIJOB
 1209 01035 7640          SZA CLA
 1210 01036 1460          TAD I   COMTBE          /STORE IOT
 1211 01037 7440          SZA                     /NON RESIDENT IOT?
 1212 01040 4604          JMS I   FIPCOM          /YES--IS HE RUNNING A PROGRAM?
 1213 01041 1062          TAD     IOTPAR
 1214 01042 3010          DCA     IX1
 1215 01043 1041          TAD     C7770
 1216 01044 3054          DCA     CHDFA
 1217 01045 1460          TAD I   COMTBE          /FIX UP IOTP0
 1218 01046 3410          DCA I   IX1
 1219 01047 2054          ISZ     CHDFA
 1220 01050 5246          JMP     .-2
 1221 01051 2060          ISZ     COMTBE
 1222 01052 1460          TAD I   COMTBE
 1223 01053 3060          DCA     COMTBE
 1224 01054 1061          TAD     COMFLG
 1225 01055 7710          SPA CLA                 /LOGIN REQUIRED?
 1226 01056 5460          JMP I   COMTBE          /NO, DISPATCH
 1227 01057 1053          TAD     SIJOB
 1228 01060 7650          SNA CLA                 /NULL JOB?
 1229 01061 5705          JMP I   COM12A
 1230 01062 1061          TAD     COMFLG          /SAVE REGISTERS?
 1231 01063 0040          AND     C1000
 1232 01064 7650          SNA CLA

      /EDUSYSTEM 50 MONITOR FOR MELROSE HIGH SCHOOL #495AB               Page 29


 1233 01065 5460          JMP I   COMTBE          /NO, DISPATCH
 1234 01066 4512          GETTBA
 1235 01067 0011          JOBREG
 1236 01070 3274          DCA     COMREG
 1237 01071 6202          CIF
 1238 01072 4567          BLT
 1239 01073 6211          DATFLD
 1240 01074 0000  COMREG, 0
 1241 01075 6201          CDF
 1242 01076 0026          SIREG
 1243 01077 7775          -3
 1244 01100 6211          DATFLD                  /PC=-1
 1245 01101 7240          STA
 1246 01102 3674          DCA I   COMREG
 1247 01103 6221          CHDF
 1248 01104 5460          JMP I   COMTBE
 1249 01105 1214  COM12A, COM12

      /EDUSYSTEM 50 MONITOR FOR MELROSE HIGH SCHOOL #495AB               Page 30


 1250             
 1251 01106 1053  COM99A, TAD     SIJOB           /IS HE LOGGED IN?
 1252 01107 7650          SNA CLA
 1253 01110 1143          TAD     COMES1          /NO, SO SEND "LOGIN PLEASE"
 1254 01111 5505          JMP I   COMERA
 1255             
 1256       5520  CALFIP=JMP I    CALFIA
 1257             
 1258 01112 7344  CALFI0, STA CLL RAL             /SAVE RETURN ADDRESS
 1259 01113 1060          TAD     COMTBE
 1260 01114 6201          CDF
 1261 01115 3423          DCA I   COMDSP
 1262 01116 1061          TAD     COMFLG          /SAVE FLAGS
 1263 01117 3424          DCA I   SIFLG
 1264 01120 1073          TAD     CHAR
 1265 01121 3425          DCA I   SICHAR
 1266 01122 1356          TAD     CALFBA
 1267 01123 3342  LOADUS, DCA     CALFI2
 1268 01124 6221          CHDF
 1269 01125 1361          TAD     CALFI4
 1270 01126 1164          TAD     DSUTBA
 1271 01127 4511          GETFBL
 1272 01130 5544          COMWAT
 1273 01131 3344          DCA     CALFI1
 1274 01132 4530          ASSCOR
 1275 01133 6203          CIF CDF
 1276 01134 1053          TAD     SIJOB
 1277 01135 1015          TAD     C0200
 1278 01136 3560          DCA I   JOB
 1279 01137 6221          CHDF
 1280 01140 4567          BLT
 1281 01141 6221          CHDF
 1282             OFF5,                           /SOURCE FIELD
 1283 01142 0000  CALFI2, 0                       /SOURCE ADDR
 1284 01143 6211          DATFLD                  /DESTINATION FLD
 1285 01144 0000  CALFI1, 0                       /DESTINATION ADDR
 1286 01145 7770          -10
 1287 01146 6203          CIF CDF
 1288 01147 2565          ISZ I   DSBUSY
 1289 01150 5577          WAIT
 1290 01151 5752          JMP I   .+1
 1291 01152 0562          OVRLA1
 1292 01153 1355  DEPEXA, TAD     CALFI5
 1293 01154 5323          JMP     LOADUS
 1294 01155 0063  CALFI5, IOTP0
 1295             
 1296 01156 1157  CALFBA, .+1
 1297 01157 6603          DMAR
 1298 01160 0004          FIPDEX
 1299 01161 0010  CALFI4, 10                      /MEMORY EXT IN 7-9
 1300 01162 0000          -FIPWC
 1301 01163 7777          -1
 1302 01164 0000          0
 1303 01165 5171          OVERLA
 1304 01166 0000          0
 1305             
 1306 01167 5724  OFF3A,  ACTNM1

      /EDUSYSTEM 50 MONITOR FOR MELROSE HIGH SCHOOL #495AB               Page 31


 1307 01170 7774  OFF4,   7774                    /ALLOW ONLY ACCOUNTS 1, 2 & 3 TO LOGIN
 1308 01171 0164  OFFJOB, F1OFFJ
 1309 01172 1370  OFFLIN, TAD     OFF4
 1310 01173 3342  ON,     DCA     OFF5
 1311 01174 4767          JMS I   OFF3A           /CHECK ACCOUNT NUMBER
 1312 01175 1342          TAD     OFF5            /.. 0 IF ON
 1313 01176 6211          DATFLD
 1314 01177 3771          DCA I   OFFJOB          /STORE IT IN FIELD 1
 1315 01200 5506          JMP I   COMEXA          /RETURN
 1316 01201 0300  COMFLE, PRQM+PRBUF
 1317 01202 0200  COPRBF, PRBUF
 1318 01203 0010  COMESF, NOMESS
 1319 01204 0100  COMQM,  PRQM
 1320 01205 0020  COMCRF, PRCRLF
 1321 01206 0060  COMELF, PRPER+PRCRLF
 1322 01207 1411  CO18A,  COM18
 1323 01210 0400  COMURE, UREST
 1324 01211 7377  COMURM, -UREST-1
 1325 01212 7505  MSEMI,  -273
 1326 01213 7563  MCR,    -215
 1327             
 1328 01214 1061  COM12,  TAD     COMFLG
 1329 01215 0211          AND     COMURM
 1330 01216 3061          DCA     COMFLG
 1331 01217 1143          TAD     COMES1
 1332             
 1333 01220 3316  COMERR, DCA     COMESA
 1334 01221 1061          TAD     COMFLG
 1335 01222 0137          AND     C7700
 1336 01223 1206          TAD     COMELF          /SET FLAGS FOR ERROR MESSAGE
 1337 01224 3061          DCA     COMFLG
 1338 01225 1316          TAD     COMESA
 1339 01226 7640          SZA CLA
 1340 01227 5236          JMP     COMRET+1
 1341 01230 1201          TAD     COMFLE
 1342 01231 1061          TAD     COMFLG
 1343 01232 7410          SKP
 1344 01233 1206  COM64,  TAD     COMELF
 1345 01234 3061          DCA     COMFLG
 1346             
 1347 01235 3316  COMRET, DCA     COMESA
 1348 01236 6221          CHDF
 1349 01237 1061          TAD     COMFLG          /RESTORE REGISTERS
 1350 01240 0210          AND     COMURE
 1351 01241 7650          SNA CLA
 1352 01242 5255          JMP     COMRE0
 1353 01243 4512          GETTBA
 1354 01244 0011          JOBREG
 1355 01245 3253          DCA     .+6
 1356 01246 6202          CIF
 1357 01247 4567          BLT
 1358 01250 6201          CDF
 1359 01251 0026          SIREG
 1360 01252 6211          DATFLD
 1361 01253 0000          0
 1362 01254 7775          -3
 1363 01255 1061  COMRE0, TAD     COMFLG          /MESSAGE?

      /EDUSYSTEM 50 MONITOR FOR MELROSE HIGH SCHOOL #495AB               Page 32


 1364 01256 0203          AND     COMESF
 1365 01257 7640          SZA CLA
 1366 01260 5336          JMP     COM10           /NO
 1367 01261 4502          ASCOUT
 1368 01262 6635          CRLF
 1369 01263 7000          NOP
 1370 01264 1061          TAD     COMFLG
 1371 01265 0202          AND     COPRBF
 1372 01266 7650          SNA CLA                 /PRINT BUFFER?
 1373 01267 5307          JMP     COMRE3          /NO, DELETE COMMAND
 1374 01270 4745          JMS I   CORSET          /YES, RESTORE BUFFER POINTER
 1375 01271 4504  COMRE1, COMGET                  /GET A CHAR
 1376 01272 5307          JMP     COMRE3          /NONE
 1377 01273 7126          STL RTL
 1378 01274 4503          ENDTST                  /LAST CHARACTER OF COMMAND LINE?
 1379 01275 5307          JMP     COMRE3          /YES; DON'T ECHO THIS ONE
 1380 01276 4521          RESDDB
 1381 01277 6203          CIF CDF
 1382 01300 3421          DCA I   CONDVA
 1383 01301 1073          TAD     CHAR
 1384 01302 3431          DCA I   TTCHAR
 1385 01303 6221          CHDF
 1386 01304 4573          PRINT
 1387 01305 5271          JMP     COMRE1
 1388 01306 5271          JMP     COMRE1
 1389 01307 4762  COMRE3, SKPCOM                  /SKIP TO END OF COMMAND
 1390 01310 7000          NOP
 1391 01311 4525          BUFDEL                  /DELETE TO CURRENT POINTER
 1392 01312 1316          TAD     COMESA
 1393 01313 7650          SNA CLA
 1394 01314 5320          JMP     COM11
 1395 01315 4502          ASCOUT                  /OUTPUT MESSAGE
 1396 01316 0000  COMESA,  0
 1397 01317 5336          JMP     COM10           /WON'T FIT
 1398 01320 1061  COM11,  TAD     COMFLG          /PRINT ??
 1399 01321 0204          AND     COMQM
 1400 01322 7650          SNA CLA
 1401 01323 5327          JMP     COM13           /NO
 1402 01324 4502          ASCOUT
 1403 01325 5773          QQEST
 1404 01326 5336          JMP     COM10
 1405 01327 1061  COM13,  TAD     COMFLG          /PRINT CRLF?
 1406 01330 0205          AND     COMCRF
 1407 01331 7650          SNA CLA
 1408 01332 5336          JMP     COM10
 1409 01333 4502          ASCOUT
 1410 01334 6635          CRLF
 1411 01335 7000          NOP
 1412 01336 1073  COM10,  TAD     CHAR
 1413 01337 1212          TAD     MSEMI
 1414 01340 7650          SNA CLA
 1415 01341 5744          JMP I   COM22A
 1416 01342 4500          DECRCT                  /DECREMENT COMCNT
 1417 01343 5607          JMP I   CO18A           /YES
 1418 01344 1521  COM22A, COM22
 1419 01345 2664  CORSET, RESTBP
 1420 01346 3352  LOGIF2, DCA     .+4             /SAVE POINTER TO TIME ASCII STRING

      /EDUSYSTEM 50 MONITOR FOR MELROSE HIGH SCHOOL #495AB               Page 33


 1421 01347 1107          TAD     COMEXP          /RESTORE COMRET
 1422 01350 3106          DCA     COMEXA
 1423 01351 4502          ASCOUT                  /OUTPUT TIME MESSAGE
 1424 01352 0000          0
 1425 01353 5506          JMP I   COMEXA          /NO ROOM, SO DON'T PROCEED
 1426 01354 1073          TAD     CHAR            /ENDED WITH RETURN?
 1427 01355 1213          TAD     MCR
 1428 01356 7650          SNA CLA
 1429 01357 1361          TAD     VERBRA          /YES, SO OUTPUT MESSAGE OF THE DAY
 1430 01360 5506          JMP I   COMEXA          /DONE AT LAST
 1431             
 1432 01361 7576  VERBRA, VERBRK-2
 1433 01362 2432  SKPCOA, SKPCO0                  /SKIP TO END OF COMMAND
 1434       4762  SKPCOM=JMS I SKPCOA
 1435             

      /EDUSYSTEM 50 MONITOR FOR MELROSE HIGH SCHOOL #495AB               Page 34


 1436             
 1437 01363 0301  LOGE0,  "A;"L;"R;"E;"A;"D;"Y;240;"L;"O;"G;"G;"E;"D;240;"I;"N;0
      01364 0314
      01365 0322
      01366 0305
      01367 0301
      01370 0304
      01371 0331
      01372 0240
      01373 0314
      01374 0317
      01375 0307
      01376 0307
      01377 0305
      01400 0304
      01401 0240
      01402 0311
      01403 0316
      01404 0000
 1438 01405 7637  COMMSI, -SICOM-DECHO-1
 1439 01406 0040  COMPF,  PRPER
 1440 01407 7506  COMCLN, -272
 1441 01410 7677  COMKEY, -JSDEL-1
 1442       0037  COMKEF= C0100
 1443             
 1444 01411 6211  COM18,  DATFLD
 1445 01412 1055          TAD     COMDB0          /JOB DEFINED?
 1446 01413 7450          SNA                     /HAS HE JUST LOGGED OUT?
 1447 01414 5321          JMP     COM22
 1448 01415 7001          IAC
 1449 01416 3054          DCA     CHDFA
 1450 01417 1455          TAD I   COMDB0
 1451 01420 0205          AND     COMMSI
 1452 01421 3455          DCA I   COMDB0
 1453 01422 1454          TAD I   CHDFA
 1454 01423 0036          AND     C0037
 1455 01424 7650          SNA CLA
 1456 01425 5340          JMP     COM17           /NO
 1457 01426 6221          CHDF
 1458 01427 4523          GETWRD
 1459 01430 0000          JOBSTS
 1460 01431 6211          DATFLD
 1461 01432 7700          SMA CLA                 /IS JOB RUNNING?
 1462 01433 5333          JMP     COM20           /NO
 1463 01434 1455          TAD I   COMDB0
 1464 01435 0337          AND     COMSIF
 1465 01436 3455          DCA I   COMDB0          /SAVE WITH FLAG CLEARED
 1466 01437 1206          TAD     COMPF
 1467 01440 7040          CMA
 1468 01441 0061          AND     COMFLG
 1469 01442 3061          DCA     COMFLG
 1470 01443 2072          ISZ     IOTP7
 1471 01444 1073          TAD     CHAR
 1472 01445 1207          TAD     COMCLN
 1473 01446 7640          SZA CLA
 1474 01447 5254          JMP     COM21
 1475 01450 1472          TAD I   IOTP7

      /EDUSYSTEM 50 MONITOR FOR MELROSE HIGH SCHOOL #495AB               Page 35


 1476 01451 0210          AND     COMKEY
 1477 01452 1037          TAD     COMKEF
 1478 01453 3472          DCA I   IOTP7
 1479 01454 7126  COM21,  STL RTL
 1480 01455 1072          TAD     IOTP7
 1481 01456 3074          DCA     NUMHO
 1482 01457 7001          IAC
 1483 01460 1074          TAD     NUMHO
 1484 01461 3075          DCA     NUMHO+1
 1485 01462 1475          TAD I   NUMHO+1
 1486 01463 7450          SNA
 1487 01464 1474          TAD I   NUMHO
 1488 01465 7640          SZA CLA
 1489 01466 5274          JMP     COM19
 1490 01467 2474          ISZ I   NUMHO
 1491 01470 1472          TAD I   IOTP7
 1492 01471 7010          RAR
 1493 01472 7124          STL RAL
 1494 01473 3472          DCA I   IOTP7
 1495 01474 1073  COM19,  TAD     CHAR            /GET TERMINATING CHARACTER
 1496 01475 1352          TAD     MCRS
 1497 01476 7640          SZA CLA                 /WAS IT CR
 1498 01477 5321          JMP     COM22           /NO; LEAVE OUTPUT MODE AS IS
 1499 01500 4521          RESDDB                  /DETERMINE DEVTBL ADDRESSES FOR THIS TERMINAL
 1500 01501 7240          STA
 1501 01502 1056          TAD     COMRDB
 1502 01503 3317          DCA     QON             /SAVE KEYBOARD DEVTBL POINTER
 1503 01504 6211          DATFLD
 1504 01505 1456          TAD I   COMRDB          /GET ADDRESS OF OUTPUT DDB
 1505 01506 3072          DCA     IOTP7
 1506 01507 1472          TAD I   IOTP7
 1507 01510 7700          SMA CLA                 /^S MODE?
 1508 01511 5321          JMP     COM22           /NO
 1509 01512 1320          TAD     CTRLQ           /YES; FORCE A ^Q THROUGH THE INPUT ROUTINES
 1510 01513 6203          CIF CDF 00
 1511 01514 3431          DCA I   TTCHAR
 1512 01515 6221          CHDF
 1513 01516 4575          KEY                     /PUSH IT THRU
 1514 01517 0000  QON,    .-.                     /DEVTBL ADDRESS
 1515 01520 0221  CTRLQ,  "Q-100                  /"KEY" CAN'T FAIL
 1516 01521 7200  COM22,  CLA
 1517 01522 6221          CHDF
 1518 01523 1061          TAD     COMFLG
 1519 01524 0206          AND     COMPF
 1520 01525 7650          SNA CLA
 1521 01526 5522          EXIT
 1522 01527 4502          ASCOUT
 1523 01530 5776          PERIOD
 1524 01531 5522          EXIT
 1525 01532 5522          EXIT
 1526 01533 6202  COM20,  CIF 00
 1527 01534 1055          TAD     COMDB0
 1528 01535 4753          JMS I   SICLRA
 1529 01536 5274          JMP     COM19
 1530 01537 6777  COMSIF, -DSI-1
 1531 01540 6203  COM17,  CIF CDF 00
 1532 01541 1420          TAD I   COMPTR          /DELETE THE INPUT DDB SINCE WE'RE DONE

      /EDUSYSTEM 50 MONITOR FOR MELROSE HIGH SCHOOL #495AB               Page 36


 1533 01542 3054          DCA     CHDFA
 1534 01543 6211          DATFLD
 1535 01544 3454          DCA I   CHDFA
 1536 01545 1055          TAD     COMDB0
 1537 01546 4753          JMS I   SICLRA
 1538 01547 1055          TAD     COMDB0
 1539 01550 4513          RETDBL
 1540 01551 5321          JMP     COM22
 1541             
 1542 01552 7563  MCRS,   -215
 1543 01553 6572  SICLRA, SICLR

      /EDUSYSTEM 50 MONITOR FOR MELROSE HIGH SCHOOL #495AB               Page 37


 1544             
 1545             /ROUTINE TO GET TEXT STRING FROM USERS INPUT BUFFER TO LAST PAGE
 1546             /OF SI, WHERE THEY STORE LOGIN MESSAGE
 1547             
 1548             /CALL   JMS STRNG0
 1549             /       RETURN
 1550             
 1551 01554 0000  STRNG0, 0
 1552 01555 1375          TAD     STRBRK          /SET UP POINTERS
 1553 01556 3063          DCA     IOTP0           /POINTS TO START OF BUFFER
 1554 01557 1063          TAD     IOTP0
 1555 01560 3064          DCA     IOTP1           /POINTS TO END OF BUFFER
 1556 01561 4404          SKIP                    /SKIP SPACES AND TABS
 1557 01562 5373          JMP     STREND          /END OF INPUT BUFFER REACHED
 1558 01563 1073  STRNG1, TAD     CHAR            /SAVE CHARACTER IN BUFFER
 1559 01564 3464          DCA I   IOTP1
 1560 01565 2064          ISZ     IOTP1           /READY FOR NEXT CHARACTER
 1561 01566 7410          SKP
 1562 01567 5505          JMP I   COMERA          /HOW COULD HE TYPE SO MUCH?
 1563 01570 4504          COMGET                  /GET ANOTHER CHARACTER
 1564 01571 5373          JMP     STREND          /NONE
 1565 01572 5363          JMP     STRNG1          /AND LOOK AT IT
 1566             
 1567 01573 3464  STREND, DCA I   IOTP1           /END THE STRING
 1568 01574 5754          JMP I   STRNG0          /RETURN
 1569             
 1570 01575 7600  STRBRK, VERBRK
 1571             

      /EDUSYSTEM 50 MONITOR FOR MELROSE HIGH SCHOOL #495AB               Page 38


 1572             
 1573       1600  *SUBR
 1574             
 1575             /GET A TEXT STRING
 1576             /CALL   TAD ADDRESS OF BUFFER -1
 1577             /       TEXTS
 1578             /       RETURN WITH POINTER TO LAST CHAR IN AC
 1579             
 1580 01600 7537  CTEXA,  -241
 1581 01601 7440  CTEXZ,  -340
 1582 01602 7506  CTEXCN, -272
 1583 01603 7772  CTEX6,  -6
 1584 01604 0000  CTEXBF, 0                       /BEGIN OF BUFFER
 1585 01605 0000  CTEXNU, 0                       /NUMBER OF CHARACTERS
 1586             
 1587 01606 0000  CTEXT,  0
 1588 01607 3010          DCA     IX1             /INITIALIZE INDEX
 1589 01610 1010          TAD     IX1
 1590 01611 7041          CIA
 1591 01612 3204          DCA     CTEXBF
 1592 01613 3205          DCA     CTEXNU
 1593 01614 4404          SKIP                    /SKIP SPACES AND TABS
 1594 01615 5245          JMP     CTEXT4
 1595 01616 1073  CTEXT3, TAD     CHAR
 1596 01617 1202          TAD     CTEXCN
 1597 01620 7110          CLL RAR
 1598 01621 7650          SNA CLA                 /COLON OR SEMICOLON?
 1599 01622 5245          JMP     CTEXT4          /YES
 1600 01623 1073          TAD     CHAR            /NO
 1601 01624 1200          TAD     CTEXA
 1602 01625 7710          SPA CLA
 1603 01626 5245          JMP     CTEXT4          /NO
 1604 01627 1073          TAD     CHAR
 1605 01630 1201          TAD     CTEXZ
 1606 01631 7700          SMA CLA
 1607 01632 5245          JMP     CTEXT4          /NO
 1608 01633 1205          TAD     CTEXNU          /STORE CHARACTER
 1609 01634 1203          TAD     CTEX6
 1610 01635 7700          SMA CLA
 1611 01636 5241          JMP     .+3
 1612 01637 1073          TAD     CHAR
 1613 01640 3410          DCA I   IX1
 1614 01641 2205          ISZ     CTEXNU
 1615 01642 4504          COMGET                  /GET ANOTHER CHAR
 1616 01643 7410          SKP                     /NONE
 1617 01644 5216          JMP     CTEXT3
 1618 01645 3410  CTEXT4, DCA I   IX1             /CLEAR NEXT POSITION
 1619 01646 7240          STA
 1620 01647 1010          TAD     IX1
 1621 01650 5606          JMP I   CTEXT

      /EDUSYSTEM 50 MONITOR FOR MELROSE HIGH SCHOOL #495AB               Page 39


 1622             
 1623             /SKIP LEADING SPACES AND TABS
 1624             /CALL   JMS SKIPS
 1625             /       BUFFER EMPTY
 1626             /       NORMAL RETURN
 1627             
 1628 01651 7540  SKISPA, -240
 1629 01652 7567  SKITAB, -211
 1630             
 1631 01653 0000  SKIPS,  0
 1632 01654 5257          JMP     .+3
 1633 01655 4504  SKIPS1, COMGET
 1634 01656 5653          JMP I   SKIPS           /NONE LEFT
 1635 01657 1073          TAD     CHAR
 1636 01660 7450          SNA
 1637 01661 5255          JMP     .-4
 1638 01662 1251          TAD     SKISPA
 1639 01663 7650          SNA CLA
 1640 01664 5255          JMP     SKIPS1
 1641 01665 1252          TAD     SKITAB
 1642 01666 1073          TAD     CHAR
 1643 01667 7650          SNA CLA
 1644 01670 5255          JMP     SKIPS1
 1645 01671 2253          ISZ     SKIPS
 1646 01672 5653          JMP I   SKIPS

      /EDUSYSTEM 50 MONITOR FOR MELROSE HIGH SCHOOL #495AB               Page 40


 1647             
 1648             /GET A CHARACTER FROM COMMAND STRING
 1649             /CALL   COMGET
 1650             /       NONE LEFT
 1651             /       RETURN WITH CHARACTER IN CHAR
 1652             
 1653 01673 7766  TC7766, 7766
 1654 01674 7400  TC7400, 7400
 1655 01675 0377  C0377,  377
 1656       4504  COMGET=JMS I    COMGEA
 1657 01676 0000  COMGE0, 0
 1658 01677 7200          CLA
 1659 01700 6211          DATFLD
 1660 01701 1422          TAD I   SITCNT
 1661 01702 7450          SNA
 1662 01703 5347          JMP     COMGE3
 1663 01704 2276          ISZ     COMGE0
 1664 01705 7041          CIA
 1665 01706 7040          CMA
 1666 01707 3422          DCA I   SITCNT
 1667 01710 2541          ISZ I   SIECNT
 1668 01711 5320          JMP     COMGE1
 1669 01712 1273          TAD     TC7766
 1670 01713 3541          DCA I   SIECNT
 1671 01714 1542          TAD I   SIBUF
 1672 01715 3351          DCA     COMGT1
 1673 01716 1751          TAD I   COMGT1
 1674 01717 3542          DCA I   SIBUF
 1675 01720 1541  COMGE1, TAD I   SIECNT
 1676 01721 1033          TAD     C0003
 1677 01722 7500          SMA
 1678 01723 7124          STL RAL
 1679 01724 7510          SPA
 1680 01725 7161          STL CIA
 1681 01726 1542          TAD I   SIBUF
 1682 01727 3351          DCA     COMGT1
 1683 01730 1751          TAD I   COMGT1
 1684 01731 7430          SZL
 1685 01732 5345          JMP     COMGE2
 1686 01733 0274          AND     TC7400
 1687 01734 3364          DCA     COMGT2
 1688 01735 2351          ISZ     COMGT1
 1689 01736 1751          TAD I   COMGT1
 1690 01737 0274          AND     TC7400
 1691 01740 7112          CLL RTR
 1692 01741 7012          RTR
 1693 01742 1364          TAD     COMGT2
 1694 01743 7012          RTR
 1695 01744 7012          RTR
 1696 01745 0275  COMGE2, AND     C0377
 1697 01746 3073          DCA     CHAR
 1698 01747 6221  COMGE3, CHDF
 1699 01750 5676          JMP I   COMGE0

      /EDUSYSTEM 50 MONITOR FOR MELROSE HIGH SCHOOL #495AB               Page 41


 1700             
 1701             /GET A FREE BLOCK AND RETURN ITS ADDRESS
 1702             /CALL   TAD FIELD 1 LINK
 1703             /       GETFBL
 1704             /       NONE AVAILABLE
 1705             /       ADDR IN AC
 1706             
 1707       4511  GETFBL=JMS I    GETFBA
 1708             
 1709             COMGT1,
 1710 01751 0000  GETFB0, 0
 1711 01752 3054          DCA     CHDFA
 1712 01753 1054          TAD     CHDFA
 1713 01754 6202          CIF
 1714 01755 4571          GETBLK
 1715 01756 5751          JMP I   GETFB0
 1716 01757 6211          DATFLD
 1717 01760 1454          TAD I   CHDFA
 1718 01761 6221          CHDF
 1719 01762 2351          ISZ     GETFB0
 1720 01763 5751          JMP I   GETFB0
 1721             
 1722             
 1723             /SEARCH FOR JOB IN CORE
 1724             /CALL   TAD SEARCH ITEM
 1725             /       CORES
 1726             /       RETURN WITH CORE ARG IN AC
 1727             
 1728             COMGT2,
 1729 01764 0000  CORSER, 0
 1730 01765 6202          CIF
 1731 01766 4570          CORE
 1732 01767 4237          SWAP SI CJOB
 1733 01770 7200          CLA
 1734 01771 5764          JMP I   CORSER
 1735             
 1736             
 1737             
 1738             
 1739 01772 0312  JOBNO,  "J;"O;"B;240;0
      01773 0317
      01774 0302
      01775 0240
      01776 0000
 1740 01777 0240  KSPACE, 240;240;"K;0
      02000 0240
      02001 0313
      02002 0000

      /EDUSYSTEM 50 MONITOR FOR MELROSE HIGH SCHOOL #495AB               Page 42


 1741             
 1742             
 1743             /NUMBER INPUT
 1744             /CALL   NUMBIN
 1745             /       -N      N=7,9 IN ASCII
 1746             /       NOT A NUMBER
 1747             /       # IN AC
 1748             
 1749       4501  NUMBIN=JMS I    NUMBIA
 1750             
 1751             ASCOT0,
 1752 02003 0000  NUMSGN, 0                       /SIGN
 1753       0075  NUMAGN=NUMHO+1                  /MAGNITUDE
 1754             ASCOT1,
 1755 02004 0000  NUMCNT, 0                       /DIGIT COUNT
 1756 02005 7764  NUMCOM, 240-254                 /" "-","
 1757 02006 7525  NUMPLS, -253                    /+
 1758 02007 7523  NUMINU, -255                    /-
 1759 02010 7520  NUMZER, -260
 1760 02011 7773  NUMM5,  -5
 1761 02012 0017  NUMB17, 17
 1762 02013 5304  NUMDSP, JMP     NUMDEC
 1763             
 1764 02014 0000  NUMBI0, 0
 1765 02015 1614          TAD I   NUMBI0          /SET CONVERSION DISPATCH
 1766 02016 0032          AND     C0002
 1767 02017 7650          SNA CLA
 1768 02020 1042          TAD     C0010
 1769 02021 1213          TAD     NUMDSP
 1770 02022 3303          DCA     NUMDEC-1
 1771 02023 3203          DCA     NUMSGN          /INITIALIZE
 1772 02024 3075          DCA     NUMAGN
 1773 02025 3074          DCA     NUMHO
 1774 02026 3204          DCA     NUMCNT
 1775 02027 4404          SKIP                    /SKIP SPACES AND TABS
 1776 02030 5346          JMP     NUMBI4          /BUFFER EMPTY
 1777 02031 1073          TAD     CHAR
 1778 02032 1206          TAD     NUMPLS          /+?
 1779 02033 7650          SNA CLA
 1780 02034 5242          JMP     NUMBI1          /YES
 1781 02035 1073          TAD     CHAR
 1782 02036 1207          TAD     NUMINU          /-?
 1783 02037 7640          SZA CLA
 1784 02040 5244          JMP     NUMBI2          /NO
 1785 02041 2203          ISZ     NUMSGN
 1786 02042 4504  NUMBI1, COMGET                  /GET A CHARACTER
 1787 02043 5322          JMP     NUMBI3
 1788 02044 1073  NUMBI2, TAD     CHAR
 1789 02045 1210          TAD     NUMZER
 1790 02046 7710          SPA CLA                 /DIGIT?
 1791 02047 5322          JMP     NUMBI3          /NO
 1792 02050 1073          TAD     CHAR
 1793 02051 1614          TAD I   NUMBI0
 1794 02052 7740          SMA SZA CLA
 1795 02053 5322          JMP     NUMBI3
 1796 02054 1073          TAD     CHAR
 1797 02055 0212          AND     NUMB17

      /EDUSYSTEM 50 MONITOR FOR MELROSE HIGH SCHOOL #495AB               Page 43


 1798 02056 3054          DCA     CHDFA
 1799 02057 2204          ISZ     NUMCNT
 1800 02060 1204          TAD     NUMCNT          /MORE THAN 4 DIGITS?
 1801 02061 1211          TAD     NUMM5
 1802 02062 7710          SPA CLA
 1803 02063 5277          JMP     NUMBI5          /NO
 1804 02064 1074          TAD     NUMHO           /SHIFT HIGH ORDER
 1805 02065 7106          CLL RTL
 1806 02066 7004          RAL
 1807 02067 0041          AND     C7770
 1808 02070 3074          DCA     NUMHO
 1809 02071 1075          TAD     NUMAGN
 1810 02072 7106          CLL RTL
 1811 02073 7006          RTL
 1812 02074 0035          AND     C0007
 1813 02075 1074          TAD     NUMHO
 1814 02076 3074          DCA     NUMHO
 1815 02077 1075  NUMBI5, TAD     NUMAGN
 1816 02100 7106          CLL RTL
 1817 02101 7004          RAL
 1818 02102 0041          AND     C7770
 1819 02103 2103          .
 1820 02104 7100  NUMDEC, CLL
 1821 02105 1075          TAD     NUMAGN
 1822 02106 7430          SZL
 1823 02107 2074          ISZ     NUMHO
 1824 02110 7100          CLL
 1825 02111 1075          TAD     NUMAGN
 1826 02112 7430          SZL
 1827 02113 2074          ISZ     NUMHO
 1828 02114 7100          CLL
 1829 02115 1054          TAD     CHDFA
 1830 02116 7430          SZL
 1831 02117 2074          ISZ     NUMHO
 1832 02120 3075          DCA     NUMAGN
 1833 02121 5242          JMP     NUMBI1
 1834             
 1835 02122 1350  NUMBI3, TAD     C7540           /-SPACE
 1836 02123 1073          TAD     CHAR            /WAS TERMINATOR A SPACE?
 1837 02124 7450          SNA
 1838 02125 5334          JMP     NUMBI6          /YES, OK
 1839 02126 1205          TAD     NUMCOM          /NO- IS IT A ","
 1840 02127 7650          SNA CLA
 1841 02130 5334          JMP     NUMBI6          /YES
 1842 02131 4503          ENDTST                  /NO--WAS IT AN ACCEPTABLE END CHAR?
 1843 02132 7410          SKP                     /YES, OK
 1844 02133 5346          JMP     NUMBI4          /NO, COMPLAIN
 1845             
 1846 02134 1204  NUMBI6, TAD     NUMCNT          /ANY VALID DIGITS IN STRING?
 1847 02135 7650          SNA CLA
 1848 02136 5346          JMP     NUMBI4          /NOPE
 1849 02137 2214          ISZ     NUMBI0          /YES, IT WAS A VALID STRING.
 1850 02140 1203          TAD     NUMSGN
 1851 02141 7110          CLL RAR
 1852 02142 7200          CLA
 1853 02143 1075          TAD     NUMAGN
 1854 02144 7430          SZL

      /EDUSYSTEM 50 MONITOR FOR MELROSE HIGH SCHOOL #495AB               Page 44


 1855 02145 7041          CIA
 1856 02146 2214  NUMBI4, ISZ     NUMBI0
 1857 02147 5614          JMP I   NUMBI0
 1858 02150 7540  C7540,  -240                    /-SPACE

      /EDUSYSTEM 50 MONITOR FOR MELROSE HIGH SCHOOL #495AB               Page 45


 1859             
 1860             /OUTPUT ASCII MESSAGE
 1861             /CALL   TAD ADDR OF DEVTBL ENTRY OR 0 IF RESPONSE DDB
 1862             /       ASCOUT
 1863             /       POINTER TO MESSAGE (TERMINATED BY 0
 1864             /       WON'T FIT
 1865             /       OK
 1866             
 1867       4502  ASCOUT=JMS I    ASCOUA
 1868             
 1869             
 1870 02151 0000  ASCOU0, 0
 1871 02152 7450          SNA
 1872 02153 4521          RESDDB
 1873 02154 6201  ASCOU3, CDF
 1874 02155 3421          DCA I   CONDVA
 1875 02156 6221          CHDF
 1876 02157 1751          TAD I   ASCOU0
 1877 02160 3204          DCA     ASCOT1
 1878 02161 2351          ISZ     ASCOU0
 1879 02162 1604  ASCOU1, TAD I   ASCOT1          /GET NEXT CHAR
 1880 02163 7450          SNA                     /END OF STRING
 1881 02164 5374          JMP     ASCOU2          /YES
 1882 02165 6203          CIF CDF                 /NO, STORE IT IN BUFFER
 1883 02166 3431          DCA I   TTCHAR
 1884 02167 6221          CHDF
 1885 02170 4573          PRINT
 1886 02171 5751          JMP I   ASCOU0          /WON'T FIT
 1887 02172 2204          ISZ     ASCOT1
 1888 02173 5362          JMP     ASCOU1
 1889 02174 2351  ASCOU2, ISZ     ASCOU0
 1890 02175 5751          JMP I   ASCOU0

      /EDUSYSTEM 50 MONITOR FOR MELROSE HIGH SCHOOL #495AB               Page 46


 1891             
 1892       2200  *SUBR+400
 1893             
 1894             /GET JOB TABLE ADDRESS
 1895             /CALL   GETTBA
 1896             /       RELATIVE ADDRESS
 1897             /       RETURN
 1898             
 1899       4512  GETTBA=JMS I    GETBAA
 1900             
 1901 02200 0000  GETTB0, 0
 1902 02201 6221          CHDF
 1903 02202 1600          TAD I   GETTB0
 1904 02203 3210          DCA     GETTB1
 1905 02204 2200          ISZ     GETTB0
 1906 02205 1161          TAD     JOBDAT
 1907 02206 6202          CIF
 1908 02207 4574          GETJTA
 1909 02210 0000  GETTB1, 0
 1910 02211 5600          JMP I   GETTB0
 1911             /GET RESPONSE DEVTBL ADDRESS
 1912             /CALL   RESDDB
 1913             /       ADDR IN AC AND COMRDB
 1914             
 1915       4521  RESDDB=JMS I    RESPDA
 1916             
 1917 02212 0000  RESPDB, 0
 1918 02213 6201          CDF
 1919 02214 7001          IAC
 1920 02215 1420          TAD I   COMPTR
 1921 02216 3056          DCA     COMRDB
 1922 02217 1056          TAD     COMRDB
 1923 02220 6221          CHDF
 1924 02221 5612          JMP I   RESPDB

      /EDUSYSTEM 50 MONITOR FOR MELROSE HIGH SCHOOL #495AB               Page 47


 1925             
 1926             /DELETE BUFFER TO CURRENT POINTER
 1927             /CALL   JMS BUFDEL
 1928             /       RETURN
 1929             
 1930       4525  BUFDEL=JMS I    BUFDEA
 1931             
 1932 02222 0000  BUFDT0, 0
 1933 02223 0000  BUFDE0, 0
 1934 02224 1055          TAD     COMDB0
 1935 02225 7450          SNA
 1936 02226 5623          JMP I   BUFDE0          /NO, NOTHING TO DELETE
 1937 02227 1034          TAD     C0004
 1938 02230 3222          DCA     BUFDT0
 1939 02231 6211          DATFLD
 1940 02232 1622          TAD I   BUFDT0
 1941 02233 7650          SNA CLA
 1942 02234 5265          JMP     BUFDE3
 1943 02235 1055          TAD     COMDB0
 1944 02236 1035          TAD     C0007
 1945 02237 3222          DCA     BUFDT0
 1946 02240 1542  BUFDE1, TAD I   SIBUF
 1947 02241 7041          CIA
 1948 02242 1622          TAD I   BUFDT0
 1949 02243 7650          SNA CLA
 1950 02244 5253          JMP     BUFDE2
 1951 02245 1622          TAD I   BUFDT0
 1952 02246 6221          CHDF
 1953 02247 4513          RETDBL
 1954 02250 6211          DATFLD
 1955 02251 3622          DCA I   BUFDT0
 1956 02252 5240          JMP     BUFDE1
 1957 02253 1033  BUFDE2, TAD     C0003
 1958 02254 1055          TAD     COMDB0
 1959 02255 3010          DCA     IX1
 1960 02256 1422          TAD I   SITCNT
 1961 02257 7450          SNA
 1962 02260 5267          JMP     BUFDE4
 1963 02261 2010          ISZ     IX1
 1964 02262 3410          DCA I   IX1
 1965 02263 1541          TAD I   SIECNT
 1966 02264 3410          DCA I   IX1
 1967 02265 6221  BUFDE3, CHDF
 1968 02266 5623          JMP I   BUFDE0
 1969             
 1970 02267 1622  BUFDE4, TAD I   BUFDT0
 1971 02270 6221          CHDF
 1972 02271 4514          RETBKS
 1973 02272 6211          DATFLD
 1974 02273 3410          DCA I   IX1
 1975 02274 3410          DCA I   IX1
 1976 02275 3410          DCA I   IX1
 1977 02276 3410          DCA I   IX1
 1978 02277 6221          CHDF
 1979 02300 5623          JMP I   BUFDE0

      /EDUSYSTEM 50 MONITOR FOR MELROSE HIGH SCHOOL #495AB               Page 48


 1980             
 1981             /DECREMENT COMCNT
 1982             /CALL   DECRCT
 1983             /       RETURN
 1984             
 1985       4500  DECRCT=JMS I    DECRCA
 1986             
 1987 02301 0000  DECRC0, 0
 1988 02302 6201          CDF
 1989 02303 7240          STA
 1990 02304 1452          TAD I   COMCNT
 1991 02305 7510          SPA
 1992 02306 7200          CLA
 1993 02307 3452          DCA I   COMCNT
 1994 02310 6221          CHDF
 1995 02311 5701          JMP I   DECRC0
 1996 02312 0301  ASSIND, "A;"S;"S;"I;"G;"N;"E;"D;0
      02313 0323
      02314 0323
      02315 0311
      02316 0307
      02317 0316
      02320 0305
      02321 0304
      02322 0000
 1997 02323 3757  S3757,  3757
 1998             
 1999 02324 4523  S,      GETWRD
 2000 02325 0000          JOBSTS
 2001 02326 6211          DATFLD
 2002 02327 0323          AND     S3757           /TURN OFF HER RUN BIT
 2003 02330 3472          DCA I   IOTP7
 2004 02331 6221          CHDF
 2005             
 2006             IFNZRO TC01+RK05+CDR <
 2007 02332 4523          GETWRD
 2008 02333 0004          JOBWMK+1
 2009 02334 6211          DATFLD
 2010 02335 0035          AND     C0007
 2011 02336 1341          TAD     .+3
 2012 02337 3340          DCA     .+1
 2013 02340 0000          .-.>
 2014 02341 5742          JMP I   .+1
 2015 02342 2352          SEXIT                   /NO WAIT 2 CONDITIONS TAKE S EXIT
 2016             IFNZRO TC01+RK05+CDR <
 2017             IFNZRO TC01 <
 2018 02343 0647          WAIT1                   /DECTAPE CONTROLLER WAIT
 2019 02344 0657          WAIT2>                  /DECTAPE TIMER WAIT
 2020             IFZERO TC01<
 2021                     SEXIT
 2022                     SEXIT>
 2023             IFNZRO RK05 <
 2024                     WAIT3>                  /WAITING FOR THE RK05
 2025             IFZERO RK05 <
 2026 02345 2352          SEXIT>
 2027                     IFNZRO CDR <
 2028                     SEXIT>                  /NOTHING SPECIAL FOR THE CARD READER AT THIS TIME

      /EDUSYSTEM 50 MONITOR FOR MELROSE HIGH SCHOOL #495AB               Page 49


 2029             IFZERO CDR <
 2030 02346 2352          SEXIT>
 2031 02347 2352          SEXIT
 2032 02350 2352          SEXIT
 2033 02351 2352          SEXIT>
 2034 02352 5506  SEXIT,  JMP I   COMEXA
 2035 02353 0240  SPACES, " ;" ;" ;" ;0
      02354 0240
      02355 0240
      02356 0240
      02357 0000
 2036             
 2037             IFZERO MQREG-1  <
 2038             
 2039 02360 0240  WHERMQ, 240                     /SP MQ=
 2040 02361 0315          315
 2041 02362 0321          321
 2042 02363 0275          275
 2043 02364 0000          0  >
 2044             
 2045             
 2046             
 2047             /RUN USER PROGRAM "LOGOUT" TO DELETE FILES FOR THIS GUY
 2048             /"LOGOUT" ISSUES USER LOUT IOT TO MAKE JOB GO AWAY
 2049             
 2050 02365 5772          JMP I   LOGRER          /SYSTEM ERROR ON OPEN
 2051 02366 5773          JMP I   LOGR1           /"LOGOUT" SAVE FILE OPENED
 2052             
 2053 02367 1374  LOGOUT, TAD     LOGMA           /GET POINTER TO "LOGOUT" STRING
 2054 02370 5771          JMP I   .+1             /USER CODE FROM "SYSTAT" TO FINISH UP
 2055 02371 4712          SYSTAT+1
 2056             
 2057 02372 4614  LOGRER, RERR
 2058 02373 4623  LOGR1,  R1
 2059 02374 6753  LOGMA,  LOGOMA-1

      /EDUSYSTEM 50 MONITOR FOR MELROSE HIGH SCHOOL #495AB               Page 50


 2060             
 2061       2400  *SUBR+600
 2062             
 2063             /ASCII TO SIXBIT CONVERT
 2064             /CALL   ASCSIX
 2065             /       SOURCE-1        (TERMINATED BY 0)
 2066             /       DESTINATION-1
 2067             /       RETURN
 2068             
 2069       4510  ASCSIX=JMS I    ASCSIA
 2070             
 2071 02400 7540  ASC240, -240
 2072             
 2073 02401 0000  ASCSI0, 0
 2074 02402 1601          TAD I   ASCSI0
 2075 02403 3010          DCA     IX1
 2076 02404 2201          ISZ     ASCSI0
 2077 02405 1601          TAD I   ASCSI0
 2078 02406 3011          DCA     IX2
 2079 02407 2201          ISZ     ASCSI0
 2080 02410 1410  ASCSI1, TAD I   IX1
 2081 02411 7450          SNA
 2082 02412 5601          JMP I   ASCSI0          /THAT'S ALL
 2083 02413 1200          TAD     ASC240          /CONVERT TO SIXBIT
 2084 02414 7106          CLL RTL                 /NO
 2085 02415 7006          RTL
 2086 02416 7006          RTL
 2087 02417 3054          DCA     CHDFA
 2088 02420 1410          TAD I   IX1
 2089 02421 7450          SNA
 2090 02422 5227          JMP     ASCSI2
 2091 02423 1200          TAD     ASC240
 2092 02424 1054          TAD     CHDFA
 2093 02425 3411          DCA I   IX2
 2094 02426 5210          JMP     ASCSI1
 2095 02427 1054  ASCSI2, TAD     CHDFA
 2096 02430 3411          DCA I   IX2
 2097 02431 5601          JMP I   ASCSI0

      /EDUSYSTEM 50 MONITOR FOR MELROSE HIGH SCHOOL #495AB               Page 51


 2098             
 2099             /SKIP TO END OF COMMAND
 2100             /CALL   SKPCOM
 2101             /       EMPTY BUFFER
 2102             /       NORMAL RETURN
 2103             
 2104             
 2105 02432 0000  SKPCO0, 0
 2106 02433 4503  SKPCO1, ENDTST                  /END?
 2107 02434 5240          JMP     SKPCO2          /YES
 2108 02435 4504          COMGET                  /NO, GET NEXT CHAR
 2109 02436 5632          JMP I   SKPCO0          /NONE
 2110 02437 5233          JMP     SKPCO1
 2111 02440 2232  SKPCO2, ISZ     SKPCO0
 2112 02441 5632          JMP I   SKPCO0
 2113             
 2114             
 2115             /RETURN BLOCK TO FREE STORAGE
 2116             /CALL   TAD ADDR OF BLOCK
 2117             /       RETDBL
 2118             /       RETURN
 2119             
 2120       4513  RETDBL=JMS I    RETDBA
 2121             
 2122 02442 0000  RETDB0, 0
 2123 02443 6202          CIF
 2124 02444 4576          RETBLK
 2125 02445 5642          JMP I   RETDB0
 2126             
 2127             /RETURN LINKED BLOCKS TO FREE STORAGE
 2128             /CALL   TAD ADDRESS OF BLOCK
 2129             /       RETBKS
 2130             /       RETURN
 2131             
 2132       4514  RETBKS=JMS I    RETBKA
 2133             
 2134 02446 0000  RETBK0, 0
 2135 02447 7450          SNA
 2136 02450 5646          JMP I   RETBK0
 2137 02451 4513          RETDBL
 2138 02452 5247          JMP .-3

      /EDUSYSTEM 50 MONITOR FOR MELROSE HIGH SCHOOL #495AB               Page 52


 2139             
 2140             /OCTAL TO ASCII CONVERT
 2141             /CALL   TAD OCTAL #
 2142             /       OCTASC
 2143             /       BUFFER ADDR-1
 2144             /       RETURN
 2145             
 2146       4524  OCTASC=JMS I    OCTASA
 2147             
 2148       2503  OCTASN=ASSCO0
 2149       2512  OCTACT=RELCO0
 2150 02453 0260  OCT260, 260
 2151             
 2152 02454 0000  OCTAS0, 0
 2153 02455 3303          DCA     OCTASN
 2154 02456 1034          TAD     C0004
 2155 02457 7041          CIA
 2156 02460 3312          DCA     OCTACT
 2157 02461 1654          TAD I   OCTAS0
 2158 02462 3010          DCA     IX1
 2159 02463 2254          ISZ     OCTAS0
 2160 02464 1303          TAD     OCTASN
 2161 02465 7104          CLL RAL
 2162 02466 7410          SKP
 2163 02467 1303  OCTAS1, TAD     OCTASN
 2164 02470 7006          RTL
 2165 02471 7004          RAL
 2166 02472 3303          DCA     OCTASN
 2167 02473 1303          TAD     OCTASN
 2168 02474 0035          AND     C0007
 2169 02475 1253          TAD     OCT260
 2170 02476 3410          DCA I   IX1
 2171 02477 2312          ISZ     OCTACT
 2172 02500 5267          JMP     OCTAS1
 2173 02501 3410          DCA I   IX1
 2174 02502 5654          JMP I   OCTAS0
 2175             
 2176             /ASSIGN THIS FIELD TO JOB
 2177             /CALL   ASSCOR
 2178             
 2179 02503 0000  ASSCO0, 0
 2180 02504 6201          CDF
 2181 02505 1560          TAD I   JOB
 2182 02506 3711          DCA I   SICORE
 2183 02507 6221          CHDF
 2184 02510 5703          JMP I   ASSCO0
 2185             
 2186             /RELEASE THIS FIELD
 2187             /CALL   RELCOR
 2188             
 2189 02511 7002  SICORE, CORTBL+1
 2190             
 2191 02512 0000  RELCO0, 0
 2192 02513 6201          CDF
 2193 02514 1015          TAD     C0200
 2194 02515 3711          DCA I   SICORE
 2195 02516 6221          CHDF

      /EDUSYSTEM 50 MONITOR FOR MELROSE HIGH SCHOOL #495AB               Page 53


 2196 02517 5712          JMP I   RELCO0

      /EDUSYSTEM 50 MONITOR FOR MELROSE HIGH SCHOOL #495AB               Page 54


 2197             
 2198 02520 4502  ASSIG9, ASCOUT                  /TELL USER WHAT HE GOT
 2199 02521 6635          CRLF
 2200 02522 7000          NOP
 2201 02523 4337          JMS     ASSUNI
 2202 02524 4502          ASCOUT
 2203 02525 2312          ASSIND                  /TYPE "ASSIGNED"
 2204 02526 0260  C0260,  260
 2205 02527 5506          JMP I   COMEXA          /AND LEAVE
 2206             
 2207 02530 0000  ASSOUT, 0                       /TYPE CHARACTER IN AC OUT;
 2208 02531 7041          CIA                     /FOLLOWED BY SPACE
 2209 02532 3374          DCA     ASSBUF          /CALLED WITH - CHAR IN AC
 2210 02533 4502          ASCOUT
 2211 02534 2574          ASSBUF                  /TYPE STRING
 2212 02535 7000          NOP
 2213 02536 5730          JMP I   ASSOUT
 2214             
 2215 02537 0000  ASSUNI, 0                       /ROUTINE TO TYPE OUT UNIT NAME
 2216 02540 4523          GETWRD                  /FIRST FIGURE OUT WHAT HE WANTED
 2217 02541 0011          JOBREG                  /PC CONTAINS ORIGINAL REQUEST
 2218 02542 0036          AND     C0037
 2219 02543 3063          DCA     IOTP0           /DEVICE #
 2220 02544 1063          TAD     IOTP0           /WHAT KIND OF DEVICE
 2221 02545 1372          TAD     C7773           /-5
 2222 02546 7510          SPA                     /DEVICE #'S .GE. 5 ARE DTA
 2223 02547 5365          JMP     ASSG10          /NOT DTA
 2224 02550 3063          DCA     IOTP0           /UNIT #
 2225 02551 1063          TAD     IOTP0
 2226 02552 0041          AND     C7770
 2227 02553 7650          SNA CLA
 2228 02554 1035          TAD     C0007
 2229 02555 1371          TAD     ASSDK
 2230 02556 4330          JMS     ASSOUT          /TYPE "D SPACE"         (or K space)
 2231 02557 1063          TAD     IOTP0
 2232 02560 0035          AND     C0007
 2233 02561 1326          TAD     C0260
 2234 02562 7041          CIA
 2235 02563 4330  ASSG11, JMS     ASSOUT          /TYPE "N SPACE"; N=0,1,...,7
 2236 02564 5737          JMP I   ASSUNI          /RETURN
 2237             
 2238 02565 1373  ASSG10, TAD     ASSTBZ          /END OF ASSIGNMENT TABLE
 2239 02566 3063          DCA     IOTP0           /    +UNIT # -5 = PTR TO ASSTBL
 2240 02567 1463          TAD I   IOTP0
 2241 02570 5363          JMP     ASSG11          /TYPE OUT DEVICE ASSIGNED
 2242             
 2243 02571 7465  ASSDK,  -"K
 2244 02572 7773  C7773,  7773
 2245 02573 3406  ASSTBZ, ASSD
 2246 02574 0000  ASSBUF, 0
 2247 02575 0240          240
 2248 02576 0000          0

      /EDUSYSTEM 50 MONITOR FOR MELROSE HIGH SCHOOL #495AB               Page 55


 2249             
 2250       2600  *SUBR+1000
 2251             
 2252             /SIXBIT TO ASCII CONVERT
 2253             /CALL   JMS SIXASC
 2254             /       SIXBIT ADDR (TERMINATED BY 0 OR SIXTH CHAR)
 2255             /       ASCII BUFFER-1
 2256             /       RETURN
 2257             
 2258 02600 7775  SIXM6,  -3
 2259 02601 0000  SIXCNT, 0
 2260 02602 0000  SIXADR, 0
 2261       2762  SIX240=WHERLK
 2262 02603 0077  C0077,  77
 2263             
 2264 02604 0000  SIXASC, 0
 2265 02605 7450          SNA
 2266 02606 1200          TAD     SIXM6           /COUNT
 2267 02607 3201          DCA     SIXCNT
 2268 02610 1604          TAD I   SIXASC
 2269 02611 3202          DCA     SIXADR
 2270 02612 2204          ISZ     SIXASC
 2271 02613 1604          TAD I   SIXASC
 2272 02614 3011          DCA     IX2
 2273 02615 2204          ISZ     SIXASC
 2274 02616 1602  SIXAS2, TAD I   SIXADR
 2275 02617 0137          AND     C7700
 2276 02620 7450          SNA
 2277 02621 5240          JMP     SIXAS1
 2278 02622 7112          CLL RTR
 2279 02623 7012          RTR
 2280 02624 7012          RTR
 2281 02625 1362          TAD     SIX240
 2282 02626 3411          DCA I   IX2
 2283 02627 1602          TAD I   SIXADR
 2284 02630 0203          AND     C0077
 2285 02631 7450          SNA
 2286 02632 5240          JMP     SIXAS1
 2287 02633 1362          TAD     SIX240
 2288 02634 3411          DCA I   IX2
 2289 02635 2202          ISZ     SIXADR
 2290 02636 2201          ISZ     SIXCNT
 2291 02637 5216          JMP     SIXAS2
 2292 02640 3411  SIXAS1, DCA I   IX2             /CLEAR LAST WORD
 2293 02641 5604          JMP I   SIXASC

      /EDUSYSTEM 50 MONITOR FOR MELROSE HIGH SCHOOL #495AB               Page 56


 2294             
 2295             /RETURN PARAMETERS
 2296             /CALL   RETPAR
 2297             /       RETURN
 2298             
 2299       4526  RETPAR=JMS I RETPAA
 2300             
 2301             
 2302 02642 0000  RETPA0, 0
 2303 02643 4523          GETWRD
 2304 02644 0007          JOBLNK
 2305 02645 7001          IAC
 2306 02646 3252          DCA     RETPA1
 2307 02647 6202          CIF
 2308 02650 4567          BLT
 2309 02651 6211          DATFLD                  /SOURCE FLD
 2310 02652 0000  RETPA1, 0                       /SOURCE ADDR
 2311 02653 6221          CHDF                    /DESTINATION FIELD
 2312 02654 0063          IOTP0                   /DEST ADDR
 2313 02655 7771          -7                      /-COUNT
 2314 02656 7240          STA                     /RETURN PARAMETER LBLOCK TO FREE STORAGE
 2315 02657 1252          TAD     RETPA1
 2316 02660 6202          CIF
 2317 02661 4576          RETBLK
 2318 02662 7200          CLA
 2319 02663 5642          JMP I   RETPA0
 2320             /SAVE/RESTORE BUFFER POINTERS
 2321             /CALL   JMS RESTBP
 2322             /       RETURN
 2323             
 2324             
 2325 02664 0000  RESTBP, 0
 2326 02665 1055          TAD     COMDB0
 2327 02666 1034          TAD     C0004
 2328 02667 3010          DCA     IX1
 2329 02670 6211          DATFLD
 2330 02671 1410          TAD I   IX1
 2331 02672 3422          DCA I   SITCNT
 2332 02673 1410          TAD I   IX1
 2333 02674 3541          DCA I   SIECNT
 2334 02675 1410          TAD I   IX1
 2335 02676 3542          DCA I   SIBUF
 2336 02677 6221          CHDF
 2337 02700 5664          JMP I   RESTBP

      /EDUSYSTEM 50 MONITOR FOR MELROSE HIGH SCHOOL #495AB               Page 57


 2338             
 2339 02701 1053  SAVNAM, TAD     SIJOB           /PRGTBL INDEX=3*JOB
 2340 02702 1053          TAD     SIJOB
 2341 02703 1053          TAD     SIJOB
 2342 02704 1321          TAD     PRGTBA          /START OF PRGTBL-3 (NO ENTRY FOR JOB 0)
 2343 02705 3010          DCA     IX1
 2344 02706 6211          DATFLD
 2345 02707 1066          TAD     IOTP3           /TRANSFER 3 WORD BLOCK
 2346 02710 3410          DCA I   IX1
 2347 02711 1067          TAD     IOTP4
 2348 02712 3410          DCA I   IX1
 2349 02713 1070          TAD     IOTP5
 2350 02714 3410          DCA I   IX1
 2351 02715 6221          CHDF
 2352 02716 1033          TAD     C0003           /FILE 3
 2353 02717 3064          DCA     IOTP1
 2354 02720 5516          JMP I   LNGIOT          /GO DO OPEN
 2355             
 2356 02721 3157  PRGTBA, PRGTBL-3-1
 2357             
 2358             
 2359 02722 0240  HASITM, " ;" ;"H;"A;"S;" ;" ;0
      02723 0240
      02724 0310
      02725 0301
      02726 0323
      02727 0240
      02730 0240
      02731 0000

      /EDUSYSTEM 50 MONITOR FOR MELROSE HIGH SCHOOL #495AB               Page 58


 2360             
 2361             /ROUTINE TO GET USER'S ACCOUNT # IN FORM M,N OR M
 2362             /CALL
 2363             /       ACCTIN
 2364             /       ILLEGAL CHARACTER IN STRING
 2365             /       RETURN WITH ACCOUNT # IN AC
 2366             
 2367 02732 0000  ACC0,   0
 2368 02733 3360          DCA     ACC1            /CLEAR #
 2369 02734 4501  ACC3,   NUMBIN                  /GET ONE COMPONENT
 2370 02735 7511          -"7
 2371 02736 5347          JMP     ACC4            /COULDN'T DO IT
 2372 02737 1360          TAD     ACC1            /ACCUMULATE INTO TOTAL
 2373 02740 3360          DCA     ACC1
 2374 02741 1073          TAD     CHAR            /TERMINATOR A COMMA
 2375 02742 1361          TAD     ACCOMA
 2376 02743 7650          SNA CLA
 2377 02744 5350          JMP     ACC2            /YES-- SO SHIFT NUMBER THUS FAR INTO LEFT HALF OF WORD
 2378 02745 1360          TAD     ACC1            /NO- RETURN WHOLE #
 2379 02746 2332          ISZ     ACC0            /SKIP TO INDICATE GOODNESS
 2380 02747 5732  ACC4,   JMP I   ACC0
 2381             
 2382 02750 1360  ACC2,   TAD     ACC1            /SHIFT IT LEFT 6 PLACES
 2383 02751 7106          CLL RTL
 2384 02752 7006          RTL
 2385 02753 7006          RTL
 2386 02754 3360          DCA     ACC1            /SAVE IT
 2387 02755 4504          COMGET                  /GET PAST THE OFFENDING COMMA
 2388 02756 5347          JMP     ACC4            /NONE LEFT, BUT WE NEED ONE--ERROR
 2389 02757 5334          JMP     ACC3            /GET NEXT PART OF NUMBER
 2390             
 2391 02760 0000  ACC1,   0
 2392 02761 7524  ACCOMA, -",
 2393 02762 0240  WHERLK, 240                     /SP L=
 2394 02763 0314          314
 2395 02764 0275          275
 2396 02765 0000          0

      /EDUSYSTEM 50 MONITOR FOR MELROSE HIGH SCHOOL #495AB               Page 59


 2397             
 2398       3000  *COMMAN
 2399             
 2400 03000 4203  LOGINE, JMS     LOGIE0
 2401 03001 4533          SIERR
 2402 03002 5506          JMP I   COMEXA
 2403             
 2404 03003 0000  LOGIE0, 0
 2405 03004 1055          TAD     COMDB0
 2406 03005 7450          SNA
 2407 03006 5216          JMP     LOGIE1
 2408 03007 7001          IAC
 2409 03010 3063          DCA     IOTP0
 2410 03011 6211          DATFLD
 2411 03012 1463          TAD I   IOTP0
 2412 03013 0137          AND     C7700
 2413 03014 3463          DCA I   IOTP0
 2414 03015 6221          CHDF
 2415 03016 4521  LOGIE1, RESDDB
 2416 03017 6211          DATFLD
 2417 03020 7200          CLA
 2418 03021 1456          TAD I   COMRDB
 2419 03022 7450          SNA
 2420 03023 5227          JMP     LOGIE2
 2421 03024 7001          IAC
 2422 03025 3063          DCA     IOTP0
 2423 03026 3463          DCA I   IOTP0
 2424 03027 6201  LOGIE2, CDF
 2425 03030 1560          TAD I   JOB             /SET JOB = 0
 2426 03031 0137          AND     C7700
 2427 03032 3560          DCA I   JOB
 2428 03033 1053          TAD     SIJOB
 2429 03034 1044          TAD     JOBTBA          /SET JOBTBL ENTRY=0
 2430 03035 3054          DCA     CHDFA
 2431 03036 6211          DATFLD
 2432 03037 3454          DCA I   CHDFA
 2433 03040 1561          TAD I   JOBDAT          /RETURN JOB STATUS BLOCKS
 2434 03041 6221          CHDF
 2435 03042 4514          RETBKS
 2436 03043 6211          DATFLD
 2437 03044 3561          DCA I   JOBDAT
 2438 03045 6221          CHDF
 2439 03046 5603          JMP I   LOGIE0
 2440 03047 6513  LOGUNA, UNACCT
 2441             
 2442 03050 4523  LOGINF, GETWRD
 2443 03051 0013          JOBREG+2
 2444 03052 7650          SNA CLA
 2445 03053 5257          JMP     LOGIF1          /HOW DID HE TERMINATE COMMAND
 2446 03054 4203          JMS     LOGIE0
 2447 03055 1247          TAD     LOGUNA
 2448 03056 5506          JMP I   COMEXA
 2449 03057 4502  LOGIF1, ASCOUT                  /FINISH TYPING MESSAGES ON LOGIN
 2450 03060 7546  VERSMA, VERSIM                  /FIRST OUTPUT VERSION #
 2451 03061 5506          JMP I   COMEXA
 2452 03062 1053          TAD     SIJOB           /NOW OUTPUT JOB#
 2453 03063 4715          JMS I   LOGJPR          /PRINT #JOB, ACCOUNT & CONSOLE#

      /EDUSYSTEM 50 MONITOR FOR MELROSE HIGH SCHOOL #495AB               Page 60


 2454 03064 4502          ASCOUT
 2455 03065 2353          SPACES
 2456 03066 5506          JMP I   COMEXA
 2457 03067 1316          TAD     LOGFA2          /FUDGE COMRET TO GO TO LOGIF2 ON COMPLETION
 2458 03070 3106          DCA     COMEXA          /       OF TIME EVALUATION
 2459 03071 1053          TAD     SIJOB           /PUT "LOGIN" IN PRGTBL FOR THIS JOB
 2460 03072 1053          TAD     SIJOB
 2461 03073 1053          TAD     SIJOB           /PRGTBL INDEX IS 3*JOB#
 2462 03074 1307          TAD     LOGPRG          /START OF PRGTBL-3-1
 2463 03075 3010          DCA     IX1
 2464 03076 6211          DATFLD
 2465 03077 1310          TAD     LOGN5A          /LO
 2466 03100 3410          DCA I   IX1
 2467 03101 1311          TAD     LOGN5B          /GI
 2468 03102 3410          DCA I   IX1
 2469 03103 1312          TAD     LOGN5C          /N
 2470 03104 3410          DCA I   IX1
 2471 03105 5706          JMP I   .+1             /NOW GO DO TIME EVALUATION
 2472 03106 5451          TIME3
 2473             
 2474 03107 3157  LOGPRG, PRGTBL-3-1
 2475 03110 5457  LOGN5A, 5457                    /LO
 2476 03111 4751  LOGN5B, 4751                    /GI
 2477 03112 5600  LOGN5C, 5600                    /N
 2478             
 2479             
 2480             
 2481 03113 1260  VERSIN, TAD     VERSMA          /TYPE OUT VERSION #
 2482 03114 5506          JMP I   COMEXA
 2483             
 2484 03115 4533  LOGJPR, USRJPR                  /PRINT USER #
 2485 03116 1346  LOGFA2, LOGIF2
 2486             
 2487             
 2488             
 2489             
 2490 03117 4512  IOTSET, GETTBA
 2491 03120 0007          JOBLNK
 2492 03121 3054          DCA     CHDFA
 2493 03122 1063          TAD     IOTP0
 2494 03123 6211          DATFLD
 2495 03124 3454          DCA I   CHDFA
 2496 03125 6221          CHDF
 2497 03126 5520          CALFIP                  /EXECUTE IOT
 2498 03127 1363  LOGME0, LOGE0
 2499 03130 6541  LOGME1, LOGE1
 2500 03131 5751  LOGME2, ILLREQ
 2501 03132 5200          JMP     LOGINE          /FIP ERROR RETURN
 2502 03133 5250          JMP     LOGINF          /OK RETURN
 2503 03134 1053  LOGIN,  TAD     SIJOB
 2504 03135 7640          SZA CLA
 2505 03136 5363          JMP     LOGIN2
 2506 03137 1044          TAD     JOBTBA          /JOB # AVAILABLE?
 2507 03140 3013          DCA     IX4
 2508 03141 6211          DATFLD
 2509 03142 1140          TAD     JOBONC
 2510 03143 3054          DCA     CHDFA

      /EDUSYSTEM 50 MONITOR FOR MELROSE HIGH SCHOOL #495AB               Page 61


 2511 03144 1413  LOGIN1, TAD I   IX4
 2512 03145 7650          SNA CLA
 2513 03146 5365          JMP     LOGIN4          /GOT A JOB #
 2514 03147 2054          ISZ     CHDFA
 2515 03150 5344          JMP     LOGIN1
 2516 03151 1330  LOGIN3, TAD     LOGME1          /CAPACITY EXCEEDED
 2517 03152 7410          SKP
 2518 03153 1331  LOGIN6, TAD     LOGME2          /NUMBER REQUIRED
 2519 03154 3063          DCA     IOTP0
 2520 03155 6201          CDF
 2521 03156 1560          TAD I   JOB
 2522 03157 0137          AND     C7700
 2523 03160 3560          DCA I   JOB
 2524 03161 1063          TAD     IOTP0
 2525 03162 5505          JMP I   COMERA
 2526 03163 1327  LOGIN2, TAD     LOGME0          /CONSOLE IN USE
 2527 03164 5505          JMP I   COMERA
 2528 03165 1044  LOGIN4, TAD     JOBTBA          /SAVE JOB #
 2529 03166 7041          CIA
 2530 03167 1013          TAD     IX4
 2531 03170 3053          DCA     SIJOB
 2532 03171 1053          TAD     SIJOB
 2533 03172 6201          CDF
 2534 03173 1560          TAD I   JOB
 2535 03174 3560          DCA I   JOB
 2536 03175 6221          CHDF
 2537 03176 4535          ACCTIN                  /GET ACCT #
 2538 03177 5353          JMP     LOGIN6          /NOT A NUMBER
 2539 03200 3065          DCA     IOTP2
 2540 03201 6211          DATFLD
 2541 03202 1065          TAD     IOTP2
 2542 03203 0676          AND I   OFFMSK
 2543 03204 6221          CHDF
 2544 03205 7640          SZA CLA
 2545 03206 5727          JMP I   LOGI3A
 2546 03207 1057          TAD     COMBFA          /GET PASSWORD IN ASCII
 2547 03210 4477          TEXTS
 2548 03211 7200          CLA
 2549 03212 4510          ASCSIX                  /CONVERT TO SIXBIT
 2550 03213 6000          COMBUF-1
 2551 03214 0065          IOTP3-1
 2552 03215 6201          CDF
 2553 03216 1447          TAD I   FRECNT
 2554 03217 1274          TAD     LOGMIN
 2555 03220 7710          SPA CLA
 2556 03221 5727          JMP I   LOGI3A
 2557 03222 1053          TAD     SIJOB           /PUT ENTRY IN TTYTBL
 2558 03223 1132          TAD     TTYTBA
 2559 03224 3072          DCA     IOTP7
 2560 03225 4521          RESDDB
 2561 03226 7240          STA
 2562 03227 1055          TAD     COMDB0
 2563 03230 3010          DCA     IX1
 2564 03231 1163          TAD     DEVTBA
 2565 03232 7041          CIA
 2566 03233 1056          TAD     COMRDB
 2567 03234 6211          DATFLD

      /EDUSYSTEM 50 MONITOR FOR MELROSE HIGH SCHOOL #495AB               Page 62


 2568 03235 7110          CLL RAR
 2569 03236 3472          DCA I   IOTP7
 2570 03237 1472          TAD I   IOTP7
 2571 03240 1455          TAD I   COMDB0
 2572 03241 3410          DCA I   IX1
 2573 03242 1053          TAD     SIJOB
 2574 03243 3410          DCA I   IX1
 2575 03244 7130          STL RAR
 2576 03245 3410          DCA I   IX1
 2577 03246 1456          TAD I   COMRDB
 2578 03247 7440          SZA
 2579 03250 5255          JMP     LOGIN5
 2580 03251 1056          TAD     COMRDB
 2581 03252 6221          CHDF
 2582 03253 4511          GETFBL
 2583 03254 0000  LOGDDB, 0
 2584 03255 3254  LOGIN5, DCA     LOGDDB
 2585 03256 6211          DATFLD
 2586 03257 1472          TAD I   IOTP7
 2587 03260 3654          DCA I   LOGDDB
 2588 03261 2254          ISZ     LOGDDB
 2589 03262 1053          TAD     SIJOB
 2590 03263 3654          DCA I   LOGDDB
 2591 03264 6221          CHDF
 2592 03265 1013          TAD     IX4             /INITIALIZE JOB STATUS
 2593 03266 4511          GETFBL
 2594 03267 0000          0
 2595 03270 3010          DCA     IX1
 2596 03271 1010          TAD     IX1
 2597 03272 2010          ISZ     IX1
 2598 03273 4511          GETFBL
 2599 03274 7773  LOGMIN, -STOMIN                 /MINIMUM FREE STORAGE FOR NEW JOB
 2600 03275 4511          GETFBL
 2601 03276 0164  OFFMSK, F1OFFJ
 2602 03277 7240          STA
 2603 03300 1010          TAD     IX1
 2604 03301 6211          DATFLD
 2605 03302 3561          DCA I   JOBDAT
 2606             IFZERO CPU+EAE-22  <            /8E WITH EAE:
 2607                     CHDF
 2608                     GETWRD                  /SC IS BUMPED OVER 2 BITS AND MODE AND GT ARE
 2609                     JOBEAE+1                /IN BITS 10 AND 11
 2610                     CLA CLL CML RTL
 2611                     DATFLD
 2612                     DCA I   IOTP7  >        /SET TO MODE A, GT OFF.
 2613 03303 3072          DCA     IOTP7
 2614 03304 6221          CHDF
 2615 03305 4512          GETTBA
 2616 03306 0007          JOBLNK
 2617 03307 4511          GETFBL
 2618 03310 7000          NOP
 2619 03311 3324          DCA     LOGPMA
 2620 03312 6211          DATFLD
 2621 03313 2410          ISZ I   IX1             /SET JSWAIT IN STR1
 2622 03314 2010          ISZ     IX1
 2623 03315 2410          ISZ I   IX1             /SET JSWAIT IN WAIT MASK
 2624 03316 6221          CHDF

      /EDUSYSTEM 50 MONITOR FOR MELROSE HIGH SCHOOL #495AB               Page 63


 2625 03317 6202          CIF
 2626 03320 4567          BLT
 2627 03321 6221          CHDF                    /SOURCE FLD
 2628 03322 0063          IOTPAR+1                /SOURCE ADDR
 2629 03323 6211          DATFLD                  /DEST FLD
 2630 03324 0000  LOGPMA, 0                       /DEST ADDR
 2631 03325 7770          -10                     /-COUNT
 2632 03326 5520          CALFIP
 2633 03327 3151  LOGI3A, LOGIN3
 2634             
 2635 03330 6221  EXAMI1, CHDF
 2636 03331 4502          ASCOUT
 2637 03332 6635          CRLF
 2638 03333 5756          JMP I   EXAMI5
 2639 03334 1066          TAD     IOTP3
 2640 03335 3074          DCA     NUMHO
 2641 03336 1057          TAD     COMBFA
 2642 03337 3011          DCA     IX2
 2643 03340 3067          DCA     IOTP4
 2644 03341 1411  EXAMI3, TAD I   IX2
 2645 03342 4524          OCTASC
 2646 03343 0062          IOTPAR
 2647 03344 4502          ASCOUT
 2648 03345 0063          IOTP0
 2649 03346 5756          JMP I   EXAMI5
 2650 03347 2074          ISZ     NUMHO
 2651 03350 7410          SKP
 2652 03351 5756          JMP I   EXAMI5
 2653 03352 4502          ASCOUT
 2654 03353 6775          SPACE
 2655 03354 5756          JMP I   EXAMI5
 2656 03355 5341          JMP     EXAMI3
 2657             
 2658 03356 5262  EXAMI5, DEPOS3
 2659             
 2660             

      /EDUSYSTEM 50 MONITOR FOR MELROSE HIGH SCHOOL #495AB               Page 64


 2661             
 2662       3400  *COMMAN+400
 2663             
 2664 03400 3400  ASSTBL, .
 2665 03401 7456          -"R
 2666 03402 7460          -"P
 2667 03403 7467          -"I
 2668 03404 7464          -"L
 2669 03405 7475          -"C
 2670 03406 7474  ASSD,   -"D
 2671 03407 7465  ASSK,   -"K                     /****** THIS TABLE MUST BE FOLLOWED BY A POSITIVE NUMBER
 2672 03410 3117  ASSCAL, IOTSET
 2673 03411 1777  ASSBFA, -COMBUF
 2674             
 2675 03412 4533          SIERR
 2676 03413 5371          JMP     ASSIGF
 2677 03414 4361  ASSIGN, JMS     W2BUSY          /SEE IF WAIT 2 IS BUSY
 2678 03415 1057          TAD     COMBFA
 2679 03416 4477          TEXTS
 2680 03417 3054          DCA     CHDFA           /POINTER TO LAST CHAR IN AC
 2681 03420 1211          TAD     ASSBFA          /ONE CHARACTER ONLY?
 2682 03421 1054          TAD     CHDFA
 2683 03422 7640          SZA CLA
 2684 03423 5356          JMP     ASSIG4          /NO
 2685 03424 1200          TAD     ASSTBL
 2686 03425 3065          DCA     IOTP2
 2687 03426 2065  ASSIG2, ISZ     IOTP2
 2688 03427 1465          TAD I   IOTP2
 2689 03430 7500          SMA
 2690 03431 5355          JMP     ASSIG4-1
 2691 03432 1454          TAD I   CHDFA
 2692 03433 7640          SZA CLA                 /MATCH?
 2693 03434 5226          JMP     ASSIG2          /NO
 2694 03435 1454          TAD I   CHDFA           /YES, RK05?
 2695 03436 1207          TAD     ASSK
 2696 03437 7440          SZA
 2697 03440 5261          JMP     ASSIGD          /NO, CHECK FOR DECTAPE?
 2698 03441 4501          NUMBIN
 2699 03442 7511          -"7
 2700 03443 5253          JMP     ASSGK2          /WE MUST FIND A DRIVE
 2701 03444 3064  ASSGK1, DCA     IOTP1
 2702 03445 1064          TAD     IOTP1
 2703 03446 0320          AND     C7774
 2704 03447 7640          SZA CLA
 2705 03450 5356          JMP     ASSIG4
 2706 03451 1317          TAD     C0015
 2707 03452 5300          JMP     ASSG3K
 2708             
 2709 03453 1347  ASSGK2, TAD     ASSRK5
 2710 03454 3011          DCA     IX2
 2711 03455 1320          TAD     C7774
 2712 03456 4327          JMS     ASSSUB
 2713 03457 0033          AND     C0003
 2714 03460 5244          JMP     ASSGK1
 2715 03461 1035  ASSIGD, TAD     C0007           /"K-"D
 2716 03462 7640          SZA CLA
 2717 03463 5274          JMP     ASSIG3          /NO, MUST BE SOME OTHER DEVICE

      /EDUSYSTEM 50 MONITOR FOR MELROSE HIGH SCHOOL #495AB               Page 65


 2718 03464 4501          NUMBIN                  /YES, GET UNIT #
 2719 03465 7511          -"7
 2720 03466 5321          JMP     ASSIG6          /HE WANTS US TO CHOOSE FOR HER
 2721 03467 3064  ASSIG7, DCA     IOTP1
 2722 03470 1064          TAD     IOTP1           /IS UNIT # .LE. 7?
 2723 03471 0041          AND     C7770
 2724 03472 7640          SZA CLA
 2725 03473 5356          JMP     ASSIG4          /NO...ERROR
 2726 03474 1200  ASSIG3, TAD     ASSTBL
 2727 03475 7001          IAC
 2728 03476 7041          CIA
 2729 03477 1065          TAD     IOTP2
 2730 03500 1064  ASSG3K, TAD     IOTP1
 2731 03501 1014          TAD     C4000
 2732 03502 3064  ACSET,  DCA     IOTP1           /SAVE AC IN BOTH USER'S AC AND PC
 2733 03503 4512          GETTBA
 2734 03504 0011          JOBREG
 2735 03505 3054          DCA     CHDFA
 2736 03506 1064          TAD     IOTP1
 2737 03507 6211          DATFLD
 2738 03510 3454          DCA I   CHDFA
 2739 03511 2054          ISZ     CHDFA
 2740 03512 2054          ISZ     CHDFA           /NOW POINTS TO USERS AC
 2741 03513 1064          TAD     IOTP1
 2742 03514 3454          DCA I   CHDFA
 2743 03515 6221          CHDF
 2744 03516 5610          JMP I   ASSCAL
 2745             
 2746 03517 0015  C0015,  15
 2747 03520 7774  C7774,  7774
 2748             
 2749 03521 1346  ASSIG6, TAD     ASSDTA          /POSITION OF DTA IN DRVTBL-1
 2750 03522 3011          DCA     IX2
 2751 03523 1041          TAD     C7770           /ONLY EIGHT POSSIBILITIES
 2752 03524 4327          JMS     ASSSUB
 2753 03525 0035          AND     C0007
 2754 03526 5267          JMP     ASSIG7
 2755             
 2756 03527 0000  ASSSUB, 0
 2757 03530 3010          DCA     IX1
 2758 03531 6211          DATFLD
 2759 03532 1411          TAD I   IX2             /PICK UP DEVTBL ENTRY
 2760 03533 7650          SNA CLA                 /AVAILABLE?
 2761 03534 5342          JMP     ASSG60          /YES
 2762 03535 2010          ISZ     IX1             /NO...TRY THE NEXT ONE
 2763 03536 5332          JMP     .-4
 2764 03537 7200  ASSIG8, CLA                     /NO MORE TO TRY
 2765 03540 1344          TAD     ASSNON
 2766 03541 5506          JMP I   COMEXA          /"NO SUCH DEVICE"
 2767             
 2768 03542 1010  ASSG60, TAD     IX1             /GOT ONE; UNIT # IN BITS 8-11 IF IX1
 2769 03543 5727          JMP I   ASSSUB
 2770             
 2771             
 2772             
 2773 03544 6611  ASSNON, NONSUC                  /NO SUCH DEVICE
 2774 03545 2520  ASSG9A, ASSIG9

      /EDUSYSTEM 50 MONITOR FOR MELROSE HIGH SCHOOL #495AB               Page 66


 2775 03546 3046  ASSDTA, DEVTBE+5-1
 2776 03547 3056  ASSRK5, DEVTBE+5+10-1
 2777             
 2778             
 2779             
 2780 03550 4533          SIERR
 2781 03551 5353          JMP     RELF
 2782 03552 5214  RELEAS, JMP     ASSIGN
 2783             
 2784 03553 4523  RELF,   GETWRD
 2785 03554 0013          JOBREG+2
 2786 03555 7640          SZA CLA
 2787 03556 1360  ASSIG4, TAD     .+2
 2788 03557 5506          JMP I   COMEXA
 2789 03560 5751          ILLREQ
 2790             
 2791             
 2792 03561 0000  W2BUSY, 0
 2793 03562 4523          GETWRD
 2794 03563 0004          JOBWMK+1                /GET JOB WAIT MASK 2
 2795 03564 7650          SNA CLA                 /IS HE WAITING FOR ANYTHING????
 2796 03565 5761          JMP I   W2BUSY          /NO BACK TO WHATEVER
 2797 03566 1370          TAD     WAITMS          /WAIT FOR I/O COMPLETION
 2798 03567 5506          JMP I   COMEXA
 2799 03570 7304  WAITMS, WAITIO
 2800             
 2801 03571 4523  ASSIGF, GETWRD                  /HOW DID WE FARE IN FIP
 2802 03572 0013          JOBREG+2
 2803 03573 7450          SNA
 2804 03574 5745          JMP I   ASSG9A          /WE GOT IT TELL THE USER
 2805 03575 7510          SPA
 2806 03576 5337          JMP     ASSIG8          /FAILED
 2807 03577 3063          DCA     IOTP0
 2808 03600 4502          ASCOUT
 2809 03601 6635          CRLF
 2810 03602 7000          NOP
 2811 03603 1063          TAD     IOTP0           /OWNER
 2812 03604 4615          JMS I   ASSUPN
 2813 03605 4502          ASCOUT
 2814 03606 2722          HASITM
 2815 03607 7000          NOP
 2816 03610 4616          JMS I   ASSUNA
 2817 03611 4502          ASCOUT
 2818 03612 6635          CRLF
 2819 03613 7000          NOP
 2820 03614 5506          JMP I   COMEXA
 2821             
 2822 03615 4533  ASSUPN, USRJPR
 2823 03616 2537  ASSUNA, ASSUNI

      /EDUSYSTEM 50 MONITOR FOR MELROSE HIGH SCHOOL #495AB               Page 67


 2824             
 2825             
 2826 03617 4533          SIERR
 2827 03620 5515          JMP I   IOTEND
 2828 03621 4501  FOPEN,  NUMBIN                  /FILE #
 2829 03622 7511          -267
 2830 03623 5505          JMP I   COMERA
 2831 03624 0033          AND     C0003
 2832 03625 3064          DCA     IOTP1
 2833 03626 4313          JMS     NULLNA
 2834 03627 4510          ASCSIX
 2835 03630 6000          COMBUF-1
 2836 03631 0065          IOTP3-1
 2837 03632 4503          ENDTST
 2838 03633 5237          JMP     FOPEN1
 2839 03634 4535          ACCTIN                  /ACCOUNT #
 2840 03635 7410          SKP
 2841 03636 3065          DCA     IOTP2
 2842 03637 4512  FOPEN1, GETTBA
 2843 03640 0007          JOBLNK
 2844 03641 4511          GETFBL
 2845 03642 5544          COMWAT                  /NONE, TRY LATER
 2846 03643 3251          DCA     FOPEN2
 2847 03644 6202          CIF
 2848 03645 4567          BLT
 2849 03646 6221          CHDF                    /SOURCE FLD
 2850 03647 0063          IOTPAR+1                /SOURCE ADDR
 2851 03650 6211          DATFLD                  /DEST FLD
 2852 03651 0000  FOPEN2, 0                       /DEST ADDR
 2853 03652 7770          -10                     /-COUNT
 2854 03653 5520          CALFIP

      /EDUSYSTEM 50 MONITOR FOR MELROSE HIGH SCHOOL #495AB               Page 68


 2855             
 2856 03654 4533          SIERR
 2857 03655 5515          JMP I   IOTEND
 2858 03656 4501  CLOSE,  NUMBIN
 2859 03657 7511          -267
 2860 03660 5300          JMP     CLOSE2
 2861 03661 0033          AND     C0003
 2862 03662 7040          CMA
 2863 03663 3065          DCA     IOTP2
 2864 03664 7120          STL
 2865 03665 7010          RAR
 2866 03666 2065          ISZ     IOTP2
 2867 03667 5265          JMP     .-2
 2868 03670 3065          DCA     IOTP2
 2869 03671 1064          TAD     IOTP1
 2870 03672 0065          AND     IOTP2
 2871 03673 7650          SNA CLA
 2872 03674 1065          TAD     IOTP2
 2873 03675 1064          TAD     IOTP1
 2874 03676 3064          DCA     IOTP1
 2875 03677 5256          JMP     CLOSE
 2876 03700 1064  CLOSE2, TAD     IOTP1
 2877 03701 7450          SNA
 2878 03702 1014          TAD     C4000
 2879 03703 5517          JMP I   SHTIOT
 2880             
 2881             
 2882 03704 4533          SIERR
 2883 03705 5515          JMP I   IOTEND
 2884 03706 4313  CREATE, JMS     NULLNA
 2885 03707 4510          ASCSIX
 2886 03710 6000          COMBUF-1
 2887 03711 0063          IOTP1-1
 2888 03712 5516          JMP I   LNGIOT
 2889 03713 0000  NULLNA, 0
 2890 03714 1057          TAD     COMBFA
 2891 03715 4477          TEXTS                   /READ IN THE NAME
 2892 03716 7041          CIA
 2893 03717 1057          TAD     COMBFA          /WAS IT A NULL NAME
 2894 03720 7650          SNA CLA
 2895 03721 5505          JMP I   COMERA          /YES
 2896 03722 5713          JMP I   NULLNA
 2897             
 2898             
 2899 03723 4533          SIERR
 2900 03724 5515          JMP I   IOTEND
 2901 03725 4501  RENAME, NUMBIN                  /FILE #
 2902 03726 7511          -267
 2903 03727 5505          JMP I   COMERA
 2904 03730 0033          AND     C0003
 2905 03731 3064          DCA     IOTP1
 2906 03732 4313          JMS     NULLNA
 2907 03733 4510          ASCSIX
 2908 03734 6000          COMBUF-1
 2909 03735 0064          IOTP2-1
 2910 03736 5516          JMP I   LNGIOT

      /EDUSYSTEM 50 MONITOR FOR MELROSE HIGH SCHOOL #495AB               Page 69


 2911             
 2912 03737 4533          SIERR
 2913 03740 5515          JMP I   IOTEND
 2914             EXTEND,
 2915 03741 4501  REDUCE, NUMBIN                  /FILE #
 2916 03742 7511          -267
 2917 03743 5505          JMP I   COMERA
 2918 03744 0033          AND     C0003
 2919 03745 3064          DCA     IOTP1
 2920 03746 4501          NUMBIN
 2921 03747 7507          -271
 2922 03750 5505          JMP I   COMERA
 2923 03751 3065          DCA     IOTP2
 2924 03752 5516          JMP I   LNGIOT
 2925             
 2926             
 2927             
 2928 03753 7637  C7637,  7637
 2929             
 2930 03754 4533          SIERR
 2931 03755 5515          JMP I   IOTEND
 2932 03756 4501  PROTEC, NUMBIN                  /FILE #
 2933 03757 7511          -267
 2934 03760 5505          JMP I   COMERA
 2935 03761 0033          AND     C0003
 2936 03762 7106          CLL RTL
 2937 03763 7006          RTL
 2938 03764 7004          RAL
 2939 03765 3064          DCA     IOTP1
 2940 03766 4501          NUMBIN
 2941 03767 7511          -267
 2942 03770 5505          JMP I   COMERA
 2943 03771 0353          AND     C7637
 2944 03772 1064          TAD     IOTP1
 2945 03773 5517          JMP I   SHTIOT
 2946             

      /EDUSYSTEM 50 MONITOR FOR MELROSE HIGH SCHOOL #495AB               Page 70


 2947             
 2948       4000  *COMMAN+1000
 2949             
 2950 04000 3770  ST3770, 3770
 2951 04001 7377  ST7377, 7377
 2952 04002 7674  STERF,  -JSWAIT-JSERR-JSDEL-1
 2953 04003 3561  STACHK, W2BUSY
 2954             
 2955 04004 4603  START,  JMS I   STACHK          /CAN'T START IKF I/O IN PROGRESS
 2956 04005 4503          ENDTST                  /END OF COMMAND?
 2957 04006 5245          JMP     START1          /YES
 2958 04007 4512  START0, GETTBA                  /NO, SET STARTING ADDRESS
 2959 04010 0011          JOBREG
 2960 04011 3065          DCA     IOTP2
 2961 04012 4503          ENDTST
 2962 04013 5225          JMP     START2          /NO STARTING ADDRESS FOR "R" OR "RUN" ASSUME 0
 2963 04014 4523          GETWRD
 2964 04015 0000          JOBSTS
 2965 04016 0201          AND     ST7377          /CLEAR "R PRIV. BIT"
 2966 04017 6211          DATFLD
 2967 04020 3472          DCA I   IOTP7
 2968 04021 6221          CHDF
 2969 04022 4501          NUMBIN
 2970 04023 7511          -267
 2971 04024 5505          JMP I   COMERA          /NON-ACTAL ADDRESS
 2972 04025 6211  START2, DATFLD
 2973 04026 3465          DCA I   IOTP2
 2974 04027 2065          ISZ     IOTP2           /CLEAR LINK & AC
 2975 04030 3465          DCA I   IOTP2
 2976 04031 2065          ISZ     IOTP2
 2977 04032 3465          DCA I   IOTP2
 2978             IFZERO CPU+EAE-22 <
 2979                     CHDF
 2980                     GETWRD
 2981                     JOBEAE+1
 2982                     RTR
 2983                     STL RAL
 2984                     CLL RAL
 2985                     DATFLD
 2986                     DCA I   IOTP7 >         /ZERO OUT GT, AND SET MODE A
 2987 04033 6221          CHDF
 2988 04034 4512          GETTBA                  /RESET STATUS
 2989 04035 0000          JOBSTS
 2990 04036 3010          DCA     IX1
 2991 04037 6211          DATFLD
 2992 04040 3410          DCA I   IX1
 2993 04041 3410          DCA I   IX1             /THIS IS CLEARING OUT PART OF JOB STATUS BLOCK 1
 2994 04042 3410          DCA I   IX1
 2995 04043 3410          DCA I   IX1
 2996 04044 6221          CHDF
 2997 04045 4523  START1, GETWRD                  /JSRUN=1
 2998 04046 0000          JOBSTS
 2999 04047 0200          AND     ST3770          /CLEAR ERROR FLAGS + JSSTOP
 3000 04050 1014          TAD     C4000
 3001 04051 6211          DATFLD
 3002 04052 3472          DCA I   IOTP7
 3003 04053 2072          ISZ     IOTP7

      /EDUSYSTEM 50 MONITOR FOR MELROSE HIGH SCHOOL #495AB               Page 71


 3004 04054 1472          TAD I   IOTP7
 3005 04055 0202          AND     STERF
 3006 04056 7001          IAC                     /JSWAIT=1
 3007 04057 3472          DCA I   IOTP7
 3008 04060 2072          ISZ     IOTP7
 3009 04061 2072          ISZ     IOTP7
 3010 04062 7344          CLL CLA CMA RAL
 3011 04063 0472          AND I   IOTP7
 3012 04064 7001          IAC
 3013 04065 3472          DCA I   IOTP7
 3014 04066 6221          CHDF
 3015 04067 5506          JMP I   COMEXA

      /EDUSYSTEM 50 MONITOR FOR MELROSE HIGH SCHOOL #495AB               Page 72


 3016             
 3017             /
 3018       0042  JOBS10=C0010
 3019             
 3020 04070 4272  WHERE,  JMS     WHEPRT          /ANSWER TO WHERE COMMAND
 3021 04071 5506          JMP I   COMEXA
 3022             
 3023 04072 0000  WHEPRT, 0
 3024 04073 1311          TAD     WHEVEC          /SET POINTER TO WHLST
 3025 04074 3011          DCA     IX2
 3026 04075 1042          TAD     JOBS10          /INITIALIZE WHERE3 TO SWITCH REG
 3027 04076 3307          DCA     WHERE3
 3028             
 3029 04077 1411  WHERE1, TAD I   IX2             /GET TEXT ADDRESS
 3030 04100 7450          SNA
 3031 04101 5672          JMP I   WHEPRT          /DONE
 3032 04102 3304          DCA     WHERE2
 3033 04103 4502          ASCOUT                  /PRINT TEXT
 3034 04104 0000  WHERE2, 0
 3035 04105 7000          NOP
 3036 04106 4523          GETWRD                  /GET JSB WORD
 3037 04107 0000  WHERE3, 0
 3038 04110 5411          JMP I   IX2             /JUMP TO PROCESS JSB WORD
 3039 04111 4125  WHEVEC, WHLST-1
 3040             
 3041 04112 4524  WHERE4, OCTASC                  /PRINT 4 OCTAL DIGITS
 3042 04113 6000          COMBUF-1
 3043 04114 4502          ASCOUT
 3044 04115 6001          COMBUF
 3045 04116 7000          NOP
 3046 04117 2307  WHERE5, ISZ     WHERE3          /GO TO NEXT JSB WORD
 3047 04120 5277          JMP     WHERE1
 3048             
 3049 04121 7710  WHERE6, SPA CLA
 3050 04122 7001          IAC
 3051 04123 1342          TAD     K0260
 3052 04124 3734          DCA I   WHACA           /SAVE WHERE IT WILL BE PRINTED
 3053 04125 5317          JMP     WHERE5
 3054             
 3055             IFZERO CPU+EAE-22 <             /ON 8E WITH EAE:
 3056             WHERE7, RTR                     /GT FLAG IFF BIT 10=0, 11=0
 3057                     SMA SNL CLA
 3058                     IAC
 3059                     TAD     K0260
 3060                     DCA I   GT              /SAVE WHERE IT WILL BE PRINTED
 3061                     CML RAL                 /LINK HAS EAE MODE, SET FOR MODE A
 3062                     TAD     C0301
 3063                     DCA I   WHSCA           /SAVE WHERE IT WILL BE PRINTED
 3064                     JMP     WHERE1
 3065             GT,     WHERSC+5
 3066             
 3067             WHERE8, RAR CLL                 /8E WITH EAE: SC IS BUMPED 2 BITS
 3068                     RAR CLL
 3069                     JMP     WHERE4  >
 3070             
 3071             
 3072 04126 6561  WHLST,  WHERSW

      /EDUSYSTEM 50 MONITOR FOR MELROSE HIGH SCHOOL #495AB               Page 73


 3073 04127 5312          JMP     WHERE4
 3074 04130 6546          WHERPC
 3075 04131 5312          JMP     WHERE4
 3076 04132 2762          WHERLK
 3077 04133 5321          JMP     WHERE6
 3078 04134 6553  WHACA,  WHERAC
 3079 04135 5312          JMP     WHERE4
 3080             IFZERO MQREG-1 <
 3081 04136 2360          WHERMQ
 3082 04137 5312          JMP     WHERE4
 3083             IFZERO CPU+EAE-22  <
 3084                     WHERGT
 3085                     JMP     WHERE7  >
 3086             IFNZRO EAE <
 3087             WHSCA,  WHERSC
 3088             IFZERO CPU-2 <JMP WHERE8>
 3089             IFNZRO CPU-2 <JMP WHERE4>  >  >
 3090 04140 0000          0
 3091             
 3092 04141 0301  C0301,  301
 3093 04142 0260  K0260,  260

      /EDUSYSTEM 50 MONITOR FOR MELROSE HIGH SCHOOL #495AB               Page 74


 3094             
 3095       4200  *4200
 3096             /TEST FOR END OF COMMAND STRING
 3097             /CALL   ENDTST  WITH CHARACTER IN CHAR
 3098             /       END RETURN
 3099             /       NOT END
 3100             
 3101       4503  ENDTST=JMS I    ENDTSA
 3102             
 3103 04200 0000  ENDTS0, 0
 3104 04201 1214          TAD     ENDTBA
 3105 04202 3012          DCA     IX5
 3106 04203 1412          TAD I   IX5
 3107 04204 7450          SNA
 3108 04205 5212          JMP     .+5
 3109 04206 1073          TAD     CHAR
 3110 04207 7640          SZA CLA
 3111 04210 5203          JMP     .-5
 3112 04211 7410          SKP
 3113 04212 2200          ISZ     ENDTS0
 3114 04213 5600          JMP I   ENDTS0
 3115             
 3116 04214 4214  ENDTBA, .
 3117 04215 7505          -273                    /;
 3118 04216 7506          -272                    /:
 3119 04217 7563          -215                    /CR
 3120 04220 7566          -212                    /LF
 3121 04221 7565          -213                    /VT
 3122 04222 7564          -214                    /FF
 3123 04223 0000          0
 3124             
 3125             
 3126             /GET USER STATE WORD
 3127             /CALL   GETWRD
 3128             /       RELATIVE ADDRESS
 3129             /       RETURN WITH USER WORD IN AC, ADDRESS IN IOTP7
 3130             
 3131       4523  GETWRD=JMS I Z GETWRA
 3132             
 3133 04224 0000  GETWR0, 0
 3134 04225 1624          TAD I   GETWR0
 3135 04226 3231          DCA     GETWR1
 3136 04227 2224          ISZ     GETWR0
 3137 04230 4512          GETTBA
 3138 04231 0000  GETWR1, 0
 3139 04232 3072          DCA     IOTP7
 3140 04233 6211          DATFLD
 3141 04234 7430          SZL
 3142 04235 1472          TAD I   IOTP7
 3143 04236 6221          CHDF
 3144 04237 5624          JMP I   GETWR0

      /EDUSYSTEM 50 MONITOR FOR MELROSE HIGH SCHOOL #495AB               Page 75


 3145             
 3146             /ROUTINE TO FORCE A STRING INTO AN INPUT BUFFER
 3147             /USER MUST BE LOGGED IN AS ACCOUNT 1 OR 3 TO SUCCEED
 3148             
 3149 04240 4731  FORSE,  JMS I   ACCNT1          /IS THIS ACCOUNT # 1 OR 3
 3150 04241 4501          NUMBIN                  /GET CONSOLE #
 3151 04242 7511          -"7
 3152 04243 5505          JMP I   COMERA          /BAD CONVERSION, QUIT
 3153 04244 7104          CLL RAL                 /*2 FOR DEVTBL INDEX
 3154 04245 1163          TAD     DEVTBA          /+START OF DEVTBL
 3155 04246 3314          DCA     FORDEV
 3156 04247 1314          TAD     FORDEV
 3157 04250 1325          TAD     FOR5
 3158 04251 7700          SMA CLA
 3159 04252 5505          JMP I   COMERA
 3160 04253 6211          DATFLD
 3161 04254 1714          TAD I   FORDEV          /DOES HE HAVE A DDB?
 3162 04255 6221          CHDF
 3163 04256 7640          SZA CLA
 3164 04257 5272          JMP     FOR0            /YES
 3165 04260 1314          TAD     FORDEV          /NO; GET ONE
 3166 04261 6202          CIF
 3167 04262 4572          GETDDB
 3168 04263 5505          JMP I   COMERA          /NONE TO GET- NEVER HAPPENS
 3169 04264 6211          DATFLD
 3170 04265 1714          TAD I   FORDEV
 3171 04266 3361          DCA     BRO8
 3172 04267 1040          TAD     C1000
 3173 04270 3761          DCA I   BRO8
 3174 04271 6221          CHDF
 3175 04272 4775  FOR0,   JMS I   FORSTG          /GET INPUT STRING
 3176 04273 1463  FOR7,   TAD I   IOTP0
 3177 04274 1327          TAD     FORFOR          /CHECK FOR FORM FEED
 3178 04275 7450          SNA
 3179 04276 5506          JMP I   COMEXA          /IT IS; SO EXIT
 3180 04277 1330          TAD     FORARW          /NO, MAYBE IT'S A ^?
 3181 04300 7640          SZA CLA
 3182 04301 5304          JMP     FOR2
 3183 04302 2063          ISZ     IOTP0           /IT IS SO MAKE THE NEXT CHARACTER A CONTROL CHARACTER
 3184 04303 1037          TAD     C0100
 3185 04304 7040  FOR2,   CMA
 3186 04305 0463          AND I   IOTP0           /GET CHARACTER
 3187 04306 7450          SNA                     /END OF STRING?
 3188 04307 5506          JMP I   COMEXA          /YES, FINISH UP
 3189 04310 6203          CIF CDF
 3190 04311 3431          DCA I   TTCHAR          /SET UP GIR CALL
 3191 04312 6221          CHDF                    /BACK UP HERE, SO GIR WILL RETURN PROPERLY
 3192 04313 4575          KEY                     /PUSH CHARACTER THRU PROPER CHANNELS
 3193             BROAD4,
 3194 04314 0000  FORDEV, 0                       /DEVTBL ADDRESS
 3195 04315 5320          JMP     FOR3            /DIDN'T FIT FOR SOME REASON
 3196 04316 2063          ISZ     IOTP0           /NEXT CHARACTER
 3197 04317 5273          JMP     FOR7
 3198 04320 4525  FOR3,   BUFDEL                  /DELETE FORCE COMMAND
 3199 04321 1326          TAD     FOR6
 3200 04322 3061          DCA     COMFLG          /PRINT  ??  AT END OF FAILED TEXT STRING
 3201 04323 1063          TAD     IOTP0

      /EDUSYSTEM 50 MONITOR FOR MELROSE HIGH SCHOOL #495AB               Page 76


 3202 04324 5505          JMP I   COMERA          /EXIT; PRINT THE PORTION OF THE COMMAND THAT DIDN'T FIT
 3203 04325 4736  FOR5,   -DEVTBE
 3204 04326 0167  FOR6,   167
 3205 04327 7564  FORFOR, -"L+100                 /-FORM FEED
 3206 04330 7656  FORARW, "L-100-"^
 3207 04331 5724  ACCNT1, ACTNM1
 3208             
 3209             
 3210             
 3211             /ROUTINE TO TYPE A MESSAGE ON EVERYBODY'S CONSOLE AT ONCE
 3212             /THE USER MUST BE LOGGED IN UNDER ACCOUNT 1 OR 3
 3213             
 3214 04332 4731  BROAD,  JMS I   ACCNT1          /ONLY ACCOUNT 1 OR 3
 3215 04333 4775          JMS I   FORSTG          /GET STRING INPUT
 3216 04334 1374          TAD     BROLN           /INITIALIZE FOR ALL CONSOLES
 3217 04335 3066          DCA     IOTP3
 3218 04336 1163          TAD     DEVTBA          /GET POINTER TO FIRST OUTPUT DDB
 3219 04337 7001          IAC
 3220 04340 3067          DCA     IOTP4
 3221 04341 3314          DCA     BROAD4          /TO REMEMBER WHETEHR WE SUCCEED
 3222             
 3223 04342 4361  BROAD3, JMS     BRO8            /PUSH STRING CR-LF STARS THRU
 3224 04343 0554          STARS
 3225 04344 4361          JMS     BRO8            /OUTPUT MESSAGE
 3226 04345 7600          VERBRK
 3227 04346 4361          JMS     BRO8            /CR-LF
 3228 04347 6635          CRLF
 3229 04350 2067  BROAD2, ISZ     IOTP4           /ON TO NEXT CONSOLE
 3230 04351 2067          ISZ     IOTP4
 3231 04352 2066          ISZ     IOTP3           /ARE WE DONE?
 3232 04353 5342          JMP     BROAD3          /NO, CONTINUE
 3233 04354 1314          TAD     BROAD4
 3234 04355 7640          SZA CLA                 /DID ANY FAIL?
 3235 04356 1372          TAD     BROBUS          /YES
 3236 04357 1373          TAD     BROOK
 3237 04360 5506          JMP I   COMEXA
 3238             
 3239 04361 0000  BRO8,   0
 3240 04362 1761          TAD I   BRO8
 3241 04363 3366          DCA     .+3
 3242 04364 1067          TAD     IOTP4
 3243 04365 4502          ASCOUT
 3244 04366 0000          0
 3245 04367 2314          ISZ     BROAD4
 3246 04370 2361          ISZ     BRO8
 3247 04371 5761          JMP I   BRO8
 3248             
 3249 04372 7773  BROBUS, BUSY-OK
 3250 04373 6773  BROOK,  OK
 3251 04374 7767  BROLN,  -NULINE-1
 3252 04375 1554  FORSTG, STRNG0

      /EDUSYSTEM 50 MONITOR FOR MELROSE HIGH SCHOOL #495AB               Page 77


 3253             
 3254       4400  *COMMAN+1400
 3255 04400 2604  FSIXAS, SIXASC
 3256 04401 5600  FDECOU, DECOUT
 3257             
 3258 04402 4533          SIERR
 3259 04403 5212          JMP     F2
 3260 04404 4501  F,      NUMBIN                  /INTERNAL FILE #
 3261 04405 7511          -267
 3262 04406 5505          JMP I   COMERA
 3263 04407 0033          AND     C0003
 3264 04410 3064          DCA     IOTP1
 3265 04411 5516          JMP I   LNGIOT
 3266 04412 4526  F2,     RETPAR
 3267 04413 4502          ASCOUT
 3268 04414 6635          CRLF
 3269 04415 7000          NOP
 3270 04416 1064          TAD     IOTP1           /ACCT #
 3271 04417 7450          SNA
 3272 04420 5506          JMP I   COMEXA          /FILE NOT OPEN
 3273 04421 4524          OCTASC
 3274 04422 6000          COMBUF-1
 3275 04423 4270          JMS     FOUT
 3276 04424 7240          STA
 3277 04425 1064          TAD     IOTP1
 3278 04426 7650          SNA CLA
 3279 04427 5264          JMP     F4              /DON'T GIVE AWAY A PASSWORD
 3280 04430 4600          JMS I   FSIXAS          /FILE NAME
 3281 04431 0065          IOTP2
 3282 04432 6000          COMBUF-1
 3283 04433 4270          JMS     FOUT
 3284 04434 1070          TAD     IOTP5           /PROTECTION
 3285 04435 7106          CLL RTL
 3286 04436 7006  F3,     RTL
 3287 04437 7006          RTL
 3288 04440 4363          JMS     USRPR
 3289 04441 4502          ASCOUT
 3290 04442 6775          SPACE
 3291 04443 5506          JMP I   COMEXA
 3292 04444 1070          TAD     IOTP5
 3293 04445 4363          JMS     USRPR
 3294 04446 4502          ASCOUT
 3295 04447 6775          SPACE
 3296 04450 5506          JMP I   COMEXA
 3297 04451 7240          STA
 3298 04452 1064          TAD     IOTP1
 3299 04453 7650          SNA CLA
 3300 04454 5506          JMP I   COMEXA          /UFD; SIZE NOT RETURNED
 3301 04455 1057          TAD     COMBFA
 3302 04456 3010          DCA     IX1
 3303 04457 1071          TAD     IOTP6           /SIZE
 3304 04460 4601          JMS I   FDECOU
 3305 04461 3410          DCA I   IX1
 3306 04462 4270          JMS     FOUT
 3307 04463 5506          JMP I   COMEXA
 3308             
 3309 04464 1070  F4,     TAD     IOTP5           /LOGOUT QUOTA

      /EDUSYSTEM 50 MONITOR FOR MELROSE HIGH SCHOOL #495AB               Page 78


 3310 04465 7104          CLL RAL
 3311 04466 7006          RTL
 3312 04467 5236          JMP     F3              /SHIFT AN EXTRA PLACE

      /EDUSYSTEM 50 MONITOR FOR MELROSE HIGH SCHOOL #495AB               Page 79


 3313             
 3314 04470 0000  FOUT,   0
 3315 04471 4502          ASCOUT
 3316 04472 6001          COMBUF
 3317 04473 5670          JMP I   FOUT
 3318 04474 4502          ASCOUT
 3319 04475 6775          SPACE
 3320 04476 5670          JMP I   FOUT
 3321 04477 5670          JMP I   FOUT
 3322             
 3323             
 3324 04500 4502  USER,   ASCOUT                  /TELL USER WHERE HE IS
 3325 04501 6635          CRLF
 3326 04502 5506          JMP I   COMEXA          /NO ROOM, SO SKIP IT
 3327 04503 4503          ENDTST                  /THIS JOB?
 3328 04504 5307          JMP     USER1           /YES
 3329 04505 4501          NUMBIN                  /NO; WHAT JOB THEN?
 3330 04506 7511          -267                    /OCTAL JOB #
 3331 04507 1053  USER1,  TAD     SIJOB           /ASSUME THIS JOB
 3332 04510 7510  USER2,  SPA
 3333 04511 7041          CIA
 3334 04512 3063          DCA     IOTP0           /SAVE JOB #
 3335 04513 1063          TAD     IOTP0           /VALID JOB #?
 3336 04514 1332          TAD     USEMAX          /-HIGHEST JOB # - 1
 3337 04515 7700          SMA CLA
 3338 04516 5505          JMP I   COMERA          /NO SUCH JOB
 3339 04517 6211          DATFLD                  /IS THE JOB LOGGED IN?
 3340 04520 1063          TAD     IOTP0
 3341 04521 1044          TAD     JOBTBA
 3342 04522 3064          DCA     IOTP1           /POINTER TO JOBTBL
 3343 04523 1464          TAD I   IOTP1           /ADDRESS OF JOB STATUS
 3344 04524 7650          SNA CLA
 3345 04525 5506          JMP I   COMEXA          /NOT LOGGED IN; SAY NOTHING
 3346 04526 6221          CHDF                    /BACK UP HERE
 3347 04527 1063          TAD     IOTP0           /JOB #
 3348 04530 4333          JMS     USRJPR          /PRINT "JOB ACCOUNT & CONSOLE"
 3349 04531 5506          JMP I   COMEXA
 3350             
 3351 04532 7753  USEMAX, -JOBMAX-1

      /EDUSYSTEM 50 MONITOR FOR MELROSE HIGH SCHOOL #495AB               Page 80


 3352             
 3353 04533 0000  USRJPR, 0                       /PRINT "JOB NN"
 3354 04534 3072          DCA     IOTP7           /SAVE #
 3355 04535 4502          ASCOUT
 3356 04536 1772          JOBNO
 3357 04537 5733          JMP I   USRJPR          /NO ROOM
 3358 04540 1072          TAD     IOTP7           /JOB #
 3359 04541 4363          JMS     USRPR           /PRINT #
 3360 04542 1072          TAD     IOTP7
 3361 04543 4762          JMS I   USRACC          /FIND HER ACCOUNT NUMBER
 3362 04544 4502          ASCOUT
 3363 04545 0673          ACCBUFF
 3364 04546 5733          JMP I   USRJPR
 3365 04547 4502          ASCOUT
 3366 04550 1777          KSPACE
 3367 04551 5733          JMP I   USRJPR
 3368 04552 6211          DATFLD
 3369 04553 1072          TAD     IOTP7           /GET HER TTY #
 3370 04554 1132          TAD     TTYTBA          /POINTS TO ENTRY IN TTYTBL
 3371 04555 3064          DCA     IOTP1
 3372 04556 1464          TAD I   IOTP1           /GET TTY #
 3373 04557 6221          CHDF
 3374 04560 4363          JMS     USRPR
 3375 04561 5733          JMP I   USRJPR
 3376 04562 0750  USRACC, GETACC
 3377             
 3378 04563 0000  USRPR,  0                       /PRINT OCTAL # AS MM
 3379 04564 4524          OCTASC
 3380 04565 6000          COMBUF-1                /SNEAKY WAY TO SUPPRESS LEADING 00
 3381 04566 4502          ASCOUT
 3382 04567 6003          COMBUF+2
 3383 04570 7000          NOP
 3384 04571 5763          JMP I   USRPR

      /EDUSYSTEM 50 MONITOR FOR MELROSE HIGH SCHOOL #495AB               Page 81


 3385             
 3386       4600  *COMMAN+1600
 3387             
 3388 04600 5175  R4A,    R4
 3389 04601 4637  R6A,    R6
 3390 04602 0237  R6B,    COMEXT
 3391 04603 4007  STARTA, START0
 3392 04604 6603  RRFILE, RFILE
 3393 04605 5133  RLSA,   RLS
 3394 04606 5011  RUNLOD, LOAD
 3395 04607 5013  RUNSAV, SAVE1
 3396 04610 5544  SETPRA, SETPRV
 3397             
 3398 04611 5214          JMP     RERR
 3399 04612 5223          JMP     R1
 3400 04613 5606  RUN,    JMP I   RUNLOD
 3401 04614 4533  RERR,   SIERR
 3402 04615 5505          JMP I   COMERA
 3403             
 3404             
 3405 04616 5214          JMP     RERR
 3406 04617 5223          JMP     R1
 3407 04620 4610  R,      JMS I   SETPRA          /SET THE R PRIVILEGE BIT
 3408 04621 7126          STL RTL                 /AC=LIBACT
 3409 04622 5607          JMP I   RUNSAV
 3410             
 3411 04623 4523  R1,     GETWRD                  /RETURN FROM OPEN
 3412 04624 0013          JOBREG+2
 3413 04625 7640          SZA CLA
 3414 04626 5515          JMP I   IOTEND
 3415 04627 4512          GETTBA
 3416 04630 0007          JOBLNK
 3417 04631 4511          GETFBL
 3418 04632 5544          COMWAT
 3419 04633 3600          DCA I   R4A
 3420 04634 1201          TAD     R6A
 3421 04635 3122          DCA     EXITA
 3422 04636 5603          JMP I   STARTA
 3423 04637 1202  R6,     TAD     R6B             /RESTORE NORMAL EXIT
 3424 04640 3122          DCA     EXITA
 3425 04641 1033          TAD     C0003
 3426 04642 1014          TAD     C4000
 3427 04643 3065          DCA     IOTP2           /FILE 3
 3428 04644 7240          STA
 3429 04645 3067          DCA     IOTP4           /CORE ADDRESS
 3430 04646 1204          TAD     RRFILE
 3431 04647 3063          DCA     IOTP0
 3432 04650 7001          IAC                     /CALL RLS WITH NONZERO AC FOR R AND RUN
 3433 04651 4605          JMS I   RLSA

      /EDUSYSTEM 50 MONITOR FOR MELROSE HIGH SCHOOL #495AB               Page 82


 3434             
 3435 04652 1053          TAD     SIJOB
 3436 04653 4527          CORES
 3437 04654 7440          SZA
 3438 04655 5270          JMP     R8
 3439 04656 4527          CORES
 3440 04657 7440          SZA
 3441 04660 5270          JMP     R8
 3442 04661 4530          ASSCOR
 3443 04662 1306          TAD     C0122           /USER MODE, FIELD 2
 3444 04663 6203  R7,     CIF CDF
 3445 04664 3705          DCA I   RL2SF           /FIELD OF JOB
 3446 04665 1053          TAD     SIJOB
 3447 04666 5667          JMP I   .+1
 3448 04667 0605          RUNFI
 3449             
 3450 04670 3074  R8,     DCA     NUMHO           /SAVE FIELD INFO
 3451 04671 1202          TAD     R6B             /RESTORE EXIT
 3452 04672 3122          DCA     EXITA
 3453 04673 4531          RELCOR
 3454 04674 1074          TAD     NUMHO
 3455 04675 0035          AND     C0007
 3456 04676 1162          TAD     CORTBA
 3457 04677 3063          DCA     IOTP0
 3458 04700 6201          CDF
 3459 04701 1053          TAD     SIJOB
 3460 04702 3463          DCA I   IOTP0
 3461 04703 1074          TAD     NUMHO
 3462 04704 5263          JMP     R7
 3463 04705 0103  RL2SF,  L2SF
 3464 04706 0122  C0122,  122
 3465             
 3466             
 3467             
 3468 04707 5214          JMP     RERR
 3469 04710 5223          JMP     R1
 3470 04711 1326  SYSTAT, TAD     SYSMA           /SYSTAT COMMAND
 3471 04712 3010          DCA     IX1             /POINTER TO FILE NAME
 3472 04713 4610          JMS I   SETPRA          /SET THE R PRIVILEGE BIT
 3473 04714 1410          TAD I   IX1             /PUT "SYSTAT" OR "LOGOUT" IN IOTP3,4,5
 3474 04715 3066          DCA     IOTP3
 3475 04716 1410          TAD I   IX1
 3476 04717 3067          DCA     IOTP4
 3477 04720 1410          TAD I   IX1
 3478 04721 3070          DCA     IOTP5
 3479 04722 7126          STL RTL                 /AC=LIBACT
 3480 04723 3065          DCA     IOTP2
 3481 04724 5725          JMP I   .+1
 3482 04725 2701          SAVNAM                  /GO SAVE NAME; THEN OPEN FILE
 3483             
 3484 04726 5557  SYSMA,  SYSM-1

      /EDUSYSTEM 50 MONITOR FOR MELROSE HIGH SCHOOL #495AB               Page 83


 3485             
 3486 04727 6605  SWFILE, WFILE
 3487             
 3488 04730 5214          JMP     RERR
 3489 04731 5334          JMP     SAVE2
 3490 04732 5733  SAVE,   JMP I   .+1
 3491 04733 5011          SAVE3
 3492 04734 4523  SAVE2,  GETWRD
 3493 04735 0022          JOBF3                   /WRITE PROTECTED?
 3494 04736 1032          TAD     C0002
 3495 04737 3063          DCA     IOTP0
 3496 04740 6211          DATFLD
 3497 04741 1463          TAD I   IOTP0           /POINTS TO PROTECTION WORD IN FILE CONTROL BLOCK
 3498 04742 0034          AND     C0004
 3499 04743 6221          CHDF
 3500 04744 7640          SZA CLA
 3501 04745 5351          JMP     SAVPRO          /WRITE PROTECTED
 3502 04746 1327          TAD     SWFILE
 3503 04747 5750          JMP I   .+1
 3504 04750 5030          LOAD2
 3505             
 3506 04751 1353  SAVPRO, TAD     SFMS
 3507 04752 5505          JMP I   COMERA
 3508             
 3509 04753 7463  SFMS,   FM6000                  /"PROTECTION VIOLATION"
 3510             
 3511             IFZERO CPU+EAE-22  <
 3512             WHERGT, 240                     /SP MODE=
 3513                     315
 3514                     317
 3515                     304
 3516                     305
 3517                     275
 3518                     0
 3519             WHERSC, 240                     /SP SP GT=X SC=
 3520                     240
 3521                     307
 3522                     324
 3523                     275
 3524                     330
 3525                     240
 3526                     323
 3527                     303
 3528                     275
 3529                     0  >
 3530             IFZERO CPU+EAE-20  <
 3531             WHERSC, 240                     /SP SC=
 3532                     323
 3533                     303
 3534                     275
 3535                     0  >

      /EDUSYSTEM 50 MONITOR FOR MELROSE HIGH SCHOOL #495AB               Page 84


 3536             
 3537       5003  *COMMAN+2003
 3538             
 3539 05003 4614  LOADER, RERR
 3540 05004 6603  LRFILE, RFILE
 3541 05005 1123  LOADUA, LOADUS
 3542 05006 3561  SAVCHK, W2BUSY
 3543             
 3544 05007 5603          JMP I   LOADER
 3545 05010 5227          JMP     LOAD1
 3546             LOAD,
 3547 05011 4535  SAVE3,  ACCTIN
 3548 05012 7410          SKP
 3549 05013 3065  SAVE1,  DCA     IOTP2           /ACCOUNT #
 3550 05014 4503          ENDTST
 3551 05015 5505          JMP I   COMERA
 3552 05016 4606          JMS I   SAVCHK          /SEE IF I/O IN PROGRESS
 3553 05017 1057          TAD     COMBFA
 3554 05020 4477          TEXTS
 3555 05021 7200          CLA
 3556 05022 4510          ASCSIX
 3557 05023 6000          COMBUF-1
 3558 05024 0065          IOTP3-1                 /FILE NAME
 3559 05025 5626          JMP I   .+1             /SAVE PROGRAM NAME IN PRGTBL
 3560 05026 2701          SAVNAM
 3561             
 3562 05027 1204  LOAD1,  TAD     LRFILE
 3563 05030 3063  LOAD2,  DCA     IOTP0
 3564 05031 4523          GETWRD                  /ERROR?
 3565 05032 0013          JOBREG+2
 3566 05033 7640          SZA CLA
 3567 05034 5515          JMP I   IOTEND          /YES
 3568 05035 4512          GETTBA                  /NO, SET UP RFILE OR WFILE
 3569 05036 0007          JOBLNK
 3570 05037 4511          GETFBL
 3571 05040 5544          COMWAT
 3572 05041 3375          DCA     R4
 3573 05042 7132          CLL CML RTR             /AC=2000
 3574 05043 1033          TAD     C0003           /FILE #
 3575 05044 3065          DCA     IOTP2
 3576 05045 7240          STA                     /DEFAULT CORE ADDRESS
 3577 05046 3067          DCA     IOTP4
 3578 05047 4503          ENDTST                  /ANY PARAMETERS?
 3579 05050 5276          JMP     LOAD4           /NO
 3580 05051 4501          NUMBIN                  /YES, FILE ADDRESS 02 CAN BE 6 DIGITS!
 3581 05052 7511          -267
 3582 05053 5276          JMP     LOAD4
 3583 05054 3070          DCA     IOTP5           /LEAST SIGN, 12 BITS
 3584 05055 1074          TAD     NUMHO
 3585 05056 3064          DCA     IOTP1           /HIGH ORDER
 3586 05057 4503          ENDTST
 3587 05060 5276          JMP     LOAD4
 3588 05061 4501          NUMBIN                  /STARTING CORE ADDRESS
 3589 05062 7511          -267
 3590 05063 5276          JMP     LOAD4
 3591 05064 1067          TAD     IOTP4
 3592 05065 3067          DCA     IOTP4

      /EDUSYSTEM 50 MONITOR FOR MELROSE HIGH SCHOOL #495AB               Page 85


 3593 05066 4503          ENDTST
 3594 05067 5276          JMP     LOAD4
 3595 05070 4501          NUMBIN                  /LAST CORE ADDRESS
 3596 05071 7511          -267
 3597 05072 7240          CLA CMA
 3598 05073 7041          CIA
 3599 05074 1067          TAD     IOTP4
 3600 05075 3066          DCA     IOTP3           /WORD COUNT
 3601 05076 1053  LOAD4,  TAD     SIJOB           /SET UP XFER BLOCK TO LOAD USER AREA
 3602 05077 1325          TAD     LOADM1
 3603 05100 1134          TAD     SWBASE
 3604 05101 6221          CHDF
 3605 05102 7106          CLL RTL
 3606 05103 3322          DCA     LOADEX
 3607 05104 1317          TAD     LOAD5A
 3608 05105 3122          DCA     EXITA
 3609 05106 5506          JMP I   COMEXA
 3610 05107 4333  LOAD5,  JMS     RLS
 3611 05110 1053          TAD     SIJOB
 3612 05111 4527          CORES
 3613 05112 7440          SZA
 3614 05113 5716          JMP I   LOAD6A          /JOB IS IN CORE
 3615 05114 1320          TAD     LOADUB
 3616 05115 5605          JMP I   LOADUA
 3617             
 3618 05116 4670  LOAD6A, R8
 3619 05117 5107  LOAD5A, LOAD5
 3620 05120 5121  LOADUB, .+1
 3621 05121 6603          DMAR
 3622 05122 0000  LOADEX, 0
 3623 05123 0010          10
 3624 05124 0000          0
 3625 05125 7777  LOADM1, -1
 3626 05126 0000          0
 3627 05127 5171          OVERLA
 3628 05130 0574          READFI

      /EDUSYSTEM 50 MONITOR FOR MELROSE HIGH SCHOOL #495AB               Page 86


 3629             
 3630 05131 0201  RJSF3,  JSF3+1
 3631 05132 5600  C5600,  5600
 3632             
 3633 05133 0000  RLS,    0
 3634 05134 7650          SNA CLA                 /CALLED FROM RUN?
 3635 05135 5352          JMP     RLS1            /NO
 3636 05136 4523          GETWRD                  /YES; INITIALIZE JOB STATUS
 3637             
 3638 05137 0000          JOBSTS
 3639 05140 0332          AND     C5600           /CLEAR ERROR FLAGS
 3640 05141 6211          DATFLD
 3641 05142 3472          DCA I   IOTP7           /POINTS TO STR0
 3642 05143 2072          ISZ     IOTP7
 3643 05144 1472          TAD I   IOTP7           /GET STR1
 3644 05145 0037          AND     C0100           /SAVE DELIMITER BIT IF SET
 3645 05146 7001          IAC                     /TURN ON THE DUMMY WAIT BIT
 3646 05147 3472          DCA I   IOTP7           /POINTS TO STR1
 3647 05150 2072          ISZ     IOTP7
 3648 05151 3472          DCA I   IOTP7           /POINTS TO JOBSTB
 3649 05152 6221  RLS1,   CHDF
 3650 05153 4523          GETWRD                  /F3 WAIT
 3651 05154 0003          JOBWMK
 3652 05155 7200          CLA
 3653 05156 1331          TAD     RJSF3
 3654 05157 6211          DATFLD
 3655 05160 3472          DCA I   IOTP7
 3656 05161 2072          ISZ     IOTP7           /CLEAR WAIT MASK 2 AS WELL
 3657 05162 3472          DCA I   IOTP7
 3658 05163 1053          TAD     SIJOB
 3659 05164 6203          CIF CDF
 3660 05165 3426          DCA I   SIREG
 3661 05166 1426          TAD I   SIREG
 3662 05167 3560          DCA I   JOB
 3663 05170 6221          CHDF
 3664 05171 4567          BLT
 3665 05172 6221          6221                    /SOURCE FIELD (ALWAYS 2)
 3666 05173 0063          IOTP0
 3667 05174 6211          DATFLD
 3668 05175 0000  R4,     0
 3669 05176 7772          -6
 3670 05177 5733          JMP I   RLS

      /EDUSYSTEM 50 MONITOR FOR MELROSE HIGH SCHOOL #495AB               Page 87


 3671             
 3672       5200  *COMMAN+2200
 3673             
 3674 05200 7766  C7766,  7766
 3675 05201 5262  DEPO3A, DEPOS3
 3676             
 3677 05202 4501  DEPOSI, NUMBIN                  /STARTING ADDRESS
 3678 05203 7511          -267
 3679 05204 5505          JMP I   COMERA
 3680 05205 3070          DCA     IOTP5           /LOW ORDER DISC ADDRESS
 3681 05206 1200          TAD     C7766
 3682 05207 3064          DCA     IOTP1
 3683 05210 1057          TAD     COMBFA
 3684 05211 3010          DCA     IX1
 3685 05212 4501  DEPOS2, NUMBIN                  /CONVERT ARGUMENT LIST
 3686 05213 7511          -267
 3687 05214 5220          JMP     DEPOS1
 3688 05215 3410          DCA I   IX1
 3689 05216 2064          ISZ     IOTP1
 3690 05217 5212          JMP     DEPOS2
 3691 05220 1010  DEPOS1, TAD     IX1
 3692 05221 7041          CIA
 3693 05222 1057          TAD     COMBFA
 3694 05223 7450          SNA
 3695 05224 5505          JMP I   COMERA          /NOTHING TO DEPOSIT
 3696 05225 3066          DCA     IOTP3           /-WORD COUNT
 3697 05226 1053          TAD     SIJOB
 3698 05227 4527          CORES
 3699 05230 7440          SZA
 3700 05231 5270          JMP     DEPOS4
 3701 05232 1201          TAD     DEPO3A

      /EDUSYSTEM 50 MONITOR FOR MELROSE HIGH SCHOOL #495AB               Page 88


 3702             
 3703 05233 3003  EXAMI2, DCA     SI1             /RETURN ADDRESS
 3704 05234 1057          TAD     COMBFA
 3705 05235 3067          DCA     IOTP4           /CORE ADDRESS-1
 3706 05236 7240          CLA CMA                 /-1 IN AC
 3707 05237 1053          TAD     SIJOB
 3708 05240 1134          TAD     SWBASE
 3709 05241 7106          CLL RTL
 3710 05242 3064          DCA     IOTP1           /DISC EXTENSION
 3711 05243 1042          TAD     C0010
 3712 05244 3065          DCA     IOTP2
 3713 05245 1261          TAD     DEPEX2
 3714 05246 3071          DCA     IOTP6
 3715 05247 3072          DCA     IOTP7
 3716 05250 1066          TAD     IOTP3           /ARE WE GOING INTO NEXT JOB'S DISK IMAGE?
 3717 05251 7140          CLL CMA                 /WORD COUNT -1
 3718 05252 1070          TAD     IOTP5           /WC+ADDRESS>7777?
 3719 05253 7620          SNL CLA
 3720 05254 5660          JMP I   DEPEX           /OK TO PROCEED
 3721 05255 1266          TAD     COMA            /RESET DISPATCH ADDRESS
 3722 05256 3003          DCA     SI1
 3723 05257 5505          JMP I   COMERA          /EVIL ONCE AGAIN AVERTED
 3724 05260 1153  DEPEX,  DEPEXA
 3725 05261 5171  DEPEX2, OVERLA
 3726             
 3727             /RETURN AFTER READING OR WRITING USER AREA
 3728             
 3729 05262 1266  DEPOS3, TAD     COMA
 3730 05263 3003          DCA     SI1
 3731 05264 5506          JMP I   COMEXA
 3732             
 3733 05265 6221  COMF,   CHDF
 3734             
 3735 05266 0202  COMA,   COM
 3736 05267 0070  C0070,  70
 3737             
 3738 05270 0267  DEPOS4, AND     C0070
 3739 05271 1001          TAD     C6201
 3740 05272 3312          DCA     DEDEF
 3741 05273 1070          TAD     IOTP5
 3742 05274 3313          DCA     DEDEA
 3743 05275 1265          TAD     COMF
 3744 05276 3310          DCA     DESRF
 3745 05277 1350          TAD     BUFFER
 3746 05300 3311          DCA     DESRA
 3747 05301 4303          JMS     DEMOVE
 3748 05302 5506          JMP I   COMEXA
 3749             
 3750 05303 0000  DEMOVE, 0
 3751 05304 1066          TAD     IOTP3
 3752 05305 3314          DCA     DECNT
 3753 05306 6202          CIF
 3754 05307 4567          BLT
 3755 05310 0000  DESRF,  0                       /FROM FLD
 3756 05311 0000  DESRA,  0                       /FROM ADDR
 3757 05312 0000  DEDEF,  0                       /TO FLD
 3758 05313 0000  DEDEA,  0                       /TO ADDR

      /EDUSYSTEM 50 MONITOR FOR MELROSE HIGH SCHOOL #495AB               Page 89


 3759 05314 0000  DECNT,  0                       /-COUNT
 3760 05315 5703          JMP I   DEMOVE

      /EDUSYSTEM 50 MONITOR FOR MELROSE HIGH SCHOOL #495AB               Page 90


 3761             
 3762 05316 4501  EXAMIN, NUMBIN                  /STARTING ADDRESS
 3763 05317 7511          -267
 3764 05320 5505          JMP I   COMERA
 3765 05321 3070          DCA     IOTP5
 3766 05322 4501          NUMBIN
 3767 05323 7507          -271
 3768 05324 7001          IAC
 3769 05325 7450          SNA
 3770 05326 7001          IAC
 3771 05327 7041          CIA
 3772 05330 3066          DCA     IOTP3
 3773 05331 1066          TAD     IOTP3           /IS COUNT WAY OUT OF LINE?
 3774 05332 7700          SMA CLA
 3775 05333 5505          JMP I   COMERA          /YES
 3776 05334 1066          TAD     IOTP3
 3777 05335 7041          CIA
 3778 05336 1200          TAD     C7766
 3779 05337 7740          SMA SZA CLA
 3780 05340 5505          JMP I   COMERA
 3781 05341 1053          TAD     SIJOB
 3782 05342 4527          CORES
 3783 05343 7440          SZA
 3784 05344 5351          JMP     EXAMI4
 3785 05345 1347          TAD     EXAM1A
 3786 05346 5233          JMP     EXAMI2
 3787             
 3788 05347 3330  EXAM1A, EXAMI1
 3789 05350 6001  BUFFER, COMBUF
 3790             
 3791 05351 0267  EXAMI4, AND     C0070
 3792 05352 1001          TAD     C6201
 3793 05353 3310          DCA     DESRF
 3794 05354 1070          TAD     IOTP5
 3795 05355 3311          DCA     DESRA
 3796 05356 1265          TAD     COMF
 3797 05357 3312          DCA     DEDEF
 3798 05360 1350          TAD     BUFFER
 3799 05361 3313          DCA     DEDEA
 3800 05362 4303          JMS     DEMOVE
 3801 05363 5747          JMP I   EXAM1A
 3802             
 3803             
 3804 05364 0240  FORJOB, 240
 3805 05365 0306          306                     /F
 3806 05366 0317          317                     /O
 3807 05367 0322          322                     /R
 3808 05370 0240          240
 3809 05371 0312          312                     /J
 3810 05372 0317          317                     /O
 3811 05373 0302          302                     /B
 3812 05374 0240          240
 3813 05375 0000          0

      /EDUSYSTEM 50 MONITOR FOR MELROSE HIGH SCHOOL #495AB               Page 91


 3814             
 3815       5400  *COMMAN+2400
 3816             
 3817             
 3818 05400 0322  TICLK2, INCLK2
 3819 05401 7400  TICLK1, INCLK1
 3820 05402 5665  JOBRSA, JOBRES                  /RESTORE JOBDAT
 3821             
 3822 05403 4503  TIME,   ENDTST                  /ARGUMENT?
 3823 05404 5246          JMP     TIME1           /NO, THIS JOB
 3824 05405 4501          NUMBIN
 3825 05406 7511          -267
 3826 05407 5246          JMP     TIME1
 3827 05410 3063          DCA     IOTP0           /LEGAL JOB #?
 3828 05411 1063          TAD     IOTP0
 3829 05412 1140          TAD     JOBONC
 3830 05413 7740          SMA SZA CLA
 3831 05414 5505          JMP I   COMERA          /NO
 3832 05415 1063          TAD     IOTP0           /JOB 0?
 3833 05416 7650          SNA CLA
 3834 05417 5251          JMP     TIME3           /YES, TIME OF DAY
 3835 05420 6211          DATFLD
 3836 05421 1063          TAD     IOTP0
 3837 05422 1044          TAD     JOBTBA
 3838 05423 3063          DCA     IOTP0
 3839 05424 1463          TAD I   IOTP0
 3840 05425 7450          SNA                     /LOGGED IN?
 3841 05426 5244          JMP     TIME5           /NO
 3842 05427 6211          DATFLD
 3843 05430 3561          DCA I   JOBDAT
 3844             
 3845 05431 6221  TIME2,  CHDF
 3846 05432 4523          GETWRD
 3847 05433 0023          JOBRTM
 3848 05434 3075          DCA     NUMHO+1
 3849 05435 4523          GETWRD
 3850 05436 0024          JOBRTH                  /HI ORDER TIME
 3851 05437 3074  TIME4,  DCA     NUMHO
 3852 05440 4264          JMS     PTIME
 3853 05441 4602          JMS I   JOBRSA          /RESTORE JOBDAT IF ALTERED
 3854 05442 1057          TAD     COMBFA
 3855 05443 7001          IAC
 3856 05444 6221  TIME5,  CHDF
 3857 05445 5506          JMP I   COMEXA
 3858             
 3859 05446 1053  TIME1,  TAD     SIJOB
 3860 05447 7640          SZA CLA
 3861 05450 5231          JMP     TIME2
 3862             
 3863 05451 6201  TIME3,  CDF
 3864 05452 1451          TAD I   CLK1
 3865 05453 7100          CLL
 3866 05454 1201          TAD     TICLK1
 3867 05455 3075          DCA     NUMHO+1
 3868 05456 7430          SZL
 3869 05457 7001          IAC
 3870 05460 1450          TAD I   CLK2

      /EDUSYSTEM 50 MONITOR FOR MELROSE HIGH SCHOOL #495AB               Page 92


 3871 05461 1200          TAD     TICLK2
 3872 05462 6221          CHDF
 3873 05463 5237          JMP     TIME4

      /EDUSYSTEM 50 MONITOR FOR MELROSE HIGH SCHOOL #495AB               Page 93


 3874             
 3875             /ROUTINE TO CONVERT VALUE IN NUMHO AND NUMHO+1 (IN TICKS)
 3876             /TO HOURS, MINUTES AND SECONDS.
 3877             /THE RESULT IS STORED IN COMBUF AS HH:MM:SS
 3878             
 3879 05464 0000  PTIME,  0                       /ENTER WITH AC=0
 3880 05465 1057          TAD     COMBFA          /START OF OUTPUT BUFFER
 3881 05466 3010          DCA     IX1
 3882 05467 1334          TAD     PTABX           /SET UP TABLE FETCH (LOW)
 3883 05470 3301          DCA     PTIMX
 3884 05471 1335          TAD     PTABX1          /SET UP TABLE FETCH (HIGH)
 3885 05472 3305          DCA     PTIMX1
 3886             
 3887 05473 1336          TAD     PTFORM          /FORMAT MASK
 3888 05474 3342          DCA     PTCONT
 3889             
 3890 05475 1337  PTLOOP, TAD     PT0260          /INITIALIZE DIGIT COUNTER
 3891 05476 3341          DCA     PTDIGI
 3892 05477 7100          CLL                     /DIVIDE LOOP
 3893 05500 1075          TAD     NUMHO+1         /DOUBLE PRECISION ADD
 3894 05501 7000  PTIMX,  NOP                     /(TAD PTAB1+N)
 3895 05502 3076          DCA     NUMHO+2         /SAVE LOW ORDER REMAINDER
 3896 05503 7004          RAL                     /GET OVERFLOW
 3897 05504 1074          TAD     NUMHO           /ADD HIGH ORDER
 3898 05505 7000  PTIMX1, NOP                     /(TAD PTAB+N)
 3899 05506 7420          SNL
 3900 05507 5315          JMP     PTIMA           /DIVIDE OVERFLOW
 3901 05510 3074          DCA     NUMHO           /RESTORE REMAINDER
 3902 05511 1076          TAD     NUMHO+2         /LOW ORDER RESTORE
 3903 05512 3075          DCA     NUMHO+1
 3904 05513 2341          ISZ     PTDIGI          /COUNT THIS SUBTRACTION
 3905 05514 5277          JMP     PTIMX-2         /CONTINUE LOOP
 3906             
 3907             
 3908             
 3909 05515 2301  PTIMA,  ISZ     PTIMX           /ADVANCE TABLE FETCH
 3910 05516 2305          ISZ     PTIMX1          /ADVANCE TABLE FETCH
 3911 05517 7200          CLA                     /CLEAR OUT REMAINDER
 3912 05520 1341          TAD     PTDIGI
 3913 05521 3410          DCA I   IX1             /STORE ASCII DIGIT
 3914 05522 1342          TAD     PTCONT
 3915 05523 7450          SNA                     /TEST FOR ALL DONE
 3916 05524 5664          JMP I   PTIME           /EXIT
 3917 05525 7104          RAL CLL                 /TEST FOR COLON PRINT
 3918 05526 3342          DCA     PTCONT          /RESTORE FORMAT
 3919 05527 7430          SZL                     /PRINT COLON?
 3920 05530 5275          JMP     PTLOOP          /CONTINUE LOOP
 3921 05531 1340          TAD     PTCOLN          /ADD COLON TO OUTPUT
 3922 05532 3410          DCA I   IX1
 3923 05533 5275          JMP     PTLOOP          /CONTINUE LOOP
 3924             
 3925             
 3926             
 3927 05534 1371  PTABX,  TAD     PTAB1           /TABLE FETCH LOW
 3928 05535 1363  PTABX1, TAD     PTAB            /TABLE FETCH HIGH
 3929 05536 5200  PTFORM, 5200                    /FORMAT FOR OUTPUT
 3930 05537 0260  PT0260, 260

      /EDUSYSTEM 50 MONITOR FOR MELROSE HIGH SCHOOL #495AB               Page 94


 3931 05540 0272  PTCOLN, 272                     /ASCII COLON
 3932             
 3933 05541 0000  PTDIGI, 0                       /ASCII DIGIT BUILT HERE
 3934 05542 0000  PTCONT, 0                       /LOOP CONTROL
 3935 05543 0005  C0005,  5
 3936             
 3937             /SUBROUTINE TO SET R PRIVILEGE BIT
 3938             /SET BY R COMMAND, AND IN ADDITION K, LOGOUT, AND SYSTAT COMMANDS
 3939             /ALLOWS PRIVILEGED IOT'S; IE LOGOUT, PEEK
 3940             
 3941 05544 0000  SETPRV, 0
 3942 05545 4523          GETWRD
 3943 05546 0000          JOBSTS
 3944 05547 6211          DATFLD
 3945 05550 1156          TAD     C0400           /PRIVILEGE BIT
 3946 05551 3472          DCA I   IOTP7           /SAVE IT
 3947 05552 1343          TAD     C0005
 3948 05553 1072          TAD     IOTP7
 3949 05554 3072          DCA     IOTP7
 3950 05555 3472          DCA I   IOTP7           /CLEAR HER RESTART ADDRESS
 3951 05556 6221          CHDF
 3952 05557 5744          JMP I   SETPRV          /AND RETURN
 3953             
 3954 05560 6371  SYSM,   6371                    /SY
 3955 05561 6364          6364                    /ST
 3956 05562 4164          4164                    /AT
 3957             
 3958             
 3959             /DOUBLE PRECISION WORDS...HIGH ORDER BITS
 3960 05563 7650  PTAB,   7650                    /-TICKS PER 10 HRS
 3961 05564 7767          7767                    /-TICKS PER 1  HR
 3962 05565 7776          7776                    /-TICKS PER 10 MIN
 3963 05566 7777          7777                    /-TICKS PER 1  MIN
 3964 05567 7777          7777                    /-TICKS PER 10 SEC
 3965 05570 7777          7777                    /-TICKS PER 1  SEC
 3966             
 3967             /DOUBLE PRECISION WORDS...LOW ORDER BITS
 3968 05571 0700  PTAB1,  0700                    /-TICKS PER 10 HRS
 3969 05572 1540          1540                    /-TICKS PER 1 HR
 3970 05573 4220          4220                    /-TICKS PER 10 MIN
 3971 05574 6650          6650                    /-TICKS PER 1 MIN
 3972 05575 7634          7634                    /-TICKS PER 10 SEC
 3973 05576 7766          7766                    /-TICKS PER 1 SEC

      /EDUSYSTEM 50 MONITOR FOR MELROSE HIGH SCHOOL #495AB               Page 95


 3974             
 3975       5600          *5600
 3976             
 3977             /ROUTINE TO CONVERT CONTENTS OF AC INTO DECIMAL CHARACTER STRING
 3978             /STORE STRING USING IX1 AS BUFFER POINTER
 3979             /ONLY DECIMAL VALUES <4000 (DECIMAL) ARE VALID
 3980             
 3981 05600 0000  DECOUT, 0
 3982 05601 3250          DCA     BCDI            /SAVE VALUE
 3983 05602 1247          TAD     BCDC
 3984 05603 3213          DCA     BCDP            /RESET TABLE POINTER
 3985 05604 7146          CLL CMA RTL             /AC:=-3
 3986 05605 3074          DCA     NUMHO           /SET DIGIT COUNTER
 3987 05606 3265          DCA     JOBRES          /CLEAR OUTPUT FLAG
 3988 05607 1252          TAD     BCDT
 3989 05610 3251          DCA     BCDN            /SET MAGIC BIT
 3990 05611 1250          TAD     BCDI            /RECALL CURRENT VALUES
 3991 05612 7100          CLL
 3992 05613 1253  BCDP,   TAD     BCDTB           /SUBTRACT BIT VALUE
 3993 05614 7430          SZL                     /SKIP IF TOO LARGE
 3994 05615 3250          DCA     BCDI            /SAVE NEW VALUE
 3995 05616 7200          CLA
 3996 05617 1251          TAD     BCDN            /RECALL CONSTRUCTION WORD
 3997 05620 7004          RAL
 3998 05621 2213          ISZ     BCDP            /ADVANCE TABLE POINTER
 3999 05622 7420          SNL                     /SKIP IF CHARACTER ASSEMBLED
 4000 05623 5210          JMP     BCDP-3          /KEEP AT IT
 4001 05624 3251          DCA     BCDN            /SAVE CURRENT ASSEMBLY WORD
 4002 05625 1251          TAD     BCDN
 4003 05626 0246          AND     DEC17           /MASK OUT BCD CHARACTER
 4004 05627 7440          SZA                     /ZERO SUPPRESSION?
 4005 05630 5234          JMP     .+4             /NON ZERO- PROCEED
 4006 05631 1265          TAD     JOBRES          /PRECEDING OUTPUT?
 4007 05632 7650          SNA CLA
 4008 05633 5237          JMP     .+4             /NO; DON'T TYPE THE 0
 4009 05634 1245          TAD     DEC260
 4010 05635 3410          DCA I   IX1             /STORE IN BUFFER
 4011 05636 2265          ISZ     JOBRES          /SET OUTPUT FLAG
 4012 05637 2074          ISZ     NUMHO           /3 DIGITS ASSEMBLED?
 4013 05640 5211          JMP     BCDP-2          /NO, REPEAT
 4014 05641 1250          TAD     BCDI            /NOW GET LAST DIGIT
 4015 05642 1245          TAD     DEC260          /CONVERT TO ASCII
 4016 05643 3410          DCA I   IX1             /STORE IN BUFFER
 4017 05644 5600          JMP I   DECOUT          /RETURN
 4018             
 4019 05645 0260  DEC260, 260
 4020 05646 0017  DEC17,  17
 4021 05647 1253  BCDC,   TAD     BCDTB
 4022 05650 0000  BCDI,   0
 4023 05651 0000  BCDN,   0
 4024 05652 2104  BCDT,   2104                    /MAGIC BITS
 4025 05653 4060  BCDTB,  -3720                   /-2000 DECIMAL
 4026 05654 6030          -1750                   /-1000 DECIMAL
 4027 05655 6340          -1440                   /-800
 4028 05656 7160          -0620                   /-400
 4029 05657 7470          -0310                   /-200
 4030 05660 7634          -0144                   /-100

      /EDUSYSTEM 50 MONITOR FOR MELROSE HIGH SCHOOL #495AB               Page 96


 4031 05661 7660          -0120                   /-80
 4032 05662 7730          -0050                   /-40
 4033 05663 7754          -0024                   /-20
 4034 05664 7766          -0012                   /-10
 4035             
 4036             
 4037             /ROUTINE TO RESTORE JOBDAT IF IT HAS BEEN KLUGED
 4038             
 4039 05665 0000  JOBRES, 0
 4040 05666 1053          TAD     SIJOB
 4041 05667 7450          SNA                     /IS HE LOGGED IN?
 4042 05670 5277          JMP     .+7             /NO; JOBDAT IS NOT RELEVANT
 4043 05671 6211          DATFLD                  /YES
 4044 05672 1044          TAD     JOBTBA          /START OF JOBTBL
 4045 05673 3072          DCA     IOTP7
 4046 05674 1472          TAD I   IOTP7
 4047 05675 3561          DCA I   JOBDAT          /NOW JOB AND JOBDAT AGREE
 4048 05676 6221          CHDF
 4049 05677 5665          JMP I   JOBRES          /RETURN

      /EDUSYSTEM 50 MONITOR FOR MELROSE HIGH SCHOOL #495AB               Page 97


 4050             
 4051             /ROUTINE TO SEE IF A CONSOLE IS "ACTIVE"
 4052             /ACTIVE IS DEFINED AS HAVING A NONZERO
 4053             /FILL OR EMPTY POINTER ON INPUT OR OUTPUT SIDES
 4054             /CALL   TAD DEVTBL POINTER
 4055             /       JMS TALK1
 4056             /       RETURN IF ACTIVE
 4057             /       RETURN IF NOT ACTIVE
 4058             /       IF INPUT DDB DOES NOT EXIST, CONSOLE IS INACTIVE
 4059             
 4060 05700 0000  TALK1,  0
 4061 05701 3065          DCA     IOTP2           /DEVTBL POINTER
 4062 05702 6211          DATFLD
 4063 05703 1465          TAD I   IOTP2           /DDB ADDRESS
 4064 05704 7450          SNA                     /EXISTING?
 4065 05705 5313          JMP     TALK12          /NOT YET
 4066 05706 1034          TAD     C0004
 4067 05707 3065          DCA     IOTP2           /POINTS TO FILL PTR
 4068 05710 1465          TAD I   IOTP2           /FILL PTR
 4069 05711 7640          SZA CLA                 / =0?
 4070 05712 5315          JMP     TALK13          /NO - SEE IF HE IS UNDER A PRIVILEGED ACCOUNT
 4071 05713 2300  TALK12, ISZ     TALK1           /YES; CONSOLE IS THUS INACTIVE
 4072 05714 5700          JMP I   TALK1           /RETURN
 4073             
 4074 05715 6221  TALK13, CHDF
 4075 05716 4523          GETWRD
 4076 05717 0000          JOBSTS
 4077 05720 0015          AND     C0200
 4078 05721 7640          SZA CLA
 4079 05722 5313          JMP     TALK12          /HE IS - LET HER DO THE TALK
 4080 05723 5700          JMP I   TALK1
 4081             
 4082 05724 0000  ACTNM1, 0
 4083 05725 4523          GETWRD                  /CHECK ACCOUNT #
 4084 05726 0016          JOBACC
 4085 05727 1136          TAD     P7777
 4086 05730 7112          CLL RTR                 /ALLOW EITHER ACCOUNT 1 OR ACCOUNT 3; NOONE ELSE!!!!
 4087 05731 7640          SZA CLA
 4088 05732 5505          JMP I   COMERA          /NOT ACCOUNT #; ERROR
 4089 05733 5724          JMP I   ACTNM1

      /EDUSYSTEM 50 MONITOR FOR MELROSE HIGH SCHOOL #495AB               Page 98


 4090             
 4091 05734 0314  COMLGM, 314                     /L
 4092 05735 0317          317                     /O
 4093 05736 0307          307                     /G
 4094 05737 0311          311                     /I
 4095 05740 0316          316                     /N
 4096 05741 0240          240
 4097 05742 0320          320                     /P
 4098 05743 0314          314                     /L
 4099 05744 0305          305                     /E
 4100 05745 0301          301                     /A
 4101 05746 0323          323                     /S
 4102 05747 0305          305                     /E
 4103 05750 0000          0
 4104 05751 0311  ILLREQ, 311                     /I
 4105 05752 0314          314                     /L
 4106 05753 0314          314                     /L
 4107 05754 0305          305                     /E
 4108 05755 0307          307                     /G
 4109 05756 0301          301                     /A
 4110 05757 0314          314                     /L
 4111 05760 0240          240
 4112 05761 0322          322                     /R
 4113 05762 0305          305                     /E
 4114 05763 0321          321                     /Q
 4115 05764 0325          325                     /U
 4116 05765 0305          305                     /E
 4117 05766 0323          323                     /S
 4118 05767 0324          324                     /T
 4119 05770 0215          215
 4120 05771 0212          212
 4121 05772 0000          0
 4122 05773 0277  QQEST,  277                     /?
 4123 05774 0277          277                     /?
 4124 05775 0000          0
 4125 05776 0256  PERIOD, 256                     /.
 4126 05777 0000          0

      /EDUSYSTEM 50 MONITOR FOR MELROSE HIGH SCHOOL #495AB               Page 99


 4127             
 4128       6000  *CTABLE
 4129             
 4130 06000 0000          0
 4131 06001 0000  COMBUF, 0
 4132 06002 0000          0
 4133 06003 0000          0
 4134 06004 0000          0
 4135 06005 0000          0
 4136 06006 0000          0
 4137 06007 0000          0
 4138 06010 0000          0
 4139 06011 0000          0
 4140 06012 0000          0
 4141 06013 0000          0
 4142 06014 0000          0
 4143             
 4144             
 4145       1440  FIPFLS=PRPER+USAVE+UREST
 4146             
 4147 06015 6026  COMTBL, CL1                     /LOGIN O1 S1;
 4148 06016 4060          NOLOG+PRPER+PRCRLF      /IOTP2:=O1      ACCOUNT #
 4149 06017 0214          LIN                     /IOTP3-4:=S1    PASSWORD
 4150 06020 3134          LOGIN                   /RESP: VERSION #        HR:MIN
 4151 06021 7464          -314                    /.
 4152 06022 7461          -317
 4153 06023 7471          -307
 4154 06024 7467          -311
 4155 06025 7462          -316
 4156 06026 6040  CL1,    CL2                     /LOGOUT;
 4157 06027 2002          USERM+2                 /RESP: .
 4158 06030 0201          OPEN                    /.
 4159 06031 2367          LOGOUT
 4160 06032 7464          -314
 4161 06033 7461          -317
 4162 06034 7471          -307
 4163 06035 7461          -317
 4164 06036 7453          -325
 4165 06037 7454          -324
 4166 06040 6050  CL2,    CL3                     /TIME;
 4167 06041 4060          NOLOG+PRPER+PRCRLF      /RESP:  HR:MIN
 4168 06042 0000          0                       /.
 4169 06043 5403          TIME
 4170 06044 7454          -324
 4171 06045 7467          -311
 4172 06046 7463          -315
 4173 06047 7473          -305
 4174 06050 6062  CL3,    CL4                     /ASSIGN L1 O1;
 4175 06051 1442          FIPFLS+2                /AC0-5:=DEVICE # OF L1
 4176 06052 0040          ASD                     /AC6-11:=O1     UNIT #
 4177 06053 3414          ASSIGN                  /ERROR: AC NOT 0
 4178 06054 7477          -301                    /RESP:
 4179 06055 7455          -323                    /.
 4180 06056 7455          -323
 4181 06057 7467          -311
 4182 06060 7471          -307
 4183 06061 7462          -316

      /EDUSYSTEM 50 MONITOR FOR MELROSE HIGH SCHOOL #495AB              Page 100


 4184 06062 6075  CL4,    CL5                     /RELEASE L1 O1;
 4185 06063 1442          FIPFLS+2                /SAME AS ASSIGN
 4186 06064 0042          REL
 4187 06065 3552          RELEAS
 4188 06066 7456          -322
 4189 06067 7473          -305
 4190 06070 7464          -314
 4191 06071 7473          -305
 4192 06072 7477          -301
 4193 06073 7455          -323
 4194 06074 7473          -305
 4195 06075 6105  CL5,    CL7                     /TALK C1 S1
 4196 06076 4060          NOLOG+PRPER+PRCRLF      /C1=CONSOLE TO TALK TO
 4197 06077 0000          0                       /S1=MESSAGE TO TRANSMIT
 4198 06100 6640          TALK                    /RESP: BUSY IF TARGET TTY IS ACTIVE
 4199 06101 7454          -"T                     /      OTHERWISE CRLF
 4200 06102 7477          -"A
 4201 06103 7464          -"L
 4202 06104 7465          -"K
 4203 06105 6115  CL7,    CL8                     /OPEN O1 S1 O2;
 4204 06106 1442          FIPFLS+2                /IOTP1:=O1      INTERNAL FILE #
 4205 06107 0201          OPEN                    /IOTP2:=O2      ACCOUNT #
 4206 06110 3621          FOPEN                   /IOTP3-5:=S1    FILE NAME
 4207 06111 7461          -317                    /ERROR: AC NOT 0
 4208 06112 7460          -320                    /RESP:
 4209 06113 7473          -305                    /.
 4210 06114 7462          -316
 4211 06115 6126  CL8,    CL9                     /CLOSE S1;
 4212 06116 1442          FIPFLS+2                /ACI:=1 I=0,1,2,3
 4213 06117 0202          CLOS                    /ERROR: AC NOT 0
 4214 06120 3656          CLOSE                   /RESP:
 4215 06121 7475          -303                    /.
 4216 06122 7464          -314
 4217 06123 7461          -317
 4218 06124 7455          -323
 4219 06125 7473          -305
 4220 06126 6140  CL9,    CL10                    /CREATE S1;
 4221 06127 1442          FIPFLS+2                /IOTP1-3:=S1    FILE NAME
 4222 06130 0210          CRF                     /ERROR: AC NOT 0
 4223 06131 3706          CREATE                  /RESP:
 4224 06132 7475          -303                    /.
 4225 06133 7456          -322
 4226 06134 7473          -305
 4227 06135 7477          -301
 4228 06136 7454          -324
 4229 06137 7473          -305
 4230 06140 6152  CL10,   CL12                    /RENAME O1 S1;
 4231 06141 1442          FIPFLS+2                /IOTP1:=O1      INTERNAL FILE #
 4232 06142 0200          REN                     /IOTP2-4:=S1    NEW NAME
 4233 06143 3725          RENAME                  /ERROR: AC NOT 0
 4234 06144 7456          -322                    /RESP;
 4235 06145 7473          -305                    /.
 4236 06146 7462          -316
 4237 06147 7477          -301
 4238 06150 7463          -315
 4239 06151 7473          -305
 4240 06152 6164  CL12,   CL13                    /REDUCE O1 D1;

      /EDUSYSTEM 50 MONITOR FOR MELROSE HIGH SCHOOL #495AB              Page 101


 4241 06153 1442          FIPFLS+2                /IOTP1:=O1      INTERNAL FILE #
 4242 06154 0212          RED                     /IOTP2:=D1      # SEGMENTS TO REMOVE
 4243 06155 3741          REDUCE                  /ERROR: AC NOT 0
 4244 06156 7456          -322                    /RESP:
 4245 06157 7473          -305                    /.
 4246 06160 7474          -304
 4247 06161 7453          -325
 4248 06162 7475          -303
 4249 06163 7473          -305
 4250 06164 6176  CL13,   CL14                    /EXTEND O1 D1;
 4251 06165 1442          FIPFLS+2                /SAME AS REDUCE
 4252 06166 0211          EXT
 4253 06167 3741          EXTEND
 4254 06170 7473          -305
 4255 06171 7450          -330
 4256 06172 7454          -324
 4257 06173 7473          -305
 4258 06174 7462          -316
 4259 06175 7474          -304
 4260 06176 6211  CL14,   CL15                    /PROTECT O1 O2;
 4261 06177 1442          FIPFLS+2                /AC5-6:=O1      INTERNAL FILE #
 4262 06200 0204          PROT                    /AC7-11:=O2     NEW PROTECTION
 4263 06201 3756          PROTEC                  /ERROR: AC NOT 0
 4264 06202 7460          -320                    /RESP:
 4265 06203 7456          -322                    /.
 4266 06204 7461          -317
 4267 06205 7454          -324
 4268 06206 7473          -305
 4269 06207 7475          -303
 4270 06210 7454          -324
 4271 06211 6216  CL15,   CL17                    /F O1;
 4272 06212 1443          FIPFLS+3                /IOTP1:=O1      INTERNAL FILE #
 4273 06213 6613          FINF                    /ERROR: AC NOT 0
 4274 06214 4404          F                       /RESP:  ACCT #  FILE NAME       PROT    SIZE
 4275 06215 7472          -306                    /.
 4276 06216 6226  CL17,   CL18                    /SAVE S1 O1 O2 O3;
 4277 06217 3442          USAVE+UREST+PRPER+2+USERM
 4278 06220 0201          OPEN
 4279 06221 4732          SAVE
 4280 06222 7455          -323
 4281 06223 7477          -301
 4282 06224 7452          -326
 4283 06225 7473          -305
 4284 06226 6236  CL18,   CL19                    /LOAM0G1 S1 O2 O3 O4
 4285 06227 3442          USAVE+UREST+PRPER+USERM+2
 4286 06230 0201          OPEN
 4287 06231 5011          LOAD
 4288 06232 7464          -314
 4289 06233 7461          -317
 4290 06234 7477          -301
 4291 06235 7474          -304
 4292 06236 6247  CL19,   CL20                    /START O1;
 4293 06237 0000          0
 4294 06240 0001          1                       /FORCE IT THROUGH "FIPCHK"
 4295 06241 4004          START
 4296 06242 7455          -323
 4297 06243 7454          -324

      /EDUSYSTEM 50 MONITOR FOR MELROSE HIGH SCHOOL #495AB              Page 102


 4298 06244 7477          -301
 4299 06245 7456          -322
 4300 06246 7454          -324
 4301 06247 6254  CL20,   CL21                    /S;
 4302 06250 0040          PRPER
 4303 06251 0000          0
 4304 06252 2324          S
 4305 06253 7455          -323
 4306 06254 6265  CL21,   CL22                    /WHERE;
 4307 06255 0043          PRPER+3
 4308 06256 0000          0
 4309 06257 4070          WHERE
 4310 06260 7451          -327
 4311 06261 7470          -310
 4312 06262 7473          -305
 4313 06263 7456          -322
 4314 06264 7473          -305
 4315 06265 6275  CL22,   CL23                    /USER O1;
 4316 06266 4043          NOLOG+PRPER+3
 4317 06267 0000          0
 4318 06270 4500          USER
 4319 06271 7453          -325
 4320 06272 7455          -323
 4321 06273 7473          -305
 4322 06274 7456          -322
 4323 06275 6307  CL23,   CL29                    /SWITCH O1;
 4324 06276 0040          PRPER
 4325 06277 0000          0
 4326 06300 0514          SWITCH
 4327 06301 7455          -323
 4328 06302 7451          -327
 4329 06303 7467          -311
 4330 06304 7454          -324
 4331 06305 7475          -303
 4332 06306 7470          -310
 4333 06307 6321  CL29,   CL32                    /DUPLEX;
 4334 06310 0060          PRPER+PRCRLF
 4335 06311 0000          0
 4336 06312 7250          DUPLEX
 4337 06313 7474          -304
 4338 06314 7453          -325
 4339 06315 7460          -320
 4340 06316 7464          -314
 4341 06317 7473          -305
 4342 06320 7450          -330

      /EDUSYSTEM 50 MONITOR FOR MELROSE HIGH SCHOOL #495AB              Page 103


 4343             
 4344 06321 6326  CL32,   CL33                    /R S1 O1
 4345 06322 2002          USERM+2                 /S1=FILE NAME
 4346 06323 0201          OPEN                    /O1=STARTING ADDRESS;  0000 IF OMITTED
 4347 06324 4620          R
 4348 06325 7456          -322
 4349 06326 6335  CL33,   CL34                    /RUN C1 S1 O1
 4350 06327 2002          USERM+2                 /C1=ACCOUNT OF FILE OWNER (OPTIONAL)
 4351 06330 0201          OPEN                    /S1=FILE NAME
 4352 06331 4613          RUN                     /O1=STARTING ADDRESS; 0000 IF OMITTED
 4353 06332 7456          -322
 4354 06333 7453          -325
 4355 06334 7462          -316
 4356 06335 6347  CL34,   CL35                    /EXAMINE C1 D1
 4357 06336 2041          PRPER+USERM+1           /C1=STARTING ADDRESS
 4358 06337 6603          DMAR
 4359 06340 5316          EXAMIN                  /D1=# OF LOCATIONS TO EXAMINE
 4360 06341 7473          -305
 4361 06342 7450          -330
 4362 06343 7477          -301
 4363 06344 7463          -315
 4364 06345 7467          -311
 4365 06346 7462          -316
 4366 06347 6361  CL35,   CL36                    /DEPOSIT C1 C2 C3 ... C13
 4367 06350 2041          PRPER+USERM+1           /C1=STARTING ADDRESS
 4368 06351 6605          DMAW                    /C2,...,C13=NEW VALUES
 4369 06352 5202          DEPOSI
 4370 06353 7474          -304
 4371 06354 7473          -305
 4372 06355 7460          -320
 4373 06356 7461          -317
 4374 06357 7455          -323
 4375 06360 7467          -311                    /no ending T???  PROTECT has one!
 4376 06361 6373  CL36,   CL37                    /VERSION
 4377 06362 4060          NOLOG+PRPER+PRCRLF      /RESP: TSS8/.C1
 4378 06363 0000          0
 4379 06364 3113          VERSIN                  /C1=VERSION #
 4380 06365 7452          -326
 4381 06366 7473          -305
 4382 06367 7456          -322
 4383 06370 7455          -323
 4384 06371 7467          -311
 4385 06372 7461          -317
 4386 06373 6404  CL37,   CL38                    /BREAK O1
 4387 06374 0060          PRPER+PRCRLF
 4388 06375 0000          0
 4389 06376 0524          BREAK
 4390 06377 7476          -"B
 4391 06400 7456          -"R
 4392 06401 7473          -"E
 4393 06402 7477          -"A
 4394 06403 7465          -"K
 4395             
 4396 06404 6416  CL38,   CL39                    /RESTART O1
 4397 06405 0040          PRPER
 4398 06406 0000          0
 4399 06407 0515          RESTRT

      /EDUSYSTEM 50 MONITOR FOR MELROSE HIGH SCHOOL #495AB              Page 104


 4400 06410 7456          -"R
 4401 06411 7473          -"E
 4402 06412 7455          -"S
 4403 06413 7454          -"T
 4404 06414 7477          -"A
 4405 06415 7456          -"R
 4406 06416 6430  CL39,   CL40                    /UNDUPLEX
 4407 06417 0060          PRPER+PRCRLF
 4408 06420 0000          0
 4409 06421 7251          UNDUPL
 4410 06422 7453          -"U
 4411 06423 7462          -"N
 4412 06424 7474          -"D
 4413 06425 7453          -"U
 4414 06426 7460          -"P
 4415 06427 7464          -"L
 4416 06430 6442  CL40,   CL41                    /SYSTAT
 4417 06431 2002          USERM+2
 4418 06432 0201          OPEN
 4419 06433 4711          SYSTAT
 4420 06434 7455          -"S
 4421 06435 7447          -"Y
 4422 06436 7455          -"S
 4423 06437 7454          -"T
 4424 06440 7477          -"A
 4425 06441 7454          -"T
 4426 06442 6452  CL41,   CL42                    /KJOB
 4427 06443 2002          USERM+2                 /EQUIVALENT TO .R LOGOUT
 4428 06444 0201          OPEN
 4429 06445 2367          LOGOUT
 4430 06446 7465          -"K
 4431 06447 7466          -"J
 4432 06450 7461          -"O
 4433 06451 7476          -"B
 4434 06452 6464  CL42,   CL43                    /BROADCAST S1
 4435 06453 0067          PRPER+PRCRLF+7          /SEND MESSAGE TO ALL CONSOLES
 4436 06454 0000          0                       /MUST BE LOGGED IN AS ACCT 1 OR 3
 4437 06455 4332          BROAD
 4438 06456 7476          -"B
 4439 06457 7456          -"R
 4440 06460 7461          -"O
 4441 06461 7477          -"A
 4442 06462 7474          -"D
 4443 06463 7475          -"C
 4444 06464 6475  CL43,   CL44                    /FORCE C1 S1
 4445 06465 0067          PRPER+PRCRLF+7          /FORCE STRING S1 INTO INPUT BUFFER OF CONSOLE C1
 4446 06466 0000          0                       /USER MUST BE LOGGED IN AS ACCT 1 OR 3
 4447 06467 4240          FORSE                   /ANY "LETTER" PRECEEDED BY "^" WILL BECOME A CONTROL CHARACTER
 4448 06470 7472          -"F                     /"^S", "^Q", "^B" OR "^C" ARE THE MOST USEFUL
 4449 06471 7461          -"O
 4450 06472 7456          -"R
 4451 06473 7475          -"C
 4452 06474 7473          -"E
 4453 06475 6503  CL44,   CL45                    /ON LINE
 4454 06476 0060          PRPER+PRCRLF
 4455 06477 0000          0
 4456 06500 1173          ON

      /EDUSYSTEM 50 MONITOR FOR MELROSE HIGH SCHOOL #495AB              Page 105


 4457 06501 7461          -"O
 4458 06502 7462          -"N
 4459 06503 6512  CL45,   CL46                    /OFFLINE
 4460 06504 0060          PRPER+PRCRLF
 4461 06505 0000          0
 4462 06506 1172          OFFLIN
 4463 06507 7461          -"O
 4464 06510 7472          -"F
 4465 06511 7472          -"F
 4466 06512 0000  CL46,   0

      /EDUSYSTEM 50 MONITOR FOR MELROSE HIGH SCHOOL #495AB              Page 106


 4467             
 4468 06513 0325  UNACCT, 325                     /U
 4469 06514 0316          316                     /N
 4470 06515 0301          301                     /A
 4471 06516 0325          325                     /U
 4472 06517 0324          324                     /T
 4473 06520 0310          310                     /H
 4474 06521 0317          317                     /O
 4475 06522 0322          322                     /R
 4476 06523 0311          311                     /I
 4477 06524 0332          332                     /Z
 4478 06525 0305          305                     /E
 4479 06526 0304          304                     /D
 4480 06527 0240          240
 4481 06530 0301          301                     /A
 4482 06531 0303          303                     /C
 4483 06532 0303          303                     /C
 4484 06533 0317          317                     /O
 4485 06534 0325          325                     /U
 4486 06535 0316          316                     /N
 4487 06536 0324          324                     /T
 4488 06537 0240          240
 4489 06540 0000          0
 4490             
 4491 06541 0306  LOGE1,  306                     /FULL
 4492 06542 0325          325
 4493 06543 0314          314
 4494 06544 0314          314
 4495 06545 0000          0
 4496             
 4497 06546 0240  WHERPC, 240                     /SP PC=
 4498 06547 0320          320
 4499 06550 0303          303
 4500 06551 0275          275
 4501 06552 0000          0
 4502 06553 0240  WHERAC, 240                     /SP SP AC=
 4503 06554 0240          240
 4504 06555 0301          301
 4505 06556 0303          303
 4506 06557 0275          275
 4507 06560 0000          0
 4508 06561 0215  WHERSW, 215                     /CR LF SW=
 4509 06562 0212          212
 4510 06563 0240          240
 4511 06564 0323          323
 4512 06565 0327          327
 4513 06566 0275          275
 4514 06567 0000          0
 4515             
 4516 06570 0324  TYCRLB, "T;"Y;"P;"E;240;"^;"B;"S;240;"F;"I;"R;"S;"T;215;212;0
      06571 0331
      06572 0320
      06573 0305
      06574 0240
      06575 0336
      06576 0302
      06577 0323

      /EDUSYSTEM 50 MONITOR FOR MELROSE HIGH SCHOOL #495AB              Page 107


      06600 0240
      06601 0306
      06602 0311
      06603 0322
      06604 0323
      06605 0324
      06606 0215
      06607 0212
      06610 0000
 4517 06611 0304  NONSUC, "D;"E;"V;"I;"C;"E;240;;"N;"O;"T;240;"A;"V;"A;"I;"L;"A;"B;"L;"E
      06612 0305
      06613 0326
      06614 0311
      06615 0303
      06616 0305
      06617 0240
      06620 0316
      06621 0317
      06622 0324
      06623 0240
      06624 0301
      06625 0326
      06626 0301
      06627 0311
      06630 0314
      06631 0301
      06632 0302
      06633 0314
      06634 0305
 4518 06635 0215  CRLF,   215
 4519 06636 0212          212
 4520 06637 0000          0

      /EDUSYSTEM 50 MONITOR FOR MELROSE HIGH SCHOOL #495AB              Page 108


 4521             
 4522 06640 4503  TALK,   ENDTST                  /END OF COMMAND
 4523 06641 5505          JMP I   COMERA          /YES
 4524 06642 4501          NUMBIN                  /GET CONSOLE #
 4525 06643 7511          -267
 4526 06644 5327          JMP     TALK6           /IGNORE "K"
 4527 06645 7510  TALK7,  SPA
 4528 06646 7041          CIA                     /MAKE SURE IT'S POSITIVE
 4529 06647 3063          DCA     IOTP0
 4530 06650 1063          TAD     IOTP0           /VALIDITY CHECK
 4531 06651 1353          TAD     TALKMX          /-HIGHEST CONSOLE #
 4532 06652 7700          SMA CLA
 4533 06653 5505          JMP I   COMERA
 4534 06654 1063          TAD     IOTP0
 4535 06655 7104          CLL RAL
 4536 06656 1163          TAD     DEVTBA          /POINTER TO DEVTBL
 4537 06657 3067          DCA     IOTP4
 4538 06660 1067          TAD     IOTP4
 4539 06661 4752          JMS I   TALK1A          /INPUT SIDE INACTIVE?
 4540 06662 5325          JMP     TALKNO          /NO
 4541 06663 2067          ISZ     IOTP4           /POINTS TO OUTPUT SIDE
 4542 06664 1067          TAD     IOTP4
 4543 06665 4752          JMS I   TALK1A          /OUTPUT SIDE INACTIVE?
 4544 06666 5325          JMP     TALKNO          /NO
 4545 06667 6201          CDF                     /GET # OF CALLING CONSOLE
 4546 06670 1420          TAD I   COMPTR
 4547 06671 1324          TAD     TALKXX
 4548 06672 7110          CLL RAR
 4549 06673 6221          CHDF
 4550 06674 4524          OCTASC
 4551 06675 6000          COMBUF-1                /AND PUT IN COMBUF
 4552 06676 4337          JMS     TALK5           /"CRLF** K"
 4553 06677 6757          TALKM1
 4554 06700 4337          JMS     TALK5           /"MM"
 4555 06701 6003          COMBUF+2
 4556 06702 1053          TAD     SIJOB
 4557 06703 7450          SNA
 4558 06704 5310          JMP     .+4
 4559 06705 4723          JMS I   TALKAC
 4560 06706 4337          JMS     TALK5           /OUTPUT HER ACCOUNT NUMBER
 4561 06707 0673          ACCBUF
 4562 06710 4337          JMS     TALK5           /" ** "
 4563 06711 7540          TALKM2
 4564 06712 3074          DCA     NUMHO           /MAKE CHAR,NUMHO TWO WORD VECTOR
 4565 06713 4337  TALK2,  JMS     TALK5           /PUT CHAR IN DESTINATION BUFFER
 4566 06714 0073          CHAR
 4567 06715 4504          COMGET                  /GET NEXT CHARACTER
 4568 06716 5320          JMP     TALK4           /END OF MESSAGE
 4569 06717 5313          JMP     TALK2
 4570             
 4571 06720 4337  TALK4,  JMS     TALK5
 4572 06721 6635          CRLF
 4573 06722 5506          JMP I   COMEXA
 4574             
 4575 06723 0750  TALKAC, GETACC
 4576 06724 4760  TALKXX, -DEVTBL
 4577 06725 1350  TALKNO, TAD     TABSYM          /"BUSY"

      /EDUSYSTEM 50 MONITOR FOR MELROSE HIGH SCHOOL #495AB              Page 109


 4578 06726 5506          JMP I   COMEXA
 4579             
 4580             
 4581             
 4582 06727 1073  TALK6,  TAD     CHAR            /WAS IT A K?
 4583 06730 1336          TAD     TALKMK
 4584 06731 7640          SZA CLA
 4585 06732 5245          JMP     TALK7           /NO, ASSUME OPR
 4586 06733 1351          TAD     TALKZE          /MAKE CHARACTER A "0"
 4587 06734 3073          DCA     CHAR
 4588 06735 5242          JMP     TALK+2
 4589             
 4590 06736 7465  TALKMK, -"K
 4591             
 4592             
 4593 06737 0000  TALK5,  0                       /OUTPUT A CHARACTER
 4594 06740 1737          TAD I   TALK5           /BUFFER ADDRESS
 4595 06741 3344          DCA     .+3
 4596 06742 1067          TAD     IOTP4           /DEVTBL ADDRESS
 4597 06743 4502          ASCOUT
 4598 06744 0000          0
 4599 06745 5325          JMP     TALKNO          /NO ROOM...INDICATE BUSY
 4600 06746 2337          ISZ     TALK5           /SKIP ARGUMENT
 4601 06747 5737          JMP I   TALK5
 4602             
 4603 06750 6766  TABSYM, BUSY
 4604 06751 0260  TALKZE, "0
 4605 06752 5700  TALK1A, TALK1
 4606 06753 7767  TALKMX, -NULINE-1
 4607             
 4608             
 4609 06754 5457  LOGOMA, 5457                    /LO
 4610 06755 4757          4757                    /GO
 4611 06756 6564          6564                    /UT
 4612             
 4613 06757 0215  TALKM1, 215;212;"*;"*;240;"K;0
      06760 0212
      06761 0252
      06762 0252
      06763 0240
      06764 0313
      06765 0000
 4614 06766 0302  BUSY,   "B;"U;"S;"Y;0
      06767 0325
      06770 0323
      06771 0331
      06772 0000
 4615 06773 0317  OK,     "O;"K
      06774 0313
 4616 06775 0240  SPACE,  240
 4617 06776 0000          0

      /EDUSYSTEM 50 MONITOR FOR MELROSE HIGH SCHOOL #495AB              Page 110


 4618             
 4619       7000  *ERPAGE
 4620             
 4621 07000 1000  SYSDSI, DSI
 4622 07001 4072  SYSPRT, WHEPRT
 4623 07002 0773  SYDING, SYBELL
 4624 07003 3760  SY3760, 3760
 4625 07004 6572  CONCLR, SICLR
 4626 07005 4563  SYSEJN, USRPR
 4627             
 4628 07006 1053  SYSERR, TAD     SIJOB
 4629 07007 1132          TAD     TTYTBA
 4630 07010 3055          DCA     COMDB0          /POINTER TO TTYTBL
 4631 07011 6211          DATFLD
 4632 07012 1455          TAD I   COMDB0
 4633 07013 7104          CLL RAL                 /UNIT*2= POSITION IN DEVTBL
 4634 07014 1163          TAD     DEVTBA
 4635 07015 3055          DCA     COMDB0
 4636 07016 1055          TAD     COMDB0
 4637 07017 6201          CDF
 4638 07020 3420          DCA I   COMPTR
 4639 07021 3056          DCA     COMRDB
 4640 07022 6211          DATFLD
 4641 07023 1455          TAD I   COMDB0
 4642 07024 3055          DCA     COMDB0
 4643 07025 1200          TAD     SYSDSI
 4644 07026 7040          CMA
 4645 07027 0455          AND I   COMDB0
 4646 07030 1200          TAD     SYSDSI
 4647 07031 3455          DCA I   COMDB0
 4648 07032 6221          CHDF
 4649 07033 4252          JMS     SYSER0
 4650 07034 1071          TAD     IOTP6
 4651 07035 0042          AND     C0010
 4652 07036 7640          SZA CLA
 4653 07037 5602          JMP I   SYDING
 4654 07040 1071          TAD     IOTP6
 4655 07041 7710          SPA CLA
 4656 07042 4601          JMS I   SYSPRT
 4657 07043 4502          ASCOUT
 4658 07044 6635          CRLF
 4659 07045 7000          NOP
 4660 07046 4502          ASCOUT
 4661 07047 5776          PERIOD
 4662 07050 7000          NOP
 4663 07051 5522          EXIT
 4664             
 4665 07052 0000  SYSER0, 0
 4666 07053 4523          GETWRD
 4667 07054 0000          JOBSTS
 4668 07055 0035          AND     C0007
 4669 07056 1327          TAD     SYSETB
 4670 07057 3314          DCA     SYSER1
 4671 07060 6211          DATFLD
 4672 07061 1472          TAD I   IOTP7
 4673 07062 3071          DCA     IOTP6
 4674 07063 1071          TAD     IOTP6

      /EDUSYSTEM 50 MONITOR FOR MELROSE HIGH SCHOOL #495AB              Page 111


 4675 07064 0203          AND     SY3760
 4676 07065 1042          TAD     C0010
 4677 07066 3472          DCA I   IOTP7
 4678 07067 2072          ISZ     IOTP7           /POINTS TO STR1
 4679 07070 7346          CLL STA RTL
 4680 07071 0472          AND I   IOTP7
 4681 07072 3472          DCA I   IOTP7
 4682 07073 6221          CHDF
 4683 07074 1071          TAD     IOTP6
 4684 07075 0042          AND     C0010
 4685 07076 7640          SZA CLA
 4686 07077 5652          JMP I   SYSER0
 4687 07100 1714          TAD I   SYSER1
 4688 07101 3314          DCA     SYSER1
 4689 07102 4521          RESDDB
 4690 07103 6211          DATFLD
 4691 07104 3054          DCA     CHDFA
 4692 07105 1454          TAD I   CHDFA
 4693 07106 6202          CIF
 4694 07107 4604          JMS I   CONCLR                  /MAKE ROOM FOR THE ERROR MESSAGE
 4695 07110 4502          ASCOUT
 4696 07111 6635          CRLF
 4697 07112 5316          JMP     SYSER2
 4698 07113 4502          ASCOUT
 4699 07114 0000  SYSER1, 0
 4700 07115 7000          NOP
 4701 07116 4502  SYSER2, ASCOUT
 4702 07117 5364          FORJOB
 4703 07120 5326          JMP     SYSER4
 4704 07121 1053          TAD     SIJOB
 4705 07122 4605          JMS I   SYSEJN
 4706 07123 4502          ASCOUT
 4707 07124 6635          CRLF
 4708 07125 7000          NOP
 4709 07126 5652  SYSER4, JMP I   SYSER0
 4710             
 4711 07127 7130  SYSETB, .+1
 4712 07130 5773          QQEST
 4713 07131 7140          SYSET1
 4714 07132 7154          SYSET2
 4715 07133 7154          SYSET3
 4716 07134 5773          QQEST
 4717 07135 7167          SYSET5
 4718 07136 0705          SYSET6
 4719 07137 5773          QQEST
 4720             
 4721 07140 0311  SYSET1, 311                     /ILLEGAL IOT
 4722 07141 0314          314
 4723 07142 0314          314
 4724 07143 0305          305
 4725 07144 0307          307
 4726 07145 0301          301
 4727 07146 0314          314
 4728 07147 0240          240
 4729 07150 0311          311
 4730 07151 0317          317
 4731 07152 0324          324

      /EDUSYSTEM 50 MONITOR FOR MELROSE HIGH SCHOOL #495AB              Page 112


 4732 07153 0000          0
 4733             SYSET2,
 4734 07154 0323  SYSET3, 323                     /SWAP ERROR
 4735 07155 0327          327
 4736 07156 0301          301
 4737 07157 0320          320
 4738 07160 0240          240
 4739 07161 0305          305
 4740 07162 0322          322
 4741 07163 0322          322
 4742 07164 0317          317
 4743 07165 0322          322
 4744 07166 0000          0
 4745 07167 0304  SYSET5, 304                     /DISK ERROR
 4746 07170 0311          311
 4747 07171 0323          323
 4748 07172 0313          313
 4749 07173 0240          240
 4750 07174 0305          305
 4751 07175 0322          322
 4752 07176 0322          322
 4753 07177 0317          317
 4754 07200 0322          322
 4755 07201 0000          0

      /EDUSYSTEM 50 MONITOR FOR MELROSE HIGH SCHOOL #495AB              Page 113


 4756             
 4757             
 4758             /RETURN FOR FILE COMMANDS
 4759             
 4760 07202 4523  FIPEND, GETWRD
 4761 07203 0013          JOBREG+2
 4762 07204 7450          SNA
 4763 07205 5506          JMP I   COMEXA
 4764 07206 7041          CIA
 4765 07207 3064          DCA     IOTP1
 4766 07210 1350          TAD     FIPETB
 4767 07211 3010          DCA     IX1
 4768 07212 1410  FIPEN1, TAD I   IX1
 4769 07213 7450          SNA
 4770 07214 5225          JMP     FIPEN2          /NOT IN TABLE
 4771 07215 1064          TAD     IOTP1
 4772 07216 7640          SZA CLA
 4773 07217 5212          JMP     FIPEN1
 4774 07220 1010          TAD     IX1             /GET MESSAGE ADDRESS
 4775 07221 1362          TAD     FIPMTB
 4776 07222 3064          DCA     IOTP1
 4777 07223 1464          TAD I   IOTP1
 4778 07224 5505          JMP I   COMERA
 4779             
 4780 07225 4502  FIPEN2, ASCOUT
 4781 07226 6635          CRLF
 4782 07227 7000          NOP
 4783 07230 4502          ASCOUT
 4784 07231 7323          FAILBY
 4785 07232 7000          NOP
 4786 07233 1057          TAD     COMBFA
 4787 07234 3010          DCA     IX1
 4788 07235 1064          TAD     IOTP1
 4789 07236 7041          CIA
 4790 07237 4661          JMS I   FIPDEC
 4791 07240 3410          DCA I   IX1
 4792 07241 4502          ASCOUT
 4793 07242 6001          COMBUF
 4794 07243 7000          NOP
 4795 07244 4502          ASCOUT
 4796 07245 7336          SEGMTA
 4797 07246 7000          NOP
 4798 07247 5506          JMP I   COMEXA
 4799 07250 1015  DUPLEX, TAD     C0200           /DUPLEX BIT
 4800 07251 3063  UNDUPL, DCA     IOTP0
 4801 07252 6211          DATFLD
 4802 07253 1455          TAD I   COMDB0          /WORD 1 OF DDB
 4803 07254 0260          AND     P7577           /CLEAR BIT
 4804 07255 1063          TAD     IOTP0           /SET BIT
 4805 07256 3455          DCA I   COMDB0          /SAVE IT
 4806 07257 5506          JMP I   COMEXA
 4807 07260 7577  P7577,  7577
 4808             
 4809 07261 5600  FIPDEC, DECOUT

      /EDUSYSTEM 50 MONITOR FOR MELROSE HIGH SCHOOL #495AB              Page 114


 4810             
 4811 07262 0054  RKJOBA, RKJOB
 4812             
 4813 07263 1662  WAIT3,  TAD I   RKJOBA
 4814 07264 7041          CIA
 4815 07265 1053          TAD     SIJOB
 4816 07266 7650          SNA CLA                 /DOES HE OWN THE RK05 CONTROLLER?
 4817 07267 5506          JMP I   COMEXA          /YES - LET HER FINISH
 4818 07270 3472  DTSIDT, DCA I   IOTP7           /CLEAR OUT WAIT 2 MASK
 4819 07271 7344          CLL STA RAL
 4820 07272 1072          TAD     IOTP7
 4821 07273 3072          DCA     IOTP7
 4822 07274 7240          STA
 4823 07275 3472          DCA I   IOTP7           /-1 TO DEV. STATUS REG
 4824 07276 6221          CHDF
 4825 07277 4523          GETWRD
 4826 07300 0013          JOBREG+2
 4827 07301 6211          DATFLD
 4828 07302 3472          DCA I   IOTP7           /CLEAR HER AC
 4829 07303 5506          JMP I   COMEXA
 4830             
 4831 07304 0327  WAITIO, "W;"A;"I;"T;" ;"F;"O;"R;" ;"I;"/;"O;215;212;0
      07305 0301
      07306 0311
      07307 0324
      07310 0240
      07311 0306
      07312 0317
      07313 0322
      07314 0240
      07315 0311
      07316 0257
      07317 0317
      07320 0215
      07321 0212
      07322 0000
 4832 07323 0306  FAILBY, 306                     /F
 4833 07324 0301          301                     /A
 4834 07325 0311          311                     /I
 4835 07326 0314          314                     /L
 4836 07327 0305          305                     /E
 4837 07330 0304          304                     /D
 4838 07331 0240          240
 4839 07332 0302          302                     /B
 4840 07333 0331          331                     /Y
 4841 07334 0240          240
 4842 07335 0000          0
 4843             
 4844 07336 0240  SEGMTA, 240
 4845 07337 0323          323                     /S
 4846 07340 0305          305                     /E
 4847 07341 0307          307                     /G
 4848 07342 0315          315                     /M
 4849 07343 0305          305                     /E
 4850 07344 0316          316                     /N
 4851 07345 0324          324                     /T
 4852 07346 0323          323                     /S

      /EDUSYSTEM 50 MONITOR FOR MELROSE HIGH SCHOOL #495AB              Page 115


 4853 07347 0000          0
 4854             
 4855 07350 7350  FIPETB, .
 4856 07351 4000          4000                    /FILE NOT OPEN
 4857 07352 4400          4400                    /FILE IN USE
 4858 07353 5000          5000                    /DIRECTORY FULL
 4859 07354 5400          5400                    /BAD DIRECTORY
 4860 07355 6000          6000                    /PROTECTION VIOLATION
 4861 07356 6400          6400                    /BAD FILE NAME
 4862 07357 7000          7000                    /FILE NOT FOUND
 4863 07360 7400          7400                    /DISK FULL
 4864 07361 0000          0
 4865 07362 0012  FIPMTB, .-FIPETB
 4866 07363 7510          FM4000
 4867 07364 7430          FM4400
 4868 07365 7444          FM5000
 4869 07366 0563          FM5400
 4870 07367 7463          FM6000
 4871 07370 7373          FM6400
 4872 07371 7411          FM7000
 4873 07372 7526          FM7400
 4874             
 4875 07373 0302  FM6400, "B;"A;"D;240;"F;"I;"L;"E;240;"N;"A;"M;"E;0
      07374 0301
      07375 0304
      07376 0240
      07377 0306
      07400 0311
      07401 0314
      07402 0305
      07403 0240
      07404 0316
      07405 0301
      07406 0315
      07407 0305
      07410 0000
 4876             
 4877 07411 0306  FM7000, 306
 4878 07412 0311          311
 4879 07413 0314          314
 4880 07414 0305          305
 4881 07415 0240          240
 4882 07416 0316          316
 4883 07417 0317          317
 4884 07420 0324          324
 4885 07421 0240          240
 4886 07422 0306          306
 4887 07423 0317          317
 4888 07424 0325          325
 4889 07425 0316          316
 4890 07426 0304          304
 4891 07427 0000          0
 4892 07430 0306  FM4400, 306
 4893 07431 0311          311
 4894 07432 0314          314
 4895 07433 0305          305
 4896 07434 0240          240

      /EDUSYSTEM 50 MONITOR FOR MELROSE HIGH SCHOOL #495AB              Page 116


 4897 07435 0311          311
 4898 07436 0316          316
 4899 07437 0240          240
 4900 07440 0325          325
 4901 07441 0323          323
 4902 07442 0305          305
 4903 07443 0000          0
 4904 07444 0304  FM5000, 304
 4905 07445 0311          311
 4906 07446 0322          322
 4907 07447 0305          305
 4908 07450 0303          303
 4909 07451 0324          324
 4910 07452 0317          317
 4911 07453 0322          322
 4912 07454 0331          331
 4913 07455 0240          240
 4914 07456 0306          306
 4915 07457 0325          325
 4916 07460 0314          314
 4917 07461 0314          314
 4918 07462 0000          0
 4919 07463 0320  FM6000, 320
 4920 07464 0322          322
 4921 07465 0317          317
 4922 07466 0324          324
 4923 07467 0305          305
 4924 07470 0303          303
 4925 07471 0324          324
 4926 07472 0311          311
 4927 07473 0317          317
 4928 07474 0316          316
 4929 07475 0240          240
 4930 07476 0326          326
 4931 07477 0311          311
 4932 07500 0317          317
 4933 07501 0314          314
 4934 07502 0301          301
 4935 07503 0324          324
 4936 07504 0311          311
 4937 07505 0317          317
 4938 07506 0316          316
 4939 07507 0000          0
 4940 07510 0306  FM4000, 306
 4941 07511 0311          311
 4942 07512 0314          314
 4943 07513 0305          305
 4944 07514 0240          240
 4945 07515 0316          316
 4946 07516 0317          317
 4947 07517 0324          324
 4948 07520 0240          240
 4949 07521 0317          317
 4950 07522 0320          320
 4951 07523 0305          305
 4952 07524 0316          316
 4953 07525 0000          0

      /EDUSYSTEM 50 MONITOR FOR MELROSE HIGH SCHOOL #495AB              Page 117


 4954 07526 0304  FM7400, 304
 4955 07527 0311          311
 4956 07530 0323          323
 4957 07531 0313          313
 4958 07532 0240          240
 4959 07533 0306          306
 4960 07534 0325          325
 4961 07535 0314          314
 4962 07536 0314          314
 4963 07537 0000          0
 4964 07540 0240  TALKM2, 240;"*;"*;215;212;0
      07541 0252
      07542 0252
      07543 0215
      07544 0212
      07545 0000
 4965 07546 0215  VERSIM, 215;212;"T;"S;"S;"/;"8;".;"2;"4;"+;207;240;240;0
      07547 0212
      07550 0324
      07551 0323
      07552 0323
      07553 0257
      07554 0270
      07555 0256
      07556 0262
      07557 0264
      07560 0253
      07561 0207
      07562 0240
      07563 0240
      07564 0000
 4966             
 4967       7576          *VERBRK-2
 4968 07576 0215          215
 4969 07577 0212          212
 4970             /VERBRK,
 4971 07600 0000          ZBLOCK 200              /LOGIN MESSAGE GOES HERE
      07601 0000
      07602 0000
      07603 0000
      07604 0000
      07605 0000
      07606 0000
      07607 0000
      07610 0000
      07611 0000
      07612 0000
      07613 0000
      07614 0000
      07615 0000
      07616 0000
      07617 0000
      07620 0000
      07621 0000
      07622 0000
      07623 0000
      07624 0000

      /EDUSYSTEM 50 MONITOR FOR MELROSE HIGH SCHOOL #495AB              Page 118


      07625 0000
      07626 0000
      07627 0000
      07630 0000
      07631 0000
      07632 0000
      07633 0000
      07634 0000
      07635 0000
      07636 0000
      07637 0000
      07640 0000
      07641 0000
      07642 0000
      07643 0000
      07644 0000
      07645 0000
      07646 0000
      07647 0000
      07650 0000
      07651 0000
      07652 0000
      07653 0000
      07654 0000
      07655 0000
      07656 0000
      07657 0000
      07660 0000
      07661 0000
      07662 0000
      07663 0000
      07664 0000
      07665 0000
      07666 0000
      07667 0000
      07670 0000
      07671 0000
      07672 0000
      07673 0000
      07674 0000
      07675 0000
      07676 0000
      07677 0000
      07700 0000
      07701 0000
      07702 0000
      07703 0000
      07704 0000
      07705 0000
      07706 0000
      07707 0000
      07710 0000
      07711 0000
      07712 0000
      07713 0000
      07714 0000
      07715 0000

      /EDUSYSTEM 50 MONITOR FOR MELROSE HIGH SCHOOL #495AB              Page 119


      07716 0000
      07717 0000
      07720 0000
      07721 0000
      07722 0000
      07723 0000
      07724 0000
      07725 0000
      07726 0000
      07727 0000
      07730 0000
      07731 0000
      07732 0000
      07733 0000
      07734 0000
      07735 0000
      07736 0000
      07737 0000
      07740 0000
      07741 0000
      07742 0000
      07743 0000
      07744 0000
      07745 0000
      07746 0000
      07747 0000
      07750 0000
      07751 0000
      07752 0000
      07753 0000
      07754 0000
      07755 0000
      07756 0000
      07757 0000
      07760 0000
      07761 0000
      07762 0000
      07763 0000
      07764 0000
      07765 0000
      07766 0000
      07767 0000
      07770 0000
      07771 0000
      07772 0000
      07773 0000
      07774 0000
      07775 0000
      07776 0000
      07777 0000
 4972             
 4973             

      No detected errors
